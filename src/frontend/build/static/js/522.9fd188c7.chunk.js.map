{"version":3,"file":"static/js/522.9fd188c7.chunk.js","mappings":"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","sources":["apps/trader-app/components/trader-app-navbar/navbar-text.tsx","apps/trader-app/components/trader-app-navbar/sub-menu.tsx","apps/trader-app/components/trader-app-navbar/navbar-item.tsx","visuals/svgs/house-icon.tsx","visuals/svgs/calendar-icon.tsx","visuals/svgs/notes-icon.tsx","visuals/svgs/analytics-chart-icon.tsx","visuals/svgs/settings-icon.tsx","visuals/svgs/log-out-icon.tsx","apps/trader-app/components/trader-app-navbar/const.tsx","apps/trader-app/components/trader-app-navbar/utils.ts","apps/trader-app/components/trader-app-navbar/navbar-list.tsx","apps/trader-app/components/trader-app-navbar/index.tsx","apps/trader-app/components/trader-app-container/index.tsx","apps/trader-app/components/page-container/data-status-bar.tsx","apps/trader-app/components/page-container/index.tsx","apps/trader-app/components/page-heading/index.tsx","apps/trader-app/components/account-selector/index.tsx","apps/trader-app/components/graphs/graph-heading.tsx","apps/trader-app/components/graphs/line-graph.tsx","apps/trader-app/components/graphs/bar-chart.tsx","apps/trader-app/components/graphs/graph.tsx","apps/trader-app/components/table/index.tsx","apps/trader-app/components/recalc/index.ts","apps/trader-app/components/page-still-loading/index.tsx","apps/trader-app/pages/overview/const/default-overview-calc.ts","apps/trader-app/pages/overview/overview-cards/base-card.tsx","apps/trader-app/pages/overview/overview-cards/balance-card.tsx","apps/trader-app/pages/overview/overview-cards/no-of-trades-card.tsx","apps/trader-app/pages/overview/overview-cards/win-rate-card.tsx","apps/trader-app/pages/overview/overview-cards/abs-gain-card.tsx","apps/trader-app/pages/overview/overview-cards/index.tsx","apps/trader-app/pages/overview/account-returns-graph/index.tsx","apps/trader-app/pages/overview/overview-stats/create-rows.tsx","apps/trader-app/pages/overview/overview-stats/index.tsx","apps/trader-app/pages/overview/weekly-summary/create-rows.tsx","apps/trader-app/pages/overview/weekly-summary/index.tsx","apps/trader-app/pages/overview/index.tsx","apps/trader-app/pages/cash-and-gains/cash-graph/index.tsx","apps/trader-app/pages/cash-and-gains/gains-graph/index.tsx","apps/trader-app/pages/cash-and-gains/const.ts","apps/trader-app/pages/cash-and-gains/index.tsx","apps/trader-app/pages/expenses/create-rows.tsx","apps/trader-app/pages/expenses/const.ts","apps/trader-app/pages/expenses/index.tsx","apps/trader-app/pages/long-short-analysis/long-short-comparison-table/create-rows.tsx","apps/trader-app/pages/long-short-analysis/long-short-comparison-table/index.tsx","apps/trader-app/pages/long-short-analysis/long-short-bar-graph/index.tsx","apps/trader-app/pages/long-short-analysis/long-balance-graph/index.tsx","apps/trader-app/pages/long-short-analysis/short-balance-graph/index.tsx","apps/trader-app/pages/long-short-analysis/const.ts","apps/trader-app/pages/long-short-analysis/index.tsx","apps/trader-app/pages/pairs-analysis/ave-return-per-pair-graph/index.tsx","apps/trader-app/pages/pairs-analysis/ave-rrr-per-pair-graph/index.tsx","apps/trader-app/pages/pairs-analysis/pairs-table/create-rows.tsx","apps/trader-app/pages/pairs-analysis/pairs-table/index.tsx","apps/trader-app/pages/pairs-analysis/const.ts","apps/trader-app/pages/pairs-analysis/index.tsx","apps/trader-app/pages/period-analysis/const.ts","apps/trader-app/pages/period-analysis/index.tsx","apps/trader-app/pages/time-analysis/time-analysis-graph/index.tsx","apps/trader-app/pages/time-analysis/trade-duration-table/create-rows.tsx","apps/trader-app/pages/time-analysis/trade-duration-table/index.tsx","apps/trader-app/pages/time-analysis/open-hour-table/create-rows.tsx","apps/trader-app/pages/time-analysis/open-hour-table/index.tsx","apps/trader-app/pages/time-analysis/const.ts","apps/trader-app/pages/time-analysis/index.tsx","apps/trader-app/pages/settings/email-section/index.tsx","apps/trader-app/pages/settings/change-password-section/index.tsx","apps/trader-app/pages/settings/delete-account/delete-account.tsx","apps/trader-app/pages/settings/delete-account/index.tsx","apps/trader-app/pages/settings/accounts-section/add-account-button.tsx","apps/trader-app/pages/settings/accounts-section/no-of-accounts-left-to-add-status.tsx","apps/trader-app/pages/settings/accounts-section/remove-account.ts","apps/trader-app/pages/settings/accounts-section/index.tsx","apps/trader-app/pages/settings/subscription-section/cancel-subscription.tsx","apps/trader-app/pages/settings/subscription-section/index.tsx","apps/trader-app/pages/settings/index.tsx","apps/trader-app/pages/add-account/add-account-form.tsx","apps/trader-app/pages/add-account/index.tsx","apps/trader-app/pages/subscribe-now/save-subscription-status.ts","apps/trader-app/pages/subscribe-now/base-subscription-button.tsx","apps/trader-app/pages/subscribe-now/const.ts","apps/trader-app/pages/subscribe-now/monthly-subscription-button.tsx","apps/trader-app/pages/subscribe-now/yearly-subscription-button.tsx","apps/trader-app/pages/subscribe-now/wba-subscription-button.tsx","apps/trader-app/pages/subscribe-now/index.tsx","apps/trader-app/models/utils.ts","apps/trader-app/models/global-data.ts","apps/trader-app/services/permissions.ts","apps/trader-app/models/use-global-data.ts","apps/trader-app/services/refresh-account-data.ts","apps/trader-app/services/follow-up-post-subscription-actions.tsx","apps/trader-app/index.tsx","apps/trader-app/pages/journal/index.tsx","apps/trader-app/pages/notes/models/index.tsx","apps/trader-app/pages/notes/note-list/note-list-item.tsx","apps/trader-app/pages/notes/note-list/index.tsx","apps/trader-app/pages/notes/note-editor/toolbar/text-format-buttons.tsx","apps/trader-app/pages/notes/note-editor/toolbar/align-content-buttons.tsx","apps/trader-app/pages/notes/note-editor/toolbar/undo-redo-buttons.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/list-buttons.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/insert-table-button/create-table-node.ts","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/insert-table-button/no-of-rows-input.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/insert-table-button/no-of-columns-input.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/insert-table-button/index.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/insert-image-button.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/insert-link-button.tsx","apps/trader-app/pages/notes/note-editor/toolbar/insert-content-buttons/index.tsx","apps/trader-app/pages/notes/note-editor/toolbar/headers-and-quote-buttons.tsx","apps/trader-app/pages/notes/note-editor/toolbar/index.tsx","apps/trader-app/pages/notes/note-editor/plugins/link-element.tsx","apps/trader-app/pages/notes/note-editor/plugins/td-element.tsx","apps/trader-app/pages/notes/note-editor/plugins/index.tsx","apps/trader-app/pages/notes/note-editor/title-input.tsx","apps/trader-app/pages/notes/note-editor/index.tsx","apps/trader-app/pages/notes/main-toolbar/index.tsx","apps/trader-app/pages/notes/no-notes-found.tsx","apps/trader-app/pages/notes/index.tsx","apps/trader-app/services/use-note-data.ts","apps/trader-app/services/http.ts","apps/trader-app/utils/index.ts","components/dialog/buttons.tsx","components/dialog/index.tsx","../calculator/src/cash-and-gains-calculations/cash-graph-calc.ts","../calculator/src/cash-and-gains-calculations/common-calc.ts","../calculator/src/cash-and-gains-calculations/gains-graph-calc.ts","../calculator/src/cash-and-gains-calculations/index.ts","../calculator/src/common-calc.ts","../calculator/src/expenses-calculations/expenses-table-calc.ts","../calculator/src/expenses-calculations/index.ts","../calculator/src/index.ts","../calculator/src/long-short-analysis-calculations/common-calc.ts","../calculator/src/long-short-analysis-calculations/index.ts","../calculator/src/long-short-analysis-calculations/long-balance-graph-calc.ts","../calculator/src/long-short-analysis-calculations/long-short-comp-graph-calc.ts","../calculator/src/long-short-analysis-calculations/long-short-comp-table-calc.ts","../calculator/src/long-short-analysis-calculations/short-balance-graph-calc.ts","../calculator/src/overview-calculations/account-returns-graph-calc.ts","../calculator/src/overview-calculations/index.ts","../calculator/src/overview-calculations/overview-cards-calc.ts","../calculator/src/overview-calculations/overview-stats-calc.ts","../calculator/src/overview-calculations/weekly-summary-calc.ts","../calculator/src/pairs-analysis-calculations/ave-returns-per-pair-graph-calc.ts","../calculator/src/pairs-analysis-calculations/ave-rrr-per-pair-graph-calc.ts","../calculator/src/pairs-analysis-calculations/index.ts","../calculator/src/pairs-analysis-calculations/pairs-analysis-table-calc.ts","../calculator/src/pairs-analysis-calculations/utils.ts","../calculator/src/period-analysis-calculations/index.ts","../calculator/src/period-analysis-calculations/returns-per-period-graph-calc.ts","../calculator/src/trading-time-analysis-calculations/index.ts","../calculator/src/trading-time-analysis-calculations/open-hour-table-calc.ts","../calculator/src/trading-time-analysis-calculations/time-analysis-graph-calc.ts","../calculator/src/trading-time-analysis-calculations/trade-duration-table-calc.ts","../calculator/src/utils/date-utils.ts","../calculator/src/utils/index.ts"],"sourcesContent":["import {P} from '@components/text'\nimport {getColor} from '@conf/utils'\n\n\nconst NavbarText = ({children, style}: {children: string, style?: {[key: string]: string}}) => {\n    return(\n        <P style={{\n            color: getColor('dark-gray'),\n            fontFamily: '\"Open Sans\", sans-serif',\n            ...style\n        }}>{children}</P>\n    );\n}\n\nexport default NavbarText","import {ListItemButton} from '@mui/material'\nimport {List, Collapse} from '@mui/material'\nimport NavbarText from './navbar-text'\nimport {SubMenuPropTypes} from './types'\n\n\nconst SubMenu = ({subMenu, subMenuIsOpen, subMenuName, selectedSubMenuName,\n        selectedSubMenuItemIndex, onSubMenuItemSelect}: SubMenuPropTypes) => {\n    return(\n        <Collapse in={subMenuIsOpen && selectedSubMenuName === subMenuName} timeout='auto' unmountOnExit>\n            <List disablePadding component='div'>\n                {(() => {\n                    // Had to explicitly use this function to satisfy the Typescript compiler\n                    if(subMenu !== undefined){\n                        return subMenu.map((item, i) => (\n                            <ListItemButton \n                                key={i}\n                                sx={{width: '200px', pl: 8}}\n                                selected={i === selectedSubMenuItemIndex}\n                                onClick={(e) => {\n                                    onSubMenuItemSelect(subMenuName, i, item);\n                                }}>\n                                <NavbarText>{item.name}</NavbarText>\n                            </ListItemButton>\n                        ))\n                    }\n                    return null;\n                })()}\n            </List>\n        </Collapse>\n    )\n}\n\nexport default SubMenu","import {ListItem, ListItemButton, ListItemIcon} from '@mui/material'\nimport {ExpandLess, ExpandMore} from '@mui/icons-material'\nimport {getColor, getDimen} from '@conf/utils'\nimport NavbarText from './navbar-text'\nimport SubMenu from './sub-menu'\nimport {NavbarItemPropTypes} from './types'\n\n\nconst NavbarItem = ({Icon, children, onClick, index, selected, subMenu, onSubMenuItemSelect,\n        subMenuIsOpen, selectedSubMenuItemIndex, selectedSubMenuName}: NavbarItemPropTypes) => {\n    const hasSubMenu = () => subMenu !== undefined;\n    const hasIcon = () => Icon !== undefined;\n\n    \n    return(\n        <ListItem disableGutters sx={{\n                width: '200px',\n                padding: 0,\n                marginTop: index === 0 ? getDimen('padding-md') : undefined,\n                flexDirection: subMenu ? 'column' : undefined\n            }}>\n            <ListItemButton sx={{width: '100%'}} selected={selected} onClick={(e) => {\n                onClick(e, index);\n            }}>\n                {hasIcon() ? \n                    <ListItemIcon>\n                        <Icon />\n                    </ListItemIcon>\n                    : null\n                }   \n                <NavbarText style={{fontSize: '1.1rem'}}>\n                    {children}\n                </NavbarText>\n                {hasSubMenu() ? \n                    subMenuIsOpen ? \n                        <ExpandLess sx={{color: getColor('dark-gray')}} />\n                        : <ExpandMore sx={{color: getColor('dark-gray')}} />\n                    : null\n                }\n            </ListItemButton>\n            {subMenu !== undefined ?\n                <SubMenu\n                    subMenu={subMenu}\n                    subMenuIsOpen={subMenuIsOpen}\n                    subMenuName={children}\n                    selectedSubMenuName={selectedSubMenuName}\n                    selectedSubMenuItemIndex={selectedSubMenuItemIndex}\n                    onSubMenuItemSelect={onSubMenuItemSelect} />\n                : null\n            }\n        </ListItem>\n    );\n}\n\nexport default NavbarItem","import {SvgIcon} from '@mui/material'\n\n\nconst HouseIcon = ({fontSize, style}: HouseIconTypes) => {\n    return(\n        <SvgIcon fontSize={fontSize ? fontSize : 'large'} \n            sx={style}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width='16' fill=\"currentColor\" className=\"bi bi-house-door sidebar-svg\" viewBox=\"0 0 16 16\">\n                <path d=\"M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z\"/>\n            </svg>\n        </SvgIcon>\n    );\n}\n\ntype HouseIconTypes = {\n    fontSize?: 'small' | 'inherit' | 'large' | 'medium',\n    style?: {[key: string]: any}\n}\n\nexport default HouseIcon","import {SvgIcon} from '@mui/material'\nimport {SvgIconPropTypes} from './types'\n\n\nconst CalendarIcon = ({fontSize, style}: SvgIconPropTypes) => {\n    return(\n        <SvgIcon \n            fontSize={fontSize ? fontSize : 'large'} \n            sx={style}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" fill=\"currentColor\" className=\"bi bi-calendar-week sidebar-svg\" viewBox=\"0 0 16 16\">\n                <path d=\"M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z\"/>\n                <path d=\"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z\"/>\n            </svg>\n        </SvgIcon>\n    );\n}\n\n\nexport default CalendarIcon","import {SvgIcon} from '@mui/material'\nimport {SvgIconPropTypes} from './types'\n\n\nconst NotesIcon = ({fontSize, style}: SvgIconPropTypes) => {\n    return(\n        <SvgIcon \n            fontSize={fontSize ? fontSize : 'large'} \n            sx={style}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" fill=\"currentColor\" className=\"bi bi-journal-text sidebar-svg\" viewBox=\"0 0 16 16\">\n                <path d=\"M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z\"/>\n                <path d=\"M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z\"/>\n                <path d=\"M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z\"/>    \n            </svg>\n        </SvgIcon>\n    );\n}\n\n\nexport default NotesIcon","import {SvgIcon} from '@mui/material'\nimport {SvgIconPropTypes} from './types'\n\n\nconst AnalyticsChartIcon = ({fontSize, style}: SvgIconPropTypes) => {\n    return(\n        <SvgIcon \n            fontSize={fontSize ? fontSize : 'large'} \n            sx={style}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" fill=\"currentColor\" className=\"bi bi-graph-up-arrow sidebar-svg\" viewBox=\"0 0 16 16\">\n                <path fillRule=\"evenodd\" d=\"M0 0h1v15h15v1H0V0Zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5Z\"/>\n            </svg>\n        </SvgIcon>\n    );\n}\n\n\nexport default AnalyticsChartIcon","import {SvgIcon} from '@mui/material'\nimport {SvgIconPropTypes} from './types'\n\n\nconst SettingsIcon = ({fontSize, style}: SvgIconPropTypes) => {\n    return(\n        <SvgIcon \n            fontSize={fontSize ? fontSize : 'large'} \n            sx={style}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" fill=\"currentColor\" className=\"bi bi-gear sidebar-svg\" viewBox=\"0 0 16 16\">\n                <path d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\"/>\n                <path d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\"/>\n            </svg>\n        </SvgIcon>\n    );\n}\n\n\nexport default SettingsIcon","import {SvgIcon} from '@mui/material'\nimport {SvgIconPropTypes} from './types'\n\n\nconst LogOutIcon = ({fontSize, style}: SvgIconPropTypes) => {\n    return(\n        <SvgIcon \n            fontSize={fontSize ? fontSize : 'large'} \n            sx={style}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" fill=\"currentColor\" className=\"bi bi-box-arrow-right sidebar-svg\" viewBox=\"0 0 16 16\">\n                <path fillRule=\"evenodd\" d=\"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z\"/>\n                <path fillRule=\"evenodd\" d=\"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z\"/>\n            </svg>\n        </SvgIcon>\n    );\n}\n\n\nexport default LogOutIcon","import HouseIcon from '@visuals/svgs/house-icon'\nimport CalendarIcon from '@visuals/svgs/calendar-icon'\nimport NotesIcon from '@visuals/svgs/notes-icon'\nimport GalleryIcon from '@visuals/svgs/gallery-icon'\nimport AnalyticsChartIcon from '@visuals/svgs/analytics-chart-icon'\nimport SettingsIcon from '@visuals/svgs/settings-icon'\nimport LogOutIcon from '@visuals/svgs/log-out-icon'\nimport {RouteConst} from '@conf/const'\nimport {MenuItemObject} from './types'\n\n\nconst {TRADER_OVERVIEW_ROUTE, TRADER_JOURNAL_ROUTE, TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE,\n    TRADER_CASH_AND_GAINS_ROUTE, TRADER_SETTINGS_ROUTE, TRADER_PAIRS_ANALYSIS_ROUTE,\n    TRADER_TIME_ANALYSIS_ROUTE, TRADER_PERIOD_ANALYSIS_ROUTE, TRADER_EXPENSES_ROUTE,\n    TRADER_NOTES_ROUTE\n} = RouteConst;\n\nconst analyticsMenuItems: MenuItemObject[] = [\n    {name: 'Cash and Gains', route: TRADER_CASH_AND_GAINS_ROUTE},\n    {name: 'Long / Short Analysis', route: TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE},\n    {name: 'Pairs Analysis', route: TRADER_PAIRS_ANALYSIS_ROUTE},\n    {name: 'Trading Time Analysis', route: TRADER_TIME_ANALYSIS_ROUTE},\n    {name: 'Period Analysis', route: TRADER_PERIOD_ANALYSIS_ROUTE},\n    {name: 'Expenses', route: TRADER_EXPENSES_ROUTE},\n];\n\nconst mainMenuItems: MenuItemObject[] = [\n    {icon: HouseIcon, name: 'Overview', route: TRADER_OVERVIEW_ROUTE},\n    {icon: CalendarIcon, name: 'Journal', route: TRADER_JOURNAL_ROUTE},\n    {icon: AnalyticsChartIcon, name: 'Analytics', subMenu: analyticsMenuItems},\n    //{icon: GalleryIcon, name: 'Gallery'},\n    {icon: NotesIcon, name: 'Notes', route: TRADER_NOTES_ROUTE}\n];\n\nconst bottomMenuItems = (logout: Function): MenuItemObject[] => {\n    return [\n        {icon: SettingsIcon, name: 'Settings', route: TRADER_SETTINGS_ROUTE},\n        {icon: LogOutIcon, name: 'Log Out', action: () => logout()},\n    ];\n}\n\nconst menuItems = (logout: Function) => {\n    return {\n        mainMenuItems,\n        bottomMenuItems: bottomMenuItems(logout)\n    }\n}\nexport default menuItems","/**\n * To determine the initial state for the navbar on page load\n */\n\nimport {useLocation, useNavigate, Location} from 'react-router'\nimport {MenuItemObject} from './types'\n\n\nconst getPageRouteName = (location: Location) => {\n    const locationList = location.pathname.split('/app');\n    let route = stripSlashes(locationList[locationList.length - 1]);\n    return route;\n}\n\nconst getIntialNavbarListStateValues = (location: Location, menuItems: {[key: string]: MenuItemObject[]}) => {\n    const pageRoute = getPageRouteName(location);\n    let [initialSubMenuName, initialMainMenuItemIndex] = getMenuInfo(pageRoute, menuItems);\n    let initialSubMenuIsOpen = false;\n    let initialSubMenuItemSelected = false;\n    let initialSelectedSubMenuItemIndex = -1;\n    if(initialSubMenuName.length !== 0){\n        initialSubMenuIsOpen = true;\n        initialSelectedSubMenuItemIndex = initialMainMenuItemIndex;\n        initialMainMenuItemIndex = -1;\n    }\n    return {\n        initialSubMenuName, initialMainMenuItemIndex, initialSubMenuItemSelected,\n        initialSelectedSubMenuItemIndex, initialSubMenuIsOpen\n    }\n}\n\n/**\n * Find the index of the menu item associated with a @param: route\n * and its subMenuName, if it belongs to a subMenu\n * */\nconst getMenuInfo = (route: string, menuItems: {[key: string]: MenuItemObject[]}): [string, number] => {\n    for(const itemsKey of Object.keys(menuItems)){\n        for(let i=0; i<menuItems[itemsKey].length; i++){\n            const item = menuItems[itemsKey][i];\n            if(item.subMenu !== undefined){\n                let [subMenuName, menuItemIndex] = getMenuInfo(route, {'submenu': item.subMenu});\n                subMenuName = item.name;\n                if(menuItemIndex !== -1){\n                    menuItemIndex = adjustIndexForBottomMenuItems(menuItemIndex, itemsKey, menuItems);\n                    return [subMenuName, menuItemIndex];\n                }\n            } else {\n                if(item.route === route){\n                    i = adjustIndexForBottomMenuItems(i, itemsKey, menuItems);\n                    return ['', i];\n                }\n            }\n        }\n    }\n    return ['', -1];\n}\n\nconst adjustIndexForBottomMenuItems = (menuItemIndex: number, itemsKey: string,\n        menuItems: {[key: string]: MenuItemObject[]}) => {\n    // Adjust the index for bottomMenuItems,\n    // so its indexes dont clash with the topMenuItems's\n    if(itemsKey === 'bottomMenuItems'){\n        menuItemIndex += menuItems['mainMenuItems'].length\n    }\n    return menuItemIndex;\n}\n\nconst stripSlashes = (route: string) => {\n    if(route.startsWith('/')){\n        route = route.substr(1);\n    }\n    if(route.endsWith('/')){\n        route = route.substr(0, route.length - 1);\n    }\n    return route;\n}\n\nexport default getIntialNavbarListStateValues","import {useState} from 'react'\nimport {useLocation, useNavigate} from 'react-router'\nimport {List, Divider} from '@mui/material'\nimport Logo from '@components/logo'\nimport {getDimen} from '@conf/utils'\nimport NavbarItem from './navbar-item'\nimport menuItems from './const'\nimport getIntialNavbarListStateValues from './utils'\n\n\nconst NavbarList = ({setMenuIsOpen, logout}: {setMenuIsOpen: Function, logout: Function}) => {\n    const location = useLocation();\n\n    const {mainMenuItems, bottomMenuItems} = menuItems(logout);\n    const {initialMainMenuItemIndex, initialSubMenuItemSelected, initialSubMenuName,\n        initialSelectedSubMenuItemIndex, initialSubMenuIsOpen\n    } = getIntialNavbarListStateValues(location, menuItems(logout));\n    /** Menu index of currently selected menu item */\n    const [selectedMainMenuItemIndex, setSelectedMainMenuItemIndex] = useState(initialMainMenuItemIndex);\n    /** Has a sub menu item being selected */\n    const [subMenuItemSelected, setSubMenuItemSelected] = useState(initialSubMenuItemSelected);\n    /** The array index of the sub menu item that has \n     * been selected in the array of its menu items */\n    const [selectedSubMenuItemIndex, setSelectedSubMenuItemIndex] = useState(initialSelectedSubMenuItemIndex);\n    /** The name that appears on the button of the drop down menu that has the sub menu */\n    const [selectedSubMenuName, setSelectedSubMenuName] = useState(initialSubMenuName);\n    /** Is a sub menu currently open */\n    const [subMenuIsOpen, setSubMenuIsOpen] = useState(initialSubMenuIsOpen);\n\n    const navigate = useNavigate();\n    const doesntHaveSubMenu = (item: {[key: string]: any}) => item.subMenu === undefined;\n    const unselectSubMenu = () => {\n        setSelectedSubMenuItemIndex(-1);\n        setSelectedSubMenuName('');\n    }\n    const unselectMainMenuItem = () => setSelectedMainMenuItemIndex(-1);\n    const selectSubMenuItem = (name: string, index: number) => {\n        setSubMenuItemSelected(true);\n        setSelectedSubMenuItemIndex(index);\n        setSelectedSubMenuName(name);\n    }\n    const closeSubMenu = () => {\n        setSubMenuIsOpen(false);\n        //setSelectedSubMenuItemIndex(-1);\n        //setSelectedSubMenuName('');\n    }\n    const closeMenu = () => setMenuIsOpen(false);\n    const carryOutItemAction = (item: {[key: string]: any}) => {\n        if(item.route !== undefined){\n            navigate(item.route);\n        } else {\n            item.action();\n        }\n    }\n    const itemInSubMenuIsSelected = (item: {[key: string]: any}) => \n        selectedMainMenuItemIndex === -1 && selectedSubMenuName === item.name;\n    const openSubMenu = (item: {[key: string]: any}) => {\n        setSubMenuIsOpen(true);\n        setSelectedSubMenuName(item.name);\n    }\n    const itemInASubMenuHasBeenSelected = () => selectedSubMenuItemIndex !== -1;\n\n    const onMainMenuItemClick = (e: Event, itemJustSelectedIndex: number, item: {[key: string]: any}) => {\n        // If item has sub menu, then it's a dropdown,\n        // not a link to a page\n        if(doesntHaveSubMenu(item)){\n            // Close any open sub menu first if any are open\n            if(subMenuItemSelected){\n                // Unselect the sub menus\n                unselectSubMenu();\n            }\n            // Sub menu might be open, even if none of its items have been selected\n            closeSubMenu();\n            setSelectedMainMenuItemIndex(itemJustSelectedIndex);\n            /** For small screens, close the menu on clicking an item */\n            closeMenu();\n            carryOutItemAction(item);\n        } else {\n            if(subMenuIsOpen){\n                closeSubMenu();\n                if(itemInSubMenuIsSelected(item)){\n                    setSelectedMainMenuItemIndex(itemJustSelectedIndex);\n                }\n            } else {\n                openSubMenu(item);\n                if(itemInASubMenuHasBeenSelected() && selectedSubMenuName === item.name){\n                    unselectMainMenuItem();\n                }\n            }\n        }\n    }\n    const onSubMenuItemSelect = (name: string, index: number, item: {[key: string]: any}) => {\n        // Unselect main menu items when sub menu item is selected\n        unselectMainMenuItem();\n        selectSubMenuItem(name, index);\n        carryOutItemAction(item);\n        /** For small screens */\n        closeMenu();\n    }\n\n    return(\n            <>\n                <List sx={{alignItems: 'center', padding: getDimen('padding-md')}}>\n                    <Logo style={{marginBottom: getDimen('padding-xbig')}} />\n                    {mainMenuItems.map((item, i) => (\n                        createNavbarItem(item, i, selectedMainMenuItemIndex, onMainMenuItemClick,\n                            onSubMenuItemSelect, selectedSubMenuItemIndex, subMenuIsOpen, selectedSubMenuName)\n                    ))}\n                </List>\n                <Divider sx={{mx: getDimen('padding-md')}}/>\n                <List sx={{alignItems: 'center', padding: getDimen('padding-md')}}>\n                    {bottomMenuItems.map((item, i) => (\n                        createNavbarItem(item, i + mainMenuItems.length, selectedMainMenuItemIndex,\n                            onMainMenuItemClick, onSubMenuItemSelect, selectedSubMenuItemIndex,\n                            subMenuIsOpen, selectedSubMenuName)\n                    ))}\n                </List>\n            </>\n    )\n}\n\nconst createNavbarItem = (item: {[key: string]: any}, i: number, selectedMainMenuItemIndex: number,\n        onMainMenuItemClick: Function, onSubMenuItemSelect: Function, selectedSubMenuItemIndex:number,\n        subMenuIsOpen: boolean, selectedSubMenuName: string) => {\n    return(\n        <NavbarItem\n            key={i}\n            Icon={item.icon}\n            index={i}\n            onClick={(e: Event, i: number) => onMainMenuItemClick(e, i, item)}\n            selected={selectedMainMenuItemIndex === i}\n            subMenu={item.subMenu ? item.subMenu : undefined}\n            onSubMenuItemSelect={onSubMenuItemSelect}\n            selectedSubMenuItemIndex={selectedSubMenuItemIndex}\n            subMenuIsOpen={subMenuIsOpen}\n            selectedSubMenuName={selectedSubMenuName}>\n                {item.name}\n        </NavbarItem>\n    );\n}\n\n\n\nexport default NavbarList","import {useContext, useState} from 'react'\nimport {useNavigate} from 'react-router'\nimport {Drawer, SwipeableDrawer} from '@mui/material'\nimport {useScreenIsSmall} from '@conf/utils'\nimport Navbar from '@components/navbar'\nimport {NAVBAR_WIDTH} from '@apps/trader-app/const'\nimport Http, {HttpErrorType} from '@services/http'\nimport NavbarList from './navbar-list'\nimport {HttpConst, RouteConst} from '@conf/const'\nimport {ToastContext} from '@components/toast'\n\n\nconst TraderAppNavbar = () => {\n    const Toast = useContext(ToastContext);\n    const navigate = useNavigate();\n    /** Is the menu open. For small screens */\n    const [menuIsOpen, setMenuIsOpen] = useState(false);\n    const isScreenSmall = useScreenIsSmall();\n    const logout = () => {\n        const {BASE_URL, LOGOUT_URL} = HttpConst\n        Http.delete({\n            url: `${BASE_URL}/${LOGOUT_URL}/`,\n            successFunc: () => {\n                localStorage.removeItem('KEY');\n                const {INFO_LOGIN_ROUTE} = RouteConst;\n                navigate(`/${INFO_LOGIN_ROUTE}`);\n            },\n            errorFunc: (err: HttpErrorType) => {\n                console.log(err);\n                Toast.error('Sorry. Something went wrong.');\n            }\n        })\n    }\n    \n    return(\n        <>\n            <Navbar\n                dontShowOnBigScreen={true}\n                links={[]}\n                sidebar={\n                    <SwipeableDrawer\n                        variant={isScreenSmall ? 'temporary' : 'permanent'}\n                        open={menuIsOpen}\n                        onClose={() => setMenuIsOpen(false)}\n                        onOpen={() => setMenuIsOpen(true)}\n                        sx={{width: `${NAVBAR_WIDTH}px`}}>\n                            <NavbarList setMenuIsOpen={setMenuIsOpen} logout={logout} />\n                    </SwipeableDrawer>\n                }\n                showLogo={false}\n                onSidebarMenuButtonClick={(e: Event) => setMenuIsOpen(menuIsOpen => !menuIsOpen)}\n            />\n            <Drawer\n                variant={isScreenSmall ? 'temporary' : 'permanent'}\n                open={menuIsOpen}\n                ModalProps={{\n                    keepMounted: true\n                }}\n                sx={{width: `${NAVBAR_WIDTH}px`}}>\n                    <NavbarList setMenuIsOpen={setMenuIsOpen} logout={logout} />\n            </Drawer>\n        </>\n    );\n}\n\nexport default TraderAppNavbar","import {ColumnBox} from '@components/containers'\nimport {getDimen, getDimenInNo, useScreenIsSmall} from '@conf/utils'\nimport {NAVBAR_WIDTH} from '@apps/trader-app/const'\nimport {ReactNode} from 'react'\n\n/**\n * A container to wrap all pages in the trader app\n * Gives every page margins to avoid navbar and sidebar\n * overlaps\n */\n\nconst TraderAppContainer = ({children}: {children: ReactNode}) => {\n    /** \n     * If screen is small, then there will be a navbar.\n     * A margin has to be added on top of the container\n     * to stay below the navbar.\n     */\n    const screenIsSmall = useScreenIsSmall();\n\n    return(\n        <div \n            style={{\n                marginTop: screenIsSmall ? `${getDimenInNo('navbar-height') + 32}px` : 0,\n                paddingBottom: getDimen('padding-big'),\n                marginLeft: !screenIsSmall ? `${NAVBAR_WIDTH}px` : 0,\n                height: 'fit-content',\n            }}>\n                {children}\n        </div>\n    )\n}\n\nexport default TraderAppContainer","import {useContext} from 'react'\nimport {useNavigate} from 'react-router-dom'\nimport ReactGA from 'react-ga4'\nimport {Grid, createTheme, ThemeProvider} from '@mui/material'\nimport {Divider} from '@mui/material'\nimport {format} from 'timeago.js'\nimport {Button} from '@components/buttons'\nimport {RowBox} from '@components/containers'\nimport {P, SBP} from '@components/text'\nimport {RouteConst} from '@conf/const'\nimport {getColor, getDimen} from '@conf/utils'\nimport {RefreshDataContext, DataIsRefreshingContext, GlobalDataContext, PermissionsContext} from '@apps/trader-app'\nimport LoadingIcon from '@components/loading-icon'\n\n/*\nconst DataStatusBar = () => {\n    const globalData = useContext(GlobalDataContext);\n    const permissions = useContext(PermissionsContext);\n    const dataIsRefreshing = useContext(DataIsRefreshingContext);\n    const refreshData = useContext(RefreshDataContext);\n    const dataHasRefreshedBefore = () => {\n        // If the data has never been refreshed, the last refreshed time \n        // will be set to an impossibly long time ago, about 100 years\n        const currentYear = (new Date()).getFullYear();\n        const lastDataRefreshTimeYear = globalData.lastDataRefreshTime().getFullYear();\n        return currentYear - lastDataRefreshTimeYear < 1;\n    }\n    const lastDataRefreshDisplay = dataHasRefreshedBefore() ?\n        format(globalData.lastDataRefreshTime())\n        : 'Never'\n    const subscriptionStatusTextStyle = {fontWeight: 'bold', marginRight: getDimen('padding-xs')};\n    return(\n        <>\n            <RowBox style={{\n                justifyContent: 'space-between',\n                marginTop: getDimen('padding-xs'),\n                marginBottom: getDimen('padding-xs'),\n                alignItems: 'center'\n            }}>\n                {(() => {\n                    if(!permissions.canRefreshAccount){\n                        let text = <P style={subscriptionStatusTextStyle}>Your subscription has expired</P>;\n                        if(!globalData.userHasPaid()){\n                            text = <P style={subscriptionStatusTextStyle}>Your free trial is over</P>;\n                        }\n                        return(\n                            <RowBox style={{alignItems: 'center'}}>\n                                {text}\n                                <Button size='small'>Subscribe Now</Button>\n                            </RowBox>\n                        )\n                    }\n                    return null;\n                })()}\n                <RowBox style={{alignItems: 'center'}}>\n                    <SBP style={{\n                        color: getColor('dark-gray'),\n                        marginRight: getDimen('padding-xs')\n                    }}>Data Last Refreshed: {lastDataRefreshDisplay}</SBP>\n                    <Button \n                        variant='outlined'\n                        size='small'\n                        disabled={!permissions.canRefreshAccount}\n                        onClick={() => {\n                            if(!dataIsRefreshing){\n                                refreshData();\n                            }\n                        }}>{\n                            dataIsRefreshing ? \n                                <LoadingIcon color={getColor('gray')} size={20} />\n                                : 'Refresh Data'\n                        }</Button>\n                </RowBox>\n            </RowBox>\n            <Divider />\n        </>\n    )\n}\n*/\n\nconst DataStatusBar = () => {\n    const globalData = useContext(GlobalDataContext);\n    const permissions = useContext(PermissionsContext);\n    const dataIsRefreshing = useContext(DataIsRefreshingContext);\n    const refreshData = useContext(RefreshDataContext);\n    const navigate = useNavigate();\n    const dataHasRefreshedBefore = () => {\n        // If the data has never been refreshed, the last refreshed time \n        // will be set to an impossibly long time ago, about 100 years\n        const currentYear = (new Date()).getFullYear();\n        const lastDataRefreshTimeYear = globalData.lastDataRefreshTime().getFullYear();\n        return currentYear - lastDataRefreshTimeYear < 1;\n    }\n    const lastDataRefreshDisplay = dataHasRefreshedBefore() ?\n        format(globalData.lastDataRefreshTime())\n        : 'Never'\n    const subscriptionStatusTextStyle = {fontWeight: 'bold', marginRight: getDimen('padding-xs')};\n    const {TRADER_APP_ROUTE, TRADER_SUBSCRIBE_NOW_ROUTE} = RouteConst;\n    return(\n        <ThemeProvider theme={themeWithSpecificBrkpoints}>\n            <Grid container sx={{\n                paddingTop: getDimen('padding-xs'),\n                paddingBottom: getDimen('padding-xs'),\n                justifyContent: 'space-between'\n            }}>\n                <Grid item>\n                    {(() => {\n                        if(!permissions.canRefreshAccount){\n                            let text = <P style={subscriptionStatusTextStyle}>Your subscription has expired</P>;\n                            if(!globalData.userHasPaid()){\n                                text = <P style={subscriptionStatusTextStyle}>Your free trial is over</P>;\n                            }\n                            return(\n                                <RowBox style={{alignItems: 'center'}}>\n                                    {text}\n                                    <Button \n                                        size='small'\n                                        style={{marginRight: getDimen('padding-xs')}}\n                                        onClick={() => {\n                                            ReactGA.event('call_to_action_subscribe', {\n                                                'user_id': globalData.getUserId()\n                                            });\n                                            navigate(`/${TRADER_APP_ROUTE}/${TRADER_SUBSCRIBE_NOW_ROUTE}`)\n                                        }}>\n                                            Subscribe Now\n                                    </Button>\n                                </RowBox>\n                            )\n                        }\n                        return null;\n                    })()}\n                </Grid>\n                <Grid item sx={{\n                    paddingTop: {\n                        xs: getDimen('padding-xs'),\n                        sm: 0\n                    }\n                }}>\n                    <RowBox style={{alignItems: 'center'}}>\n                        <SBP style={{\n                            color: getColor('dark-gray'),\n                            marginRight: getDimen('padding-xs')\n                        }}>Data Last Refreshed: {lastDataRefreshDisplay}</SBP>\n                        <Button \n                            variant='outlined'\n                            size='small'\n                            disabled={!permissions.canRefreshAccount}\n                            onClick={() => {\n                                if(!dataIsRefreshing){\n                                    refreshData();\n                                }\n                            }}>{\n                                dataIsRefreshing ? \n                                    <LoadingIcon color={getColor('gray')} size={20} />\n                                    : 'Refresh Data'\n                            }</Button>\n                    </RowBox>\n                </Grid>\n            </Grid>\n            <Divider />\n        </ThemeProvider>\n    )\n}\n\n\nconst themeWithSpecificBrkpoints = createTheme({\n    breakpoints: {\n        values: {\n            xs: 0,\n            sm: 706,\n            md: 900,\n            lg: 1200,\n            xl: 1536,\n        }\n    }\n})\n\ndeclare module '@mui/material/styles' {\n  interface BreakpointOverrides {\n    xs: true;\n    sm: true;\n    md: true;\n    lg: true;\n    xl: true;\n    mobile: false;\n    tablet: false;\n    laptop: false;\n    desktop: false;\n  }\n}\n\n\n\nexport default DataStatusBar","import {ColumnBox} from '@components/containers'\nimport {getDimen} from '@conf/utils'\nimport DataStatusBar from './data-status-bar'\nimport {PageContainerPropTypes} from './types'\n\nconst PageContainer = ({children, style, className, showDataStatusBar}: PageContainerPropTypes) => {\n    return(\n        <ColumnBox\n            style={{\n                marginLeft: getDimen('padding-big'),\n                marginRight: getDimen('padding-big'),\n                ...style\n            }}\n            className={className ? className : ''}>\n            {showDataStatusBar !== undefined && !showDataStatusBar ?\n                null\n                : <DataStatusBar />\n            }\n            {children}\n        </ColumnBox>\n    )\n}\n\nexport default PageContainer","import {RowBox} from '@components/containers'\nimport {H4} from '@components/text'\nimport {getDimen} from '@conf/utils'\nimport {AccountSelector} from '..'\nimport {PageHeadingPropTypes} from './types'\n\n/**\n * A component to display the heading of all pages in the\n * trader app\n * @prop heading: the heading to show at the top of the page\n * @prop dontShowSelector: should the account selector show?\n */\n\nconst PageHeading = ({heading, dontShowSelector}: PageHeadingPropTypes) => {\n    return(\n        <RowBox \n            style={{\n                justifyContent: 'space-between',\n                marginTop: getDimen('padding-md'),\n                marginBottom: getDimen('padding-md')\n            }}>\n            <H4>{heading}</H4>\n            {\n                dontShowSelector === undefined || !dontShowSelector ?\n                    <AccountSelector />\n                    : null\n            }\n        </RowBox>\n    )\n}\n\nexport default PageHeading","import {useContext, useState} from 'react'\nimport {SelectInput} from '@components/inputs'\nimport {GlobalDataContext, CurrentAccountChangerContext} from '@apps/trader-app'\n\n\nconst AccountSelector = () => {\n    const globalData = useContext(GlobalDataContext);\n    const accounts = globalData.getTradeAccountNames();\n    const currentAccountName = globalData.getCurrentTradeAccountName();\n    const onCurrentAccountChange = useContext(CurrentAccountChangerContext);\n    \n    return(\n        <SelectInput\n            value={currentAccountName}\n            onChange={(e) => onCurrentAccountChange(globalData.getTradeAccountIdOf(e.target.value))}\n            options={accounts}\n            placeholder='Accounts' />\n    )\n}\n\nexport default AccountSelector","import {RowBox} from '@components/containers'\nimport {H6} from '@components/text'\nimport {getDimen} from '@conf/utils'\nimport {ChipSelectInput} from '@components/inputs'\nimport {GraphHeadingPropTypes} from './types'\n\n\nconst GraphHeading = ({title, selectorOptions, onSelectorSelectedOptionChange, paddingLeft, paddingTop}: GraphHeadingPropTypes) => {\n    if(title === undefined && selectorOptions === undefined){\n        return null\n    }\n    return(\n        <RowBox\n            style={{\n                paddingBottom: getDimen('padding-xs'),\n                paddingRight: getDimen('padding-sm'),\n                paddingTop: paddingTop !== undefined ? paddingTop : getDimen('padding-sm'),\n                paddingLeft: paddingLeft !== undefined ? paddingLeft : getDimen('padding-sm'),\n                justifyContent: 'space-between'\n            }}>\n            {title !== undefined ? <H6>{title}</H6> : null}\n            {selectorOptions !== undefined ?\n                <ChipSelectInput\n                    options={Object.keys(selectorOptions)}\n                    onChange={(option: string) => onSelectorSelectedOptionChange(option)} />\n                : null\n            }\n        </RowBox>\n    )\n}\n\nexport default GraphHeading","import {getColor} from '@conf/utils'\nimport {AreaChart, CartesianGrid, XAxis, YAxis, Area, Tooltip, ResponsiveContainer} from 'recharts'\nimport {BaseGraphPropTypes} from './types'\n\n\nconst LineGraph = ({data, xAxisKey, yAxisKey, height, tooltipName}: BaseGraphPropTypes) => {\n    return(\n        <ResponsiveContainer width='100%' height={height === undefined ? 250 : height}>\n            <AreaChart\n                data={data}\n                margin={{ \n                    top: 10, right: 30, left: 0, bottom: 0 \n                }}>\n                <CartesianGrid vertical={false} strokeDasharray=\"3 3\" />\n                <defs>\n                    <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                        <stop offset=\"5%\" stopColor=\"#0d6efd\" stopOpacity={0.2}/>\n                        <stop offset=\"95%\" stopColor=\"#9ec5ff\" stopOpacity={0.1}/>\n                    </linearGradient>\n                </defs>\n                <XAxis axisLine={false} tickLine={false} tick={false} dataKey={xAxisKey} />\n                <YAxis axisLine={false} tickLine={false} tick={{fill: getColor('dark-gray')}} />\n                <Tooltip />\n                <Area\n                    type='monotone'\n                    dataKey={yAxisKey}\n                    name={tooltipName ? tooltipName : undefined}\n                    stroke='#0d6efd' \n                    strokeWidth={2} \n                    fillOpacity={1}\n                    fill=\"url(#colorUv)\"\n                />\n            </AreaChart>\n        </ResponsiveContainer>\n    );\n}\n\n\nexport default LineGraph","import {BarChart as ReBarChart, CartesianGrid, XAxis, YAxis, Tooltip, Bar, Legend, ResponsiveContainer} from 'recharts'\nimport {BaseGraphPropTypes} from './types'\n\n\nconst BarChart = ({data, xAxisKey, yAxisKey, height, tooltipName}: BaseGraphPropTypes) => {\n    return(\n        <ResponsiveContainer width='100%' height={height === undefined ? 250 : height}>\n            <ReBarChart data={data} barSize={80}>\n                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n                <XAxis axisLine={false} tickLine={false} dataKey={xAxisKey} />\n                <YAxis axisLine={false} tickLine={false} />\n                <Tooltip />\n                <Legend />\n                <Bar\n                    dataKey={yAxisKey}\n                    name={tooltipName ? tooltipName : undefined}\n                    fill=\"#0d6efd\"\n                    opacity='0.8' />\n            </ReBarChart>\n        </ResponsiveContainer>\n    );\n}\n\nexport default BarChart","import {useEffect, useState} from 'react'\nimport {getColor, getDimen} from '@conf/utils'\nimport GraphHeading from './graph-heading'\nimport LineGraph from './line-graph'\nimport BarChart from './bar-chart'\nimport {GraphPropTypes, GraphData, GraphXAxisKey, SelectorOptions} from './types'\n\n\nconst Graph = ({data, variant, title, selectorOptions, outline, headerIsOutside, headerPaddingTop,\n        xAxisKey, 'data-testid': testId, ...props}\n    : GraphPropTypes) => {\n    const graphVariant = variant === undefined ? 'line' : variant;\n    const [graphData, setGraphData] = useState(initialGraphDataStateValues(data, selectorOptions));\n    const [currentXAxisKey, setcurrentXAxisKey] = useState(initialXAxisKeyStateValue(xAxisKey, selectorOptions));\n    const onSelectorSelectedOptionChange = (option: string) => {\n        if(selectorOptions !== undefined){\n            setGraphData(selectorOptions[option]);\n            // If it's not a string, then it's an object\n            // mapping option names to their respective xAxisKeys\n            // for the data they will display\n            // Had to use typeof directly because of the Typescript compiler\n            if(typeof(xAxisKey) !== 'string'){\n                setcurrentXAxisKey(xAxisKey[option]);\n            }\n        }\n    }\n\n    useEffect(() => {\n        if(data !== undefined){\n            setGraphData(data);\n        }\n    }, [data])\n\n    useEffect(() => {\n        if(selectorOptions !== undefined){\n            setGraphData(initialGraphDataStateValues(data, selectorOptions));\n        }\n    }, [selectorOptions])\n\n    return(\n        <div data-testid={testId}>\n        {headerIsOutside ? \n            <GraphHeading \n                title={title}\n                selectorOptions={selectorOptions} \n                onSelectorSelectedOptionChange={onSelectorSelectedOptionChange}\n                paddingLeft={0}\n                paddingTop={headerPaddingTop} />\n            : null }\n            <div\n                style={Object.assign(\n                    outline ? {\n                        border: `1px solid ${getColor('xlight-blue')}`,\n                        paddingRight: getDimen('padding-sm'),\n                        borderRadius: '5px'\n                    } : {},\n                    headerIsOutside ? {\n                        paddingTop: getDimen('padding-md'),\n                        paddingBottom: getDimen('padding-md')\n                    } : {}    \n                )}>\n                {!headerIsOutside ? \n                    <GraphHeading \n                        title={title}\n                        selectorOptions={selectorOptions} \n                        onSelectorSelectedOptionChange={onSelectorSelectedOptionChange}\n                        paddingTop={headerPaddingTop} />\n                    : null}\n                {graphVariant === 'line' ?\n                    <LineGraph data={graphData} xAxisKey={currentXAxisKey} {...props} />\n                    : <BarChart data={graphData} xAxisKey={currentXAxisKey} {...props} />\n                }\n            </div>\n        </div>\n    );\n}\n\nconst initialGraphDataStateValues = (data?: GraphData, selectorOptions?: {[key: string]: GraphData}) => {\n    if(data !== undefined){\n        return data;\n    }\n    if(selectorOptions !== undefined){\n        const options = Object.keys(selectorOptions);\n        const lastOptionName = options[options.length - 1];\n        return selectorOptions[lastOptionName];\n    }\n    return []\n}\n\nconst initialXAxisKeyStateValue = (xAxisKey: GraphXAxisKey, selectorOptions?: SelectorOptions): string => {\n    if(typeof(xAxisKey) === 'string'){\n        return xAxisKey\n    }\n    // If xAxisKey is not a string, then it is an object mapping\n    // selector option names to their respective xAxisKeys\n    // This implies that selectorOptions can't be undefined at this point\n    // But to satisfy the Typescript compiler\n    if(selectorOptions !== undefined){\n        const nameOfFirstOption = Object.keys(selectorOptions)[0];\n        return xAxisKey[nameOfFirstOption];\n    }\n    \n    return ''\n}\n\nexport default Graph    ","import {Paper, TableContainer, Table as MuiTable, TableHead, \n    TableCell, TableBody, TableRow} from '@mui/material'\nimport {BP, H6} from '@components/text'\nimport {getColor, getDimen} from '@conf/utils'\nimport {TablePropTypes, ConditionalStyle, HeaderItem, HeaderItemObject} from './types'\n\n\nconst Table = ({title, headers, rows, style, bodyColumnConditionalStyle, headerStyle,\n        headerRowConditionalStyle, headerColumnConditionalStyle, headerColumnTextConditionalStyle,\n        headerTextStyle, headerRowTextConditionalStyle, bodyStyle, bodyRowConditionalStyle, 'data-testid': testId}\n    : TablePropTypes) => {\n    return(\n        <div data-testid={testId}>\n        {title ? \n            <H6 style={{marginBottom: getDimen('padding-xs')}}>{title}</H6>\n            : null\n        }\n        <TableContainer \n            component={Paper} \n            sx={{\n                boxShadow: 'none',\n                border: `1px solid ${getColor('xlight-blue')}`,\n                borderRadius: '1%'\n            }}>\n            <MuiTable sx={{height: '100%'}}>\n                <TableHead>\n                    {(() => {\n                        if(headers !== undefined){\n                            const headersArray: Array<HeaderItemObject[]> = formatHeaders(headers);\n                            return headersArray.map((headers, rowi) => {\n                                const conditionalRowStyle = getConditionalStyles(rowi, headerRowConditionalStyle);\n                                const conditionalRowTextStyle = getConditionalStyles(rowi, headerRowTextConditionalStyle);\n                                return(\n                                    <TableRow>\n                                        {headers.map((headerItem: HeaderItemObject, coli: number) => {\n                                            const conditionalColumnTextStyle = getConditionalStyles(coli, headerColumnTextConditionalStyle);\n                                            const conditionalColumnStyle = getConditionalStyles(coli, headerColumnConditionalStyle);\n                                            const headerCellStyle = headerStyle ? headerStyle : {};\n                                            const textStyle = headerTextStyle ? headerTextStyle : {};\n                                            const globalStyle = style ? style : {};\n                                            return(\n                                                <TableCell \n                                                    key={rowi + coli} \n                                                    sx={{\n                                                        textAlign: 'center',\n                                                        ...globalStyle,\n                                                        ...headerCellStyle,\n                                                        ...conditionalRowStyle,\n                                                        ...conditionalColumnStyle\n                                                    }}\n                                                    colSpan={headerItem.colSpan}>\n                                                    <BP style={{\n                                                        color: getColor('light-blue'),\n                                                        ...textStyle,\n                                                        ...conditionalRowTextStyle,\n                                                        ...conditionalColumnTextStyle,\n                                                    }}>{headerItem.name}</BP>\n                                                </TableCell>\n                                            );\n                                        })}\n                                    </TableRow>\n                                );\n                            }\n                            );\n                        }\n                        return null;\n                    })()}\n                </TableHead>\n                <TableBody>\n                    {rows.map((row, rowi) => {\n                        let conditionalRowStyles = getConditionalStyles(rowi, bodyRowConditionalStyle);\n                        return(\n                            <TableRow key={rowi}>\n                                {row.map((cell, coli) => {\n                                    const conditionalColumnStyles = getConditionalStyles(coli, bodyColumnConditionalStyle);\n                                    const bodyCellStyle = bodyStyle ? bodyStyle : {};\n                                    const globalStyle = style ? style : {};\n                                    return(\n                                        <TableCell \n                                            key={rowi + coli}\n                                            align='center'\n                                            sx={{\n                                                ...globalStyle,\n                                                ...bodyCellStyle,\n                                                ...conditionalColumnStyles,\n                                                ...conditionalRowStyles\n                                            }}>\n                                            {cell}\n                                        </TableCell>\n                                    );\n                                })}\n                            </TableRow>\n                        )\n                    })}\n                </TableBody>\n            </MuiTable>\n        </TableContainer>\n        </div>\n    );\n}\n\n\n/**\n * \n * @param i: the index of whatever row or column calling the function.\n *  This parameter is passed to a conditionalStyle's condition function to determine\n *  whether or not to add the style associated with that conditionalStyle's style\n * @param conditionalStyle: an object with an object of styles and a condition function\n *  which takes the column or row index as an argument and returns a boolean that \n * determines whether or not to apply that style or an array of the same\n * @returns: a single object of all the styles whose condition evaluated to true\n *  when i is passed as an argument\n */\nconst getConditionalStyles = (i: number, conditionalStyle?: ConditionalStyle | Array<ConditionalStyle>) => {\n    // No style object, no style\n    if(conditionalStyle === undefined){\n        return {}\n    }\n    // Array of all conditional style objects\n    let conditionalStylesArray: Array<ConditionalStyle> = [];\n    if(Array.isArray(conditionalStyle)){\n        conditionalStylesArray = conditionalStyle;\n    } else {\n        conditionalStylesArray.push(conditionalStyle);\n    }\n    // Array of all style objects that will end up in the final style object\n    // For every condition that is false, an empty object is placed in the array\n    const stylesArray = conditionalStylesArray.map((conditionalStyle) => (\n        conditionalStyle.condition(i) ?\n            conditionalStyle.style\n            : {}\n    ));\n    const styles = mergeObject(stylesArray);\n    return styles;\n}\n\nconst mergeObject = (objArray: Array<{[key: string]: any}>): {[key: string]: any} => {\n    if(objArray.length === 0){\n        return {}\n    } else {\n        const lastObj = objArray.pop();\n        return Object.assign(mergeObject(objArray), lastObj);\n    }\n}\n\n/**\n * Headers are given as an array of HeaderItems,\n * which could be a string or object.\n * Examples of valid headers (which are the only headers we'll be expecting here)\n *      ['header1', 'header2', 'header3']\n *      [{name: 'header1', colSpan: 2}, {name: 'header2'}, 'header3']\n *      [\n *          [{name: 'header1', colSpan: 2}, {name: 'header2'}, 'header3'],\n *          [{name: 'header1', colSpan: 3}, {name: 'header2'}],\n *      ]\n * The job of this function is to take a @param headers array which could be\n * a combination of any of the forms above, and give a result of the following format\n *      [\n *          [{name: 'header1'}, {name: 'header2'}, {name: 'header3', colSpan: 2}]\n *      ]\n * \n */\nconst formatHeaders = (headers: Array<HeaderItem[]> | HeaderItem[]): Array<HeaderItemObject[]> => {\n    if(headers.length === 0){\n        return [[]]\n    }\n    // To handle the case where headers is an array of arrays of HeaderItems\n    const processMultipleHeaders = () => {\n        let headerRows: Array<HeaderItemObject[]> = [];\n        for(let i=0; i<headers.length; i++){\n            const headerItems = headers[i];\n            // headerItems is sure to be an array, but to satisfy the Typescript compiler\n            if(Array.isArray(headerItems)){\n                const headerRowToAdd = processHeaders(headerItems);\n                console.log(headerRowToAdd);\n                headerRows.push(headerRowToAdd);\n            }\n        }\n        return headerRows;\n    }\n    /** \n     * To handle the case where headers is an array of HeaderItems\n     * @operation\n     * The function assumes that all its items are HeaderItems\n     * So it initializes an array, headerRowToAdd, to store the final result\n     * It iterates over all the HeaderItems, which can be either strings or objects\n     * If it's a string it creates an object with the string as the name and adds it to headerRowToAdd\n     * If it's an object, it just adds the object\n     * It returns the final array inside another array, according to the description of\n     * what this function is supposed to return\n     */\n    const processHeaders = (headers: HeaderItem[] | Array<HeaderItem[]>) => {\n        const headerRowToAdd: HeaderItemObject[] = [];\n        for(let i=0; i<headers.length; i++){\n            const headerItem = headers[i];\n            if(typeof(headerItem) === 'string'){\n                headerRowToAdd.push({name: headerItem});\n            // Apart from strings, the only other possible type is an object\n            // but this additional check had to be added to satisfy the Typescript\n            // compiler\n            } else if(typeof(headerItem) === 'object' && !Array.isArray(headerItem)){\n                headerRowToAdd.push(headerItem);\n            }\n        }\n        return headerRowToAdd;\n    }\n    if(Array.isArray(headers[0])){\n        return processMultipleHeaders();\n    } else {\n        // processHeaders returns a single array of HeaderItems\n        return [processHeaders(headers)];\n    }\n}\n\nexport default Table\n// For testing\nexport {formatHeaders}","import {useEffect, useContext} from 'react'\nimport {GlobalDataContext} from '@apps/trader-app'\n\n\n/**\n * Hook to be used in trader app pages that need to make recalculations and\n * update calculations state when globalData changes\n * @param calcFunc: calculator function that recalculates values from the global data\n * @param updateComponentCalc: react setState function that is used to update the\n *  calculations state of whatever component called it\n * @param afterCalcFunc: function to execute immediately after calculating the new data,\n *  passing the new calculations as parameters to the function\n */\n\nconst useRecalc = (calcFunc: Function, updateComponentCalcState: Function, afterCalcFunc?: Function) => {\n    const globalData = useContext(GlobalDataContext);\n    useEffect(() => {\n        if(globalData.hasLoaded()){\n            const accountData = globalData.getCurrentTradeAccountData();\n            const newCalc = calcFunc(accountData);\n            updateComponentCalcState(newCalc);\n            if(afterCalcFunc){\n                afterCalcFunc(newCalc);\n            }\n        }\n    }, [globalData])\n}\n\nexport default useRecalc","import {ColumnBox} from '@components/containers'\nimport LoadingIcon from '@components/loading-icon'\nimport {getColor} from '@conf/utils'\n\n\nconst PageStillLoading = () => {\n    return(\n        <ColumnBox\n            style={{\n                height: '100vh',\n                alignItems: 'center',\n                justifyContent: 'center'\n            }}>\n            <LoadingIcon\n                color={getColor('dark-gray')}\n                size={50} />\n        </ColumnBox>\n    )\n}\n\nexport default PageStillLoading","import {OverviewCalculations, OverviewCardsCalc, OverviewStatsCalc,\n    OverviewWeeklySummaryCalc, OverviewAccountReturnsGraphCalc} from 'calculator'\nimport {OverviewAccountReturnsGraphItem} from 'calculator/dist/overview-calculations/types'\n\nconst defaultCardsCalc: OverviewCardsCalc = {\n    totalBalance: 0,\n    noOfTrades: 0,\n    winRate: 0,\n    absGain: 0\n}\n\nconst defaultStatsCalc: OverviewStatsCalc = {\n    aveProfit: 0,\n    aveLoss: 0,\n    longsWonPercent: 0,\n    noOfLongsWon: 0,\n    noOfLongs: 0,\n    shortsWonPercent: 0,\n    noOfShortsWon: 0,\n    noOfShorts: 0,\n    bestTrade: 0,\n    worstTrade: 0,\n    highestBalance:0,\n    aveRRR: 0,\n    profitFactor: 0,\n    expectancy: 0,\n    lots: 0,\n    commissions: 0\n}\n\nconst defaultWeeklySummaryCalc: OverviewWeeklySummaryCalc = {\n    \n}\n\nconst defaultAccountReturnsGraphItem: OverviewAccountReturnsGraphItem[] = [];\nconst defaultAccountReturnsGraphCalc: OverviewAccountReturnsGraphCalc = {\n    todayGraphCalc: defaultAccountReturnsGraphItem,\n    thisWeekGraphCalc: defaultAccountReturnsGraphItem,\n    thisMonthGraphCalc: defaultAccountReturnsGraphItem,\n    thisYearGraphCalc: defaultAccountReturnsGraphItem,\n    allTimeGraphCalc: defaultAccountReturnsGraphItem\n}\n\nconst defaultOverviewCalc: OverviewCalculations = {\n    cardsCalc: defaultCardsCalc,\n    statsCalc: defaultStatsCalc,\n    weeklySummaryCalc: defaultWeeklySummaryCalc,\n    accountReturnsGraphCalc: defaultAccountReturnsGraphCalc\n}\n\nexport default defaultOverviewCalc","import {ColumnBox} from '@components/containers'\nimport {H4, H5, P} from '@components/text'\nimport {getDimen} from '@conf/utils'\nimport {BaseOverviewCardPropTypes} from './types'\n\n/**\n * Base card for the overview page\n */\n\nconst BaseOverviewCard = ({heading, content, backgroundColor}: BaseOverviewCardPropTypes) => {\n    return(\n        <ColumnBox \n            className='apps-trader-app-pages-overview-base-overview-card'\n            style={{backgroundColor: backgroundColor}}>\n            <P>{heading}</P>\n            <H5>{content}</H5>\n        </ColumnBox>\n    )\n}\n\nexport default BaseOverviewCard","import {getColor} from '@conf/utils'\nimport BaseOverviewCard from './base-card'\n\n\nconst BalanceCard = ({balance}: {balance: string}) => {\n    return(\n        <BaseOverviewCard\n            heading='Balance'\n            content={balance}\n            backgroundColor={getColor('xlight-blue')} />\n    )\n}\n\nexport default BalanceCard","import BaseOverviewCard from './base-card'\nimport {getColor} from '@conf/utils'\n\n\nconst NoOfTradesCard = ({noOfTrades}: {noOfTrades: string}) => {\n    return(\n        <BaseOverviewCard\n            heading='Number of Trades'\n            content={noOfTrades}\n            backgroundColor={getColor('light-green')} />\n    )\n}\n\nexport default NoOfTradesCard","import BaseOverviewCard from './base-card'\nimport {getColor} from '@conf/utils'\n\n\nconst WinRateCard = ({winRate}: {winRate: string}) => {\n    return(\n        <BaseOverviewCard\n            heading='Win Rate'\n            content={winRate}\n            backgroundColor={getColor('light-orange')} />\n    )\n}\n\nexport default WinRateCard","import {getColor} from '@conf/utils'\nimport BaseOverviewCard from './base-card'\n\n\nconst AbsGainCard = ({absGain}: {absGain: string}) => {\n    return(\n        <BaseOverviewCard\n            heading='Absolute Gain'\n            content={absGain}\n            backgroundColor={getColor('light-purple')} />\n    )\n}\n\nexport default AbsGainCard","import {formatMoney, formatPercent} from '@apps/trader-app/utils'\nimport {OverviewCardsCalc} from 'calculator'\nimport BalanceCard from './balance-card'\nimport NoOfTradesCard from './no-of-trades-card'\nimport WinRateCard from './win-rate-card'\nimport AbsGainCard from './abs-gain-card'\nimport './style.css'\n\n\nconst OverviewCards = ({calc}: {calc: OverviewCardsCalc}) => {\n    const balance = formatMoney(calc.totalBalance);\n    const noOfTrades = calc.noOfTrades.toString();\n    const winRate = formatPercent(calc.winRate);\n    const absGain = formatPercent(calc.absGain);\n\n    return(\n        <div className='apps-trader-app-pages-overview-overview-cards-container'\n            data-testid='overview-cards'>\n            <BalanceCard balance={balance} />\n            <NoOfTradesCard noOfTrades={noOfTrades} />\n            <WinRateCard winRate={winRate} />\n            <AbsGainCard absGain={absGain} />\n        </div>\n    )\n}\n\nexport default OverviewCards","import {Graph} from '@apps/trader-app/components'\nimport { objObjArrayTo2dp } from '@apps/trader-app/utils'\nimport {OverviewAccountReturnsGraphCalc} from 'calculator'\n\n\nconst AccountReturnsGraph = ({data}: {data: OverviewAccountReturnsGraphCalc}) => {\n    const options = objObjArrayTo2dp({\n        'Today': data.todayGraphCalc,\n        'This Week': data.thisWeekGraphCalc,\n        'This Month': data.thisMonthGraphCalc,\n        'This Year': data.thisYearGraphCalc,\n        'All Time': data.allTimeGraphCalc\n    }, 'result');\n\n    return(\n        <div style={{width: '100%'}}>\n            <Graph\n                title='Account Returns'\n                xAxisKey='tradeNo'\n                yAxisKey='result'\n                selectorOptions={options}\n                data-testid='account-returns-graph'\n                />\n        </div>\n    )\n}\n\n\nexport default AccountReturnsGraph","import {P, BP} from '@components/text'\nimport {getColor} from '@conf/utils'\nimport {formatMoney, to2dpstring} from '@apps/trader-app/utils'\nimport {OverviewStatsCalc} from 'calculator'\n\n\nconst createRows = (stats: OverviewStatsCalc) => {\n    const rows = [\n        [   \n            createCell(\n                'Average Profit',\n                formatMoney(stats.aveProfit),\n                getColor('light-blue')\n            ),\n            createCell('Average Loss', formatMoney(stats.aveLoss), getColor('red'))\n        ],\n        [   \n            createCell('Longs Won', `${to2dpstring(stats.longsWonPercent)}% (${stats.noOfLongsWon}/${stats.noOfLongs})`),\n            createCell('Shorts Won', `${to2dpstring(stats.shortsWonPercent)}% (${stats.noOfShortsWon}/${stats.noOfShorts})`)\n        ],\n        [\n            createCell(\n                'Best Trade',\n                formatMoney(stats.bestTrade)\n            ),\n            createCell(\n                'Worst Trade',\n                formatMoney(stats.worstTrade)\n            )\n        ],\n        [\n            createCell(\n                'Highest Balance',\n                formatMoney(stats.highestBalance)\n            ),\n            createCell('Average RRR', to2dpstring(stats.aveRRR))\n        ],\n        [\n            createCell('Profit Factor', to2dpstring(stats.profitFactor)),\n            createCell(\n                'Expectancy',\n                formatMoney(stats.expectancy)\n            )\n        ],\n        [\n            createCell(\n                'Commission',\n                formatMoney(stats.commissions)\n            )\n        ]\n    ]\n    return rows;\n}\n\nconst createCell = (heading: string, content: string, color: string | undefined = undefined) => {\n    return(\n        <StatsTableCell\n            heading={heading}\n            content={content}\n            color={color} />\n    )\n}\n\nconst StatsTableCell = ({heading, content, color}: any) => {\n    return(\n        <div>\n            <BP style={{color: getColor('dark-gray')}}>{heading}</BP>\n            <P style={{color: color}}>{content}</P>\n        </div>\n    )\n}\n\nexport default createRows","import {ReactNode} from 'react'\nimport {getColor} from '@conf/utils'\nimport {OverviewStatsCalc} from 'calculator/dist'\nimport {Table} from '@apps/trader-app/components'\nimport createRows from './create-rows'\n\n\nconst OverviewStats = ({stats}: {stats: OverviewStatsCalc}) => {\n    const rows: Array<Array<ReactNode>> = createRows(stats);\n    \n    return(\n        <div>\n            <Table\n                title='Statistics'\n                rows={rows}\n                style={{textAlign: 'left'}}\n                bodyColumnConditionalStyle={{\n                    condition: (columnIndex) => columnIndex % 2 !== 0,\n                    style: {background: getColor('light-gray')}\n                }}\n                data-testid='overview-stats' />\n        </div>\n    );\n}\n\n\nexport default OverviewStats","import {ReactNode} from 'react'\nimport {OverviewWeeklySummaryCalc} from 'calculator'\nimport {P} from '@components/text'\nimport {formatMoney} from '@apps/trader-app/utils'\nimport {getColor} from '@conf/utils'\n\n\nconst createRows = (summary: OverviewWeeklySummaryCalc): Array<Array<ReactNode>> => {\n    const rows = \n        Object.keys(summary).map((date) => (\n            [\n                <P>{date}</P>,\n                <P>{summary[date].trades.toString()}</P>,\n                resultInColor(summary[date].result),\n            ]\n        ));\n    return rows\n}\n\nconst resultInColor = (result: number): ReactNode => {\n    return result === 0 ?\n        <P>{formatMoney(result)}</P> \n        : result < 0 ? \n            <P style={{color: getColor('red')}}>{formatMoney(result)}</P> \n            : <P style={{color: getColor('light-blue')}}>{formatMoney(result)}</P>\n}\n\nexport default createRows","import {ReactNode} from 'react'\nimport {OverviewWeeklySummaryCalc} from 'calculator'\nimport {getColor} from '@conf/utils'\nimport {Table} from '@apps/trader-app/components'\nimport createRows from './create-rows'\n\n\nconst WeeklySummary = ({summary}: {summary: OverviewWeeklySummaryCalc}) => {\n    const rows: Array<Array<ReactNode>> = createRows(summary);\n    const headers: string[] = ['Date', 'Trades', 'Result'];\n    return(\n        <div>\n            <Table\n                title='Weekly Summary'\n                headers={headers} \n                rows={rows}\n                headerStyle={{textAlign: 'center'}}\n                bodyColumnConditionalStyle={{\n                    condition: (columnIndex) => columnIndex % 2 !== 0 ? true : false,\n                    style: {backgroundColor: getColor('light-gray')}\n                }}\n                data-testid='weekly-summary'\n                />\n        </div>\n    );\n}\n\nexport default WeeklySummary","import {useState} from 'react'\nimport {PageContainer, PageHeading, useRecalc} from '@apps/trader-app/components'\nimport {overviewCalculations, OverviewCalculations} from 'calculator'\nimport {defaultOverviewCalc} from './const'\nimport OverviewCards from './overview-cards'\nimport AccountReturnsGraph from './account-returns-graph'\nimport OverviewStats from './overview-stats'\nimport WeeklySummary from './weekly-summary'\nimport './style.css'\n\n\nconst Overview = () => {\n    const [overviewCalc, setOverviewCalc] = useState<OverviewCalculations>(defaultOverviewCalc);\n    useRecalc(overviewCalculations, setOverviewCalc);\n\n    return(\n        <PageContainer>\n            <PageHeading heading='Overview' />\n            <OverviewCards calc={overviewCalc.cardsCalc} />\n            <AccountReturnsGraph data={overviewCalc.accountReturnsGraphCalc} />\n            <div id='apps-trader-app-pages-overview-stats-and-weekly-summary-container'>\n                <OverviewStats stats={overviewCalc.statsCalc} />\n                <WeeklySummary summary={overviewCalc.weeklySummaryCalc} />\n            </div>\n        </PageContainer>\n    )\n}\n\nexport default Overview","import {CashGraphCalc, CashGraphItem} from 'calculator'\nimport {Graph} from '@apps/trader-app/components'\nimport {objObjArrayTo2dp} from '@apps/trader-app/utils'\n\n\nconst CashGraph = ({data}: {data: CashGraphCalc}) => {\n    const options = objObjArrayTo2dp({\n        'Today': data.todayGraphCalc,\n        'This Week': data.thisWeekGraphCalc,\n        'This Month': data.thisMonthGraphCalc,\n        'This Year': data.thisYearGraphCalc,\n        'All Time': data.allTimeGraphCalc\n    }, 'balance');\n    return(\n        <Graph\n            title='Cash'\n            selectorOptions={options}\n            xAxisKey='tradeNo'\n            yAxisKey='balance'\n            outline={true}\n            data-testid='cash-graph'\n            />\n    )\n}\n\n\n\nexport default CashGraph","import {GainsGraphCalc} from 'calculator'\nimport {Graph} from '@apps/trader-app/components'\nimport {objObjArrayTo2dp} from '@apps/trader-app/utils';\n\n\nconst GainsGraph = ({data}: {data: GainsGraphCalc}) => {\n    const options = objObjArrayTo2dp({\n        'Today': data.todayGraphCalc,\n        'This Week': data.thisWeekGraphCalc,\n        'This Month': data.thisMonthGraphCalc,\n        'This Year': data.thisYearGraphCalc,\n        'All Time': data.allTimeGraphCalc\n    }, 'gainsPercent');\n    return(\n        <Graph\n            title='Gains'\n            selectorOptions={options}\n            xAxisKey='tradeNo'\n            yAxisKey='gainsPercent'\n            tooltipName='Gains %'\n            outline={true}\n            data-testid='gains-graph'\n            />\n    )\n}\n\nexport default GainsGraph","import {CashAndGainsCalculations, CashGraphCalc, GainsGraphCalc} from 'calculator'\n\nconst defaultGraphCalc = {\n    todayGraphCalc: [],\n    thisWeekGraphCalc: [],\n    thisMonthGraphCalc: [],\n    thisYearGraphCalc: [],\n    allTimeGraphCalc: []\n}\n\nconst defaultCashGraphCalc: CashGraphCalc = defaultGraphCalc;\n\nconst defaultGainsGraphCalc: GainsGraphCalc = defaultGraphCalc;\n\nconst defaultCashAndGainsCalc: CashAndGainsCalculations = {\n    cashGraphCalc: defaultCashGraphCalc,\n    gainsGraphCalc: defaultGainsGraphCalc\n}\n\nexport default defaultCashAndGainsCalc","import {useState} from 'react'\nimport {cashAndGainsCalculations} from 'calculator'\nimport {PageContainer, PageHeading, useRecalc} from '@apps/trader-app/components'\nimport CashGraph from './cash-graph'\nimport GainsGraph from './gains-graph'\nimport defaultCashAndGainsCalc from './const'\nimport './style.css'\n\n\nconst CashAndGains = () => {\n    const [cashAndGainsCalc, setCashAndGainsCalc] = useState(defaultCashAndGainsCalc);\n    useRecalc(cashAndGainsCalculations, setCashAndGainsCalc);\n    return(\n        <PageContainer className='apps-trader-app-pages-cash-and-gains-container'>\n            <PageHeading heading='Cash and Gains' />\n            <CashGraph data={cashAndGainsCalc.cashGraphCalc} />\n            <GainsGraph data={cashAndGainsCalc.gainsGraphCalc} />\n        </PageContainer>\n    )\n}\n\nexport default CashAndGains","import {to2dpstring} from '@apps/trader-app/utils'\nimport {BP, P} from '@components/text'\nimport {ExpensesTableCalc} from 'calculator'\n\n\nconst createRows = (calcs: ExpensesTableCalc) => {\n    const rows = calcs.map((calc) => ([\n        <BP>{calc.pair}</BP>,\n        <P>{to2dpstring(calc.commission ? calc.commission : 0)}</P>,\n        <P>{to2dpstring(calc.swap ? calc.swap : 0)}</P>\n    ]));\n    return rows\n}\n\nexport default createRows","import {ExpensesCalc} from 'calculator'\n\n\nconst defaultExpensesCalc: ExpensesCalc = {\n    expensesTableCalc: []\n}\n\nexport default defaultExpensesCalc","import {useState} from 'react'\nimport {ExpensesCalc, expensesCalculations} from 'calculator'\nimport {PageContainer, PageHeading, Table, useRecalc} from '@apps/trader-app/components'\nimport {getColor} from '@conf/utils'\nimport createRows from './create-rows'\nimport defaultExpensesCalc from './const'\n\n\nconst Expenses = () => {\n    const [expensesCalc, setExpensesCalc] = useState(defaultExpensesCalc);\n    const headers = ['Pair', 'Commissions ($)', 'Swap Fees ($)'];\n    const [rows, setRows] = useState(createRows(expensesCalc.expensesTableCalc));\n    useRecalc(expensesCalculations, setExpensesCalc, (newExpensesCalc: ExpensesCalc) => {\n        setRows(createRows(newExpensesCalc.expensesTableCalc));\n    });\n\n    return(\n        <PageContainer>\n            <PageHeading heading='Expenses' />\n            <Table\n                headers={headers}\n                rows={rows}\n                bodyColumnConditionalStyle={{\n                    condition: (i) => i === 1,\n                    style: {background: getColor('light-gray')}\n                }}\n                data-testid='expenses-table'\n                />\n        </PageContainer>\n    )\n}\n\nexport default Expenses","import {BP, P} from '@components/text'\nimport {formatMoney, formatPercent, to2dpstring} from '@apps/trader-app/utils'\nimport {LongShortComparisonTableCalc} from 'calculator/dist'\n\n\nconst createRows = (data: LongShortComparisonTableCalc) => {\n    return(\n        [\n            [\n                <BP>No. of Trades</BP>,\n                <P>{data.long.noOfTrades.toString()}</P>,\n                <P>{data.short.noOfTrades.toString()}</P>\n            ],\n            [\n                <BP>Result</BP>,\n                <P>{formatMoney(data.long.result)}</P>,\n                <P>{formatMoney(data.short.result)}</P>\n            ],\n            [\n                <BP>Win Rate</BP>,\n                <P>{formatPercent(data.long.winRate)}</P>,\n                <P>{formatPercent(data.short.winRate)}</P>\n            ],\n            [\n                <BP>Average Profit</BP>,\n                <P>{formatMoney(data.long.aveProfit)}</P>,\n                <P>{formatMoney(data.short.aveProfit)}</P>\n            ],\n            [\n                <BP>RRR</BP>,\n                <P>{to2dpstring(data.long.rrr)}</P>,\n                <P>{to2dpstring(data.short.rrr)}</P>\n            ],\n        ]\n    )\n}\n\nexport default createRows","import {Table} from'@apps/trader-app/components'\nimport {getColor} from '@conf/utils'\nimport createRows from './create-rows'\nimport {LongShortComparisonTableCalc} from 'calculator/dist'\n\nconst LongShortComparisonTable = ({data}: {data: LongShortComparisonTableCalc}) => {\n    const headers = ['', 'Long', 'Short'];\n    const rows = createRows(data);\n    return(\n        <div>\n            <Table\n                title='Long / Short Comparison'\n                headers={headers}\n                rows={rows}\n                headerStyle={{textAlign: 'center'}}\n                bodyColumnConditionalStyle={[\n                    {\n                        condition: (columnIndex) => columnIndex === 0,\n                        style: {textAlign: 'left'}\n                    },\n                    {\n                        condition: (columnIndex) => columnIndex === 1,\n                        style: {background: getColor('xlight-green')}\n                    },\n                    {\n                        condition: (columnIndex) => columnIndex === 2,\n                        style: {background: getColor('light-red')}\n                    }\n                ]}\n                data-testid='long-short-comparison-table'\n            />\n        </div>\n    )\n}\n\nexport default LongShortComparisonTable","import {Graph} from '@apps/trader-app/components'\nimport {objArrayTo2dp} from '@apps/trader-app/utils'\nimport {LongShortComparisonGraphCalc} from 'calculator/dist'\n\n\nconst LongShortBarGraph = ({data}: {data: LongShortComparisonGraphCalc}) => {\n    const refinedData = objArrayTo2dp(data, 'result');\n    return(\n        <div>\n            <Graph\n                title='Long / Short'\n                data={refinedData}\n                variant='bar'\n                xAxisKey='label'\n                yAxisKey='result'\n                outline={true}\n                headerIsOutside={true}\n                headerPaddingTop={0}\n                height={270}\n                data-testid='long-short-bar-graph'\n                />\n        </div>\n    )\n}\n\nexport default LongShortBarGraph","import {Graph} from '@apps/trader-app/components'\nimport {objArrayTo2dp} from '@apps/trader-app/utils';\nimport {LongBalanceGraphCalc} from 'calculator/dist'\n\n\nconst LongBalanceGraph = ({data}: {data: LongBalanceGraphCalc}) => {\n    const refinedData = objArrayTo2dp(data, 'result');\n    return(\n        <Graph\n            title='Long Balance'\n            data={refinedData}\n            xAxisKey='tradeNo'\n            yAxisKey='result'\n            outline={true}\n            headerIsOutside={true}\n            data-testid='long-balance-graph'\n            />\n    );\n}\n\nexport default LongBalanceGraph","import {Graph} from '@apps/trader-app/components'\nimport {objArrayTo2dp} from '@apps/trader-app/utils'\nimport {ShortBalanceGraphCalc} from 'calculator/dist'\n\n\nconst ShortBalanceGraph = ({data}: {data: ShortBalanceGraphCalc}) => {\n    const refinedData = objArrayTo2dp(data, 'result');\n    return(\n        <Graph\n            title='Short Balance'\n            data={refinedData}\n            xAxisKey='tradeNo'\n            yAxisKey='result'\n            outline={true}\n            headerIsOutside={true}\n            data-testid='short-balance-graph'\n            />\n    );\n}\n\nexport default ShortBalanceGraph","import {LongBalanceGraphCalc, LongShortAnalysisCalculations,\n    LongShortComparisonGraphCalc, LongShortComparisonTableCalc, ShortBalanceGraphCalc} from 'calculator'\n\nconst defaultLongShortComparisonGraphCalc: LongShortComparisonGraphCalc = [\n    {label: 'long', result: 0},\n    {label: 'short', result: 0}\n]\n\nconst defaultLongBalanceGraphCalc: LongBalanceGraphCalc = []\n\nconst defaultShortBalanceGraphCalc: ShortBalanceGraphCalc = [];\n\nconst defaultLongShortComparisonTableCalcItem = {\n    noOfTrades: 0,\n    result: 0,\n    winRate: 0,\n    aveProfit: 0,\n    rrr: 0\n}\n\nconst defaultLongShortComparisonTableCalc: LongShortComparisonTableCalc = {\n    long: defaultLongShortComparisonTableCalcItem,\n    short: defaultLongShortComparisonTableCalcItem\n}\n\nconst defaultLongShortAnalysisCalc: LongShortAnalysisCalculations = {\n    longShortComparisonGraphCalc: defaultLongShortComparisonGraphCalc,\n    longBalanceGraphCalc: defaultLongBalanceGraphCalc,\n    shortBalanceGraphCalc: defaultShortBalanceGraphCalc,\n    longShortComparisonTableCalc: defaultLongShortComparisonTableCalc\n}\n\nexport default defaultLongShortAnalysisCalc","import {useState} from 'react'\nimport {longShortAnalysisCalculations} from 'calculator'\nimport {PageContainer, PageHeading, useRecalc} from '@apps/trader-app/components'\nimport LongShortComparisonTable from './long-short-comparison-table'\nimport LongShortBarGraph from './long-short-bar-graph'\nimport LongBalanceGraph from './long-balance-graph'\nimport ShortBalanceGraph from './short-balance-graph'\nimport defaultLongShortAnalysisCalc from './const'\nimport './style.css'\n\n\nconst LongShortAnalysis = () => {\n    const [longShortAnalysisCalc, setLongShortAnalysisCalc] = useState(defaultLongShortAnalysisCalc);\n    useRecalc(longShortAnalysisCalculations, setLongShortAnalysisCalc);\n\n    return(\n        <PageContainer>\n            <PageHeading heading='Long / Short Analysis' />\n            <div className='apps-trader-app-pages-long-short-analysis-container'>\n                <div>\n                    <LongShortComparisonTable data={longShortAnalysisCalc.longShortComparisonTableCalc} />\n                    <LongShortBarGraph data={longShortAnalysisCalc.longShortComparisonGraphCalc} />\n                </div>\n                <div>\n                    <LongBalanceGraph data={longShortAnalysisCalc.longBalanceGraphCalc} />\n                    <ShortBalanceGraph data={longShortAnalysisCalc.shortBalanceGraphCalc} />\n                </div>\n            </div>\n        </PageContainer>\n    )\n}\n\nexport default LongShortAnalysis","import {Graph} from '@apps/trader-app/components'\nimport {objArrayTo2dp} from '@apps/trader-app/utils'\nimport {AveReturnsPerPairGraphCalc} from 'calculator'\n\n\nconst AveReturnPerPairGraph = ({data}: {data: AveReturnsPerPairGraphCalc}) => {\n    const graphData: AveReturnsPerPairGraphCalc = data.length === 0 ? [{pair: '', result: 0}]\n        : objArrayTo2dp(data, 'result');\n    return(\n        <Graph\n            title='Average Return Per Pair'\n            variant='bar'\n            data={graphData}\n            xAxisKey='pair'\n            yAxisKey='result'\n            outline={true}\n            headerIsOutside={true}\n            data-testid='ave-returns-per-pair-graph'\n            />\n    )\n}\n\nexport default AveReturnPerPairGraph","import {Graph} from '@apps/trader-app/components'\nimport {objArrayTo2dp} from '@apps/trader-app/utils'\nimport {AveRrrPerPairGraphCalc} from 'calculator'\n\n\nconst AveRrrPerPairGraph = ({data}: {data: AveRrrPerPairGraphCalc}) => {\n    const graphData: AveRrrPerPairGraphCalc = data.length === 0 ? [{pair: '', rrr: 0}]\n        : objArrayTo2dp(data, 'rrr');\n    return(\n        <Graph\n            title='Average RRR Per Pair'\n            variant='bar'\n            data={graphData}\n            xAxisKey='pair'\n            yAxisKey='rrr'\n            outline={true}\n            headerIsOutside={true}\n            data-testid='ave-rrr-per-pair-graph'\n            />\n    )\n}\n\nexport default AveRrrPerPairGraph","import {BP, P} from '@components/text'\nimport {getColor} from '@conf/utils'\nimport {formatPercent, to2dp} from '@apps/trader-app/utils'\nimport {PairsTableCalc} from './types'\n\n\nconst createRows = (calcs: Array<PairsTableCalc>) => {\n    const rows = calcs.map((calc) => ([\n        <BP style={{color: getColor('dark-gray')}}>{calc.pair}</BP>,\n        <P>{calc.noOfTradesOnPair.toString()}</P>,\n        <P>{noWithPercent(calc.noOfProfitableTradesOnPair, calc.profitableTradesOnPairPercent)}</P>,\n        <P>{noWithPercent(calc.noOfLosingTradesOnPair, calc.losingTradesOnPairPercent)}</P>,\n        <P>{noWithPercent(calc.noOfShortsOnPair, calc.shortsOnPairPercent)}</P>,\n        <P>{noWithPercent(calc.noOfLongsOnPair, calc.longsOnPairPercent)}</P>,\n        <P>{noWithPercent(to2dp(calc.noOfTpOnPair), calc.tpOnPairPercent)}</P>,\n        <P>{noWithPercent(to2dp(calc.noOfSlOnPair), calc.slOnPairPercent)}</P>,\n    ]));\n    return rows;\n}\n\nconst noWithPercent = (n: number, percent: number) => {\n    return `${n} (${formatPercent(percent)})`\n}\n\nexport default createRows","import {Table} from '@apps/trader-app/components'\nimport {HeaderItemObject} from '@apps/trader-app/components/table/types'\nimport {getColor} from '@conf/utils'\nimport createRows from './create-rows'\nimport {PairsTablePropTypes} from './types'\n\n\nconst PairsTable = ({calc}: PairsTablePropTypes) => {\n    const rows = createRows(calc);\n    return(\n        <Table\n            headers={[\n                [\n                    headerObj('Pair', 2), headerObj('Positions', 2),\n                    headerObj('Trades (%)', 2), headerObj('Triggered Positions (%)', 2)],\n                ['', 'Total', 'Profitable', 'Losing', 'Short', 'Long', 'TP', 'SL']\n            ]}\n            rows={rows}\n            headerStyle={{\n                textAlign: 'center'\n            }}\n            headerRowTextConditionalStyle={{\n                condition: (i) => i === 1,\n                style: {color: getColor('dark-gray')}\n            }}\n            bodyColumnConditionalStyle={[\n                {condition: (i) => i === 1, style: {background: getColor('light-gray')}},\n                {condition: (i) => i === 2 || i === 6, style: {background: getColor('xlight-green')}},\n                {condition: (i) => i === 3 || i === 7, style: {background: getColor('light-red')}}\n            ]}\n            data-testid='pairs-table'\n            />\n    );\n}\n\nconst headerObj = (name: string, colSpan?: number) => {\n    const obj: HeaderItemObject = {name};\n    if(colSpan !== undefined){\n        obj.colSpan = colSpan;\n    }\n    return obj\n}\n\nexport default PairsTable","import {PairsAnalysisCalculations, AveReturnsPerPairGraphCalc,\n    AveRrrPerPairGraphCalc, PairsAnalysisTableCalc} from 'calculator/dist'\n\n\nconst defaultAveReturnPerPairGraphCalc: AveReturnsPerPairGraphCalc = []\nconst defaultAveRrrPerPairGraphData: AveRrrPerPairGraphCalc = []\nconst defaultPairsAnalysisTableCalc: PairsAnalysisTableCalc = []\n\nconst defaultPairsAnalysisCalc: PairsAnalysisCalculations = {\n    aveReturnsPerPairGraphCalc: defaultAveReturnPerPairGraphCalc,\n    aveRrrPerPairGraphCalc: defaultAveRrrPerPairGraphData,\n    pairsAnalysisTableCalc: defaultPairsAnalysisTableCalc\n}\n\nexport {\n    defaultPairsAnalysisCalc\n}","import {useState} from 'react'\nimport {PageContainer, PageHeading} from '@apps/trader-app/components'\nimport AveReturnPerPairGraph from './ave-return-per-pair-graph'\nimport AveRrrPerPairGraph from './ave-rrr-per-pair-graph'\nimport PairsTable from './pairs-table'\nimport {useRecalc} from '@apps/trader-app/components'\nimport {pairsAnalysisCalculations, PairsAnalysisCalculations} from 'calculator'\nimport {defaultPairsAnalysisCalc} from './const'\n\n\n\nconst PairsAnalysis = () => {\n    const [pairsAnalysisCalc, setPairsAnalysisCalc] = useState<PairsAnalysisCalculations>(defaultPairsAnalysisCalc);\n    useRecalc(pairsAnalysisCalculations, setPairsAnalysisCalc);\n    return(\n        <PageContainer>\n            <PageHeading heading='Pairs Analysis' />\n            <PairsTable calc={pairsAnalysisCalc.pairsAnalysisTableCalc} />\n            <AveReturnPerPairGraph data={pairsAnalysisCalc.aveReturnsPerPairGraphCalc} />\n            <AveRrrPerPairGraph data={pairsAnalysisCalc.aveRrrPerPairGraphCalc} />\n        </PageContainer>\n    )\n}\n\nexport default PairsAnalysis","import {DailyReturnsPerPeriodGraphCalc, MonthlyReturnsPerPeriodGraphCalc,\n    PeriodAnalysisCalculations, ReturnsPerPeriodGraphCalc, YearlyReturnsPerPeriodGraphCalc} from 'calculator'\n\n\nconst defaultDailyReturns: DailyReturnsPerPeriodGraphCalc = [\n    {day: 'Monday', result: 0},\n    {day: 'Tuesday', result: 0},\n    {day: 'Wednesday', result: 0},\n    {day: 'Thursday', result: 0},\n    {day: 'Friday', result: 0}\n]\n\nconst defaultMonthlyReturns: MonthlyReturnsPerPeriodGraphCalc = [\n    {month: 'January', result: 0},\n    {month: 'February', result: 0},\n    {month: 'March', result: 0},\n    {month: 'April', result: 0},\n    {month: 'May', result: 0},\n    {month: 'June', result: 0},\n    {month: 'July', result: 0},\n    {month: 'August', result: 0},\n    {month: 'September', result: 0},\n    {month: 'October', result: 0},\n    {month: 'November', result: 0},\n    {month: 'December', result: 0},\n]\n\nconst defaultYearlyReturns: YearlyReturnsPerPeriodGraphCalc = []\n\nconst defaultReturnsPerPeriodGraphCalc: ReturnsPerPeriodGraphCalc = {\n    daily: defaultDailyReturns,\n    monthly: defaultMonthlyReturns,\n    yearly: defaultYearlyReturns\n}\n\nconst defaultPeriodAnalysisCalculations: PeriodAnalysisCalculations = {\n    returnsPerPeriodGraphCalc: defaultReturnsPerPeriodGraphCalc\n}\n\nexport default defaultPeriodAnalysisCalculations","import {useState} from 'react'\nimport {PeriodAnalysisCalculations, ReturnsPerPeriodGraphCalc, periodAnalysisCalculations} from 'calculator'\nimport {Graph, PageContainer, PageHeading, useRecalc} from '@apps/trader-app/components'\nimport {objObjArrayTo2dp} from '@apps/trader-app/utils'\nimport defaultPeriodAnalysisCalc from './const'\n\n\nconst PeriodAnalysis = () => {\n    const [periodAnalysisCalc, setPeriodAnalysisCalc] = useState<PeriodAnalysisCalculations>(defaultPeriodAnalysisCalc);\n    useRecalc(periodAnalysisCalculations, setPeriodAnalysisCalc);\n    const returnsPerPeriodGraphCalc: ReturnsPerPeriodGraphCalc = objObjArrayTo2dp({\n        ...periodAnalysisCalc.returnsPerPeriodGraphCalc,\n        yearly: periodAnalysisCalc.returnsPerPeriodGraphCalc.yearly.length === 0 ?\n            [{year: 0, result: 0}, {year: 0, result: 0}]\n            : periodAnalysisCalc.returnsPerPeriodGraphCalc.yearly\n    }, 'result');\n    return(\n        <PageContainer>\n            <PageHeading heading='Period Analysis' />\n            <Graph\n                title='Returns Per Period'\n                variant='bar'\n                xAxisKey={{'daily': 'day', 'monthly': 'month', 'yearly': 'year'}}\n                yAxisKey='result'\n                selectorOptions={returnsPerPeriodGraphCalc}\n                outline={true}\n                data-testid='returns-per-period-graph'\n                />\n        </PageContainer>\n    )\n}\n\nexport default PeriodAnalysis","import {Graph} from '@apps/trader-app/components'\nimport {objArrayTo2dp} from '@apps/trader-app/utils'\nimport {TimeAnalysisGraphCalc, TimeAnalysisGraphCalcItem} from 'calculator'\n\n\nconst TimeAnalysisGraph = ({data}: {data: TimeAnalysisGraphCalc}) => {\n    const format = (data: TimeAnalysisGraphCalcItem[]) => {\n        if(data.length === 0){\n            return [{openHour: '', result: 0}]\n        }\n        return objArrayTo2dp(data, 'result');\n    }\n    const options = {\n        'Today': format(data.todayGraphCalc),\n        'This Week': format(data.thisWeekGraphCalc),\n        'This Month': format(data.thisMonthGraphCalc),\n        'This Year': format(data.thisYearGraphCalc),\n        'All Time': format(data.allTimeGraphCalc)\n    }\n    return(\n        <Graph\n            title='Open Hour'\n            variant='bar'\n            xAxisKey='openHour'\n            yAxisKey='result'\n            selectorOptions={options}\n            outline={true}\n            data-testid='open-hour-graph'\n            />\n    )\n}\n\nexport default TimeAnalysisGraph","import {P, BP} from '@components/text'\nimport {formatMoney} from '@apps/trader-app/utils'\nimport {TradeDurationTableCalc} from 'calculator'\n\nconst createRows = (calcs: TradeDurationTableCalc) => {\n    const rows = calcs.map((calc) => ([\n        <BP>{calc.duration}</BP>,\n        <P>{calc.noOfTrades.toString()}</P>,\n        <P>{formatMoney(calc.result)}</P>\n    ]))\n    return rows\n}\n\n\nexport default createRows","import {Table} from '@apps/trader-app/components'\nimport {getColor} from '@conf/utils'\nimport createRows from './create-rows'\nimport {TradeDurationTableCalc} from 'calculator'\n\n\nconst TradeDurationTable = ({calc}: {calc: TradeDurationTableCalc}) => {\n    const headers = ['Duration', 'Num. of Trades', 'Result'];\n    const rows = createRows(calc);\n    return(\n        <Table\n            title='Results By Trade Duration'\n            headers={headers}\n            rows={rows}\n            bodyColumnConditionalStyle={{\n                condition: (i) => i === 1,\n                style: {background: getColor('light-gray')}\n            }}\n            data-testid='trade-duration-table'\n            />\n    )\n}\n\nexport default TradeDurationTable","import {P, BP} from '@components/text'\nimport {formatMoney} from '@apps/trader-app/utils'\nimport {OpenHourTableCalc} from 'calculator'\n\n\nconst createRows = (calcs: OpenHourTableCalc) => {\n    const rows = calcs.map((calc) => ([\n        <BP>{calc.hour}</BP>,\n        <P>{calc.noOfTrades.toString()}</P>,\n        <P>{formatMoney(calc.result)}</P>\n    ]))\n    return rows\n}\n\n\nexport default createRows","import {Table} from '@apps/trader-app/components'\nimport {getColor} from '@conf/utils'\nimport createRows from './create-rows'\nimport {OpenHourTableCalc} from 'calculator'\n\n\nconst OpenHourTable = ({calc}: {calc: OpenHourTableCalc}) => {\n    const headers = ['Open Hour', 'Num. of Trades', 'Result'];\n    const rows = createRows(calc);\n    return(\n        <Table\n            title='Results By Open Hour'\n            headers={headers}\n            rows={rows}\n            bodyColumnConditionalStyle={{\n                condition: (i) => i === 1,\n                style: {background: getColor('light-gray')}\n            }}\n            data-testid='open-hour-table'\n            />\n    )\n}\n\nexport default OpenHourTable","import {OpenHourTableCalc, TimeAnalysisGraphCalc,\n    TradeDurationTableCalc, TradingTimeAnalysisCalculations} from 'calculator';\n\nconst defaultTradeDurationTableCalc: TradeDurationTableCalc =  [];\n\nconst defaultOpenHourCalc: OpenHourTableCalc = [];\n\nconst defaultTimeAnalysisGraphCalc: TimeAnalysisGraphCalc = {\n    todayGraphCalc: [],\n    thisWeekGraphCalc: [],\n    thisMonthGraphCalc: [],\n    thisYearGraphCalc: [],\n    allTimeGraphCalc: []\n}\n\nconst defaultTradingTimeAnalysis: TradingTimeAnalysisCalculations = {\n    timeAnalysisGraphCalc: defaultTimeAnalysisGraphCalc,\n    tradeDurationTableCalc: defaultTradeDurationTableCalc,\n    openHourTableCalc: defaultOpenHourCalc\n}\n\nexport default defaultTradingTimeAnalysis   ","import {useState} from 'react'\nimport {PageContainer, PageHeading, useRecalc} from '@apps/trader-app/components'\nimport {TradingTimeAnalysisCalculations, tradingTimeAnalysisCalculations} from 'calculator'\nimport TimeAnalysisGraph from './time-analysis-graph'\nimport TradeDurationTable from './trade-duration-table'\nimport OpenHourTable from './open-hour-table'\nimport defaultTradingTimeAnalysisCalc from './const'\nimport './style.css'\n\n\nconst TimeAnalysis = () => {\n    const [\n        tradingTimeAnalysisCalc,\n        setTradingTimeAnalysisCalc\n    ] = useState<TradingTimeAnalysisCalculations>(defaultTradingTimeAnalysisCalc);\n    useRecalc(tradingTimeAnalysisCalculations, setTradingTimeAnalysisCalc);\n\n    return(\n        <PageContainer>\n            <PageHeading heading='Trading Time Analysis' />\n            <TimeAnalysisGraph data={tradingTimeAnalysisCalc.timeAnalysisGraphCalc} />\n            <div id='apps-trader-app-pages-time-analysis-tables-container'>\n                <TradeDurationTable calc={tradingTimeAnalysisCalc.tradeDurationTableCalc} />\n                <OpenHourTable calc={tradingTimeAnalysisCalc.openHourTableCalc} />\n            </div>\n        </PageContainer>\n    )\n}\n\nexport default TimeAnalysis","import {ColumnBox} from '@components/containers'\nimport {H6, P} from '@components/text'\n\n\nconst EmailSection = ({email}: {email: string}) => {\n    return(\n        <ColumnBox>\n            <H6>Your Email</H6>\n            <P>{email}</P>\n        </ColumnBox>\n    )\n}\n\nexport default EmailSection","import {ColumnBox} from '@components/containers'\nimport {H6, P} from '@components/text'\nimport {RouteConst} from '@conf/const'\n\n\nconst ChangePasswordSection = () => {\n    const {INFO_CHANGE_PASSWORD_ROUTE} = RouteConst;\n    return(\n        <ColumnBox>\n            <H6>Your Password</H6>\n            <P>Change your password</P>\n            <a\n                href={`/${INFO_CHANGE_PASSWORD_ROUTE}`}\n                target='_blank'\n                rel='noreferrer'\n                >change password</a>\n        </ColumnBox>\n    )\n}\n\nexport default ChangePasswordSection","import ReactGA from 'react-ga4'\nimport Http from '@services/http'\nimport {HttpConst, RouteConst} from '@conf/const'\nimport {ToastFuncType} from '@components/toast/types'\n\n\n/**\n * @param Toast toast object to alert user of errors\n * @param navigate function used to navigate to another page after successful account deletion\n * @param thenFunc function to be executed after attempt to delete, whether it ends in success or error\n * @param followUpNo number of times request has been remade\n */\nconst deleteAccount = (\n    userId: number,\n    Toast: ToastFuncType,\n    navigate: Function,\n    thenFunc: Function,\n    followUpNo: number = 0\n) => {\n    const {BASE_URL, DELETE_ACCOUNT_URL} = HttpConst;\n    setTimeout(() => Http.delete({\n        url: `${BASE_URL}/${DELETE_ACCOUNT_URL}/`,\n        successFunc: (resp: any) => {\n            if('detail' in resp.data){\n                if(resp.data['detail'] === 'removed'){\n                    ReactGA.event('delete_account_success', {\n                        'user_id': userId\n                    });\n                    const {INFO_LOGIN_ROUTE} = RouteConst;\n                    navigate(`/${INFO_LOGIN_ROUTE}`);\n                    thenFunc();\n                } else {\n                    if(followUpNo >= MAX_NO_OF_FOLLOW_UP_REQUESTS){\n                        ReactGA.event('delete_account_fail', {\n                            'user_id': userId\n                        });\n                        Toast.error('Sorry. Something went wrong.');\n                        thenFunc();\n                    } else {\n                        deleteAccount(userId, Toast, navigate, thenFunc, followUpNo + 1);\n                    }\n                }\n            } else {\n                ReactGA.event('delete_account_fail', {\n                    'user_id': userId\n                });\n                Toast.error('Sorry. Something went wrong.');\n                thenFunc();\n            }\n        },\n        errorFunc: (error: any) => {\n            ReactGA.event('delete_account_fail', {\n                'user_id': userId\n            });\n            Toast.error('Sorry. Something went wrong.');\n            thenFunc();\n        },\n    }), firstRequest(followUpNo) ? 0 : TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST);\n}\n\nconst firstRequest = (followUpNo: number) => followUpNo === 0\n\nconst TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST = 5000;\nconst MAX_NO_OF_FOLLOW_UP_REQUESTS = 120;\n\nexport default deleteAccount ","import {useContext, useState} from 'react'\nimport {useNavigate} from 'react-router'\nimport ReactGA from 'react-ga4'\nimport {Button} from '@components/buttons'\nimport {ColumnBox} from '@components/containers'\nimport {H6, P} from '@components/text'\nimport Dialog from '@components/dialog'\nimport {ToastContext} from '@components/toast'\nimport deleteAccount from './delete-account'\nimport LoadingIcon from '@components/loading-icon'\n\n\nconst DeleteAccountSection = ({userId}: {userId: number}) => {  \n    const navigate = useNavigate();\n    const [dialogIsOpen, setDialogIsOpen] = useState(false);\n    const [accountIsDeleting, setAccountIsDeleting] = useState(false);\n    const Toast = useContext(ToastContext);\n    return(\n        <ColumnBox>\n            <Dialog\n                title='Delete Account?'\n                okButtonColor='error'\n                okButtonContent={accountIsDeleting ? <LoadingIcon /> : 'Delete Account'}\n                okButtonProps={{'data-testid': 'confirm-delete-account-button'}}\n                onOkClick={() => {\n                    ReactGA.event('delete_account_attempt', {\n                        'user_id': userId\n                    });\n                    setAccountIsDeleting(true);\n                    deleteAccount(userId, Toast, navigate, () => {\n                        setDialogIsOpen(false);\n                        setAccountIsDeleting(false)\n                    })}\n                }\n                onCancelClick={() => {\n                    ReactGA.event('delete_account_abort', {\n                        'user_id': userId\n                    });\n                    setDialogIsOpen(false)\n                }}\n                showCancelButton={!accountIsDeleting}\n                onClose={() => {\n                    if(!accountIsDeleting){\n                        setDialogIsOpen(false);\n                    }\n                }}\n                open={dialogIsOpen}>\n                    <P>Are you sure you want to delete your account.</P>\n                    <P>All your data will be deleted.</P>\n            </Dialog>\n            <H6>Delete Account</H6>\n            <P>Permanently delete your account. </P>\n            <ColumnBox style={{display: 'inline'}}>\n                <Button\n                    onClick={() => setDialogIsOpen(true)}\n                    color='error'\n                    data-testid='delete-account-button'>Delete Account</Button>\n            </ColumnBox>\n        </ColumnBox>\n    )\n}\n\nexport default DeleteAccountSection","import {Button} from '@components/buttons'\nimport {RouteConst} from '@conf/const'\n\nconst AddAccountButton = ({userCanAddAccount, navigate}: {userCanAddAccount: boolean, navigate: Function}) => { \n    const {TRADER_APP_ROUTE, TRADER_ADD_ACCOUNT_ROUTE} = RouteConst;\n    return(\n        <Button\n            disabled={!userCanAddAccount}\n            onClick={() => navigate(`/${TRADER_APP_ROUTE}/${TRADER_ADD_ACCOUNT_ROUTE}`)}>\n            Add Account\n        </Button>\n    )\n}\n\nexport default AddAccountButton","import {SBP} from '@components/text'\n\n\nconst NoOfAccountsLeftToAddStatus = ({noOfAccounts, maxAccounts, userCanAddAccount}: {noOfAccounts: number, maxAccounts: number, userCanAddAccount: boolean}) => {\n    if(noOfAccounts >= maxAccounts){\n        return(\n            <SBP style={{marginBottom: '10px'}}>\n                You have reached the maximum number of accounts\n            </SBP>\n        )\n    }\n    if(!userCanAddAccount){\n        return (\n            <SBP style={{marginBottom: '10px'}}>\n                You cannot add any more accounts\n            </SBP>\n        )\n    }\n    return(\n        <SBP style={{marginBottom: '10px'}}>\n            You can add only {(maxAccounts - noOfAccounts).toString()} more accounts\n        </SBP>\n    );\n    \n}\n\nexport default NoOfAccountsLeftToAddStatus","import ReactGA from 'react-ga4'\nimport Http from '@services/http'\nimport {HttpConst} from '@conf/const'\nimport {ToastFuncType} from '@components/toast/types'\n\n\n/**\n * @param accountId id of account to delete\n * @param removeAccountFromData function from trader app index to update state after successful deletion\n * @param Toast toast object to alert user of errors\n * @param thenFunc function to be executed after attempt to delete, whether it ends in success or error\n */\nconst removeAccount = (\n    userId:number,\n    accountId: number,\n    removeAccountFromData: Function,\n    Toast: ToastFuncType,\n    thenFunc: Function,\n    followUpNo: number = 0\n) => {\n    const {BASE_URL, REMOVE_TRADING_ACCOUNT_URL} = HttpConst;\n    setTimeout(() => Http.delete({\n        url: `${BASE_URL}/${REMOVE_TRADING_ACCOUNT_URL}/${accountId}/`,\n        successFunc: (resp: any) => {\n            if('detail' in resp.data){\n                if(resp.data['detail'] === 'removed'){\n                    ReactGA.event('remove_account_success', {\n                        'user_id': userId\n                    });\n                    removeAccountFromData(accountId);\n                    thenFunc();\n                } else {\n                    if(followUpNo >= MAX_NO_OF_FOLLOW_UP_REQUESTS){\n                        Toast.error('Sorry. Something went wrong.');\n                        ReactGA.event('remove_account_fail', {\n                            'user_id': userId\n                        });\n                        thenFunc();\n                    } else {\n                        removeAccount(userId, accountId, removeAccountFromData, Toast, thenFunc, followUpNo + 1);\n                    }\n                }\n            } else {\n                ReactGA.event('remove_account_fail', {\n                    'user_id': userId\n                })\n                Toast.error('Sorry. Something went wrong.');\n                thenFunc();\n            }\n        },\n        errorFunc: (error: any) => {\n            ReactGA.event('remove_account_fail', {\n                'user_id': userId\n            });\n            Toast.error('Sorry. Something went wrong.');\n        },\n    }), firstRequest(followUpNo) ? 0 : TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST);\n}\n\nconst firstRequest = (followUpNo: number) => followUpNo === 0\n\nconst TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST = 5000;\nconst MAX_NO_OF_FOLLOW_UP_REQUESTS = 120;\n\nexport default removeAccount","import {useContext, useState} from 'react'\nimport {useNavigate} from 'react-router'\nimport ReactGA from 'react-ga4'\nimport {Button} from '@components/buttons'\nimport {ColumnBox, RowBox} from '@components/containers'\nimport {H6, P} from '@components/text'\nimport {getDimen} from '@conf/utils'\nimport Dialog from '@components/dialog'\nimport {ToastContext} from '@components/toast'\nimport {ConfigConst} from '@conf/const'\nimport LoadingIcon from '@components/loading-icon'\nimport AddAccountButton from './add-account-button'\nimport {AccountsSectionPropTypes, AccountDataWithId} from './types'\nimport NoOfAccountsLeftToAddStatus from './no-of-accounts-left-to-add-status'\nimport removeAccount from './remove-account'\n\n\nconst AccountsSection = ({accounts, removeAccountFromData, userIsOnFreeTrial, userIsSubscribed, userId}: AccountsSectionPropTypes) => {\n    const navigate = useNavigate();\n    const [accountToDelete, setAccountToDelete] = useState<AccountDataWithId>(defaultAccountData);\n    const [isDeleting, setIsDeleting] = useState(false);\n    const Toast = useContext(ToastContext);\n    const maxNoOfAccounts = userIsOnFreeTrial ?\n        ConfigConst.MAX_NO_OF_TRADING_ACCOUNT_FREE_TRIAL_TRADER\n        : ConfigConst.MAX_NO_OF_TRADING_ACCOUNT_SUBSCRIBED_TRADER;\n    const userCanAddAccount = accounts.length < maxNoOfAccounts && (userIsOnFreeTrial || userIsSubscribed);\n    return(\n        <ColumnBox>\n            <Dialog\n                title='Remove Account'\n                onOkClick={() => {\n                    ReactGA.event('remove_account_attempt', {\n                        'user_id': userId\n                    });\n                    removeAccount(userId, accountToDelete.id, removeAccountFromData, Toast, () => {\n                        setIsDeleting(false);\n                        setAccountToDelete(defaultAccountData);\n                    });\n                    setIsDeleting(true);\n                }}\n                okButtonContent={isDeleting ? <LoadingIcon /> : 'ok'}\n                showCancelButton={!isDeleting}\n                onCancelClick={() => {\n                    ReactGA.event('remove_account_abort', {\n                        'user_id': userId\n                    });\n                    setAccountToDelete(defaultAccountData);\n                    setIsDeleting(false);\n                }}\n                onClose={() => {\n                    if(!isDeleting){\n                       setAccountToDelete(defaultAccountData);\n                    }\n                }}\n                open={accountToDelete != defaultAccountData || isDeleting}\n                >\n                    <ColumnBox>\n                        <P>Are you sure you want to remove {accountToDelete ? accountToDelete.name : ''}</P>\n                    </ColumnBox>\n            </Dialog>\n            <H6 style={{marginBottom: getDimen('padding-xs')}}>Your Trading Accounts</H6>\n            {accounts.map((account) => (\n                <RowBox style={{alignItems: 'baseline'}} key={account.id}>\n                    <P style={{marginRight: getDimen('padding-sm')}}>{account.name}</P>\n                    <Button \n                        size='small' \n                        variant='outlined' \n                        onClick={() => {\n                            setAccountToDelete(account);\n                        }}>Remove Account</Button>\n                </RowBox>\n            ))}\n            <div style={{marginTop: getDimen('padding-xs')}}>\n                <NoOfAccountsLeftToAddStatus\n                    noOfAccounts={accounts.length}\n                    maxAccounts={maxNoOfAccounts}\n                    userCanAddAccount={userCanAddAccount} />\n                <AddAccountButton\n                    userCanAddAccount={userCanAddAccount}\n                    navigate={navigate} />\n            </div>\n        </ColumnBox>\n    )\n}\n\nconst defaultAccountData: AccountDataWithId = {\n    id: -1,\n    name: '',\n    trades: [],\n    deposits: [],\n    withdrawals: []\n}\n\nexport default AccountsSection","import Http from '@services/http'\nimport {HttpConst, RouteConst} from '@conf/const'\nimport {ToastFuncType} from '@components/toast/types'\n\n\n/**\n * @param Toast toast object to alert user of errors\n * @param navigate function used to navigate to another page after successful account deletion\n * @param thenFunc function to be executed after attempt to delete, whether it ends in success or error\n * @param followUpNo number of times request has been remade\n */\nconst cancelSubscription = (\n    Toast: ToastFuncType,\n    onSubscriptionCancel: Function,\n    thenFunc: Function,\n    followUpNo: number = 0\n) => {\n    const {BASE_URL, CANCEL_SUBSCRIPTION_URL} = HttpConst;\n    setTimeout(() => Http.get({\n        url: `${BASE_URL}/${CANCEL_SUBSCRIPTION_URL}/`,\n        successFunc: (resp: any) => {\n            if('detail' in resp.data){\n                if(resp.data['detail'] === 'not pending'){\n                    const {TRADER_APP_ROUTE} = RouteConst;\n                    onSubscriptionCancel();\n                    thenFunc();\n                } else {\n                    if(followUpNo >= MAX_NO_OF_FOLLOW_UP_REQUESTS){\n                        Toast.error('Sorry. Something went wrong.');\n                        thenFunc();\n                    } else {\n                        cancelSubscription(Toast, onSubscriptionCancel, thenFunc, followUpNo + 1);\n                    }\n                }\n            } else {\n                console.log('elseblock', resp.data);\n                Toast.error('Sorry. Something went wrong.');\n                thenFunc();\n            }\n        },\n        errorFunc: (error: any) => {\n            console.log('errfunc', error);\n            Toast.error('Sorry. Something went wrong.');\n            thenFunc();\n        },\n    }), firstRequest(followUpNo) ? 0 : TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST);\n}\n\nconst firstRequest = (followUpNo: number) => followUpNo === 0\n\nconst TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST = 5000;\nconst MAX_NO_OF_FOLLOW_UP_REQUESTS = 120;\n\nexport default cancelSubscription","import {useContext, useState} from 'react'\nimport ReactGA from 'react-ga4'\nimport {UserData} from '@apps/trader-app/models/types'\nimport {ColumnBox, RowBox} from '@components/containers'\nimport {H6, P} from '@components/text'\nimport Dialog from '@components/dialog'\nimport {Button} from '@components/buttons'\nimport LoadingIcon from '@components/loading-icon'\nimport cancelSubscription from './cancel-subscription'\nimport {ToastContext} from '@components/toast'\nimport {useNavigate} from 'react-router-dom'\nimport {RouteConst} from '@conf/const'\nimport {SubscriptionCancelContext} from '@apps/trader-app'\n\n\nconst SubscriptionSection = ({subscriptionPlan, daysLeftBeforeFreeTrialExpires, userId}: {subscriptionPlan: UserData['subscription_plan'], daysLeftBeforeFreeTrialExpires: number | string, userId: number}) => {\n    const [dialogIsOpen, setDialogIsOpen] = useState(false);\n    const [subscriptionIsCancelling, setSubscriptionIsCancelling] = useState(false);\n    const onSubscriptionCancel = useContext(SubscriptionCancelContext)\n    const Toast = useContext(ToastContext);\n    const navigate = useNavigate();\n    const format = (plan: UserData['subscription_plan']): string => {\n        switch(plan){\n            case 'none':\n                return 'None'\n            case 'monthly':\n                return 'Monthly'\n            case 'yearly':\n                return 'Yearly'\n            case 'wba-yearly':\n                return 'Wba-Yearly'\n        }\n    }\n    return(\n        <ColumnBox>\n            <Dialog\n                title='Cancel Subscription?'\n                okButtonColor='error'\n                okButtonContent={subscriptionIsCancelling ? <LoadingIcon /> : 'Cancel Subscription'}\n                okButtonProps={{'data-testid': 'confirm-delete-account-button'}}\n                onOkClick={() => {\n                    setSubscriptionIsCancelling(true);\n                    cancelSubscription(Toast, onSubscriptionCancel, () => {\n                        setDialogIsOpen(false);\n                        setSubscriptionIsCancelling(false)\n                    })\n                }}\n                onCancelClick={() => setDialogIsOpen(false)}\n                showCancelButton={!subscriptionIsCancelling}\n                onClose={() => {\n                    if(!subscriptionIsCancelling){\n                        setDialogIsOpen(false);\n                    }\n                }}\n                open={dialogIsOpen}>\n                    <P>Are you sure you want to unsubscribe?</P>\n            </Dialog>\n            <RowBox>\n                <H6>Subscription Plan: &nbsp;</H6>\n                <H6>{format(subscriptionPlan)}</H6>\n            </RowBox>\n            <RowBox>\n                {subscriptionPlan === 'none' ?\n                    <FreeTrialInfo navigate={navigate}\n                        userId={userId}\n                        daysLeftBeforeFreeTrialExpires={daysLeftBeforeFreeTrialExpires} />\n                    : <Button color='error' onClick={() => setDialogIsOpen(true)}>Cancel Subscription</Button>\n                }\n            </RowBox>\n        </ColumnBox>\n    )\n}\n\n\nconst FreeTrialInfo = ({daysLeftBeforeFreeTrialExpires, navigate, userId}: {daysLeftBeforeFreeTrialExpires: number | string, navigate: Function, userId: number}) => {\n    const {TRADER_APP_ROUTE, TRADER_SUBSCRIBE_NOW_ROUTE} = RouteConst;\n    if(typeof(daysLeftBeforeFreeTrialExpires) === 'string' && daysLeftBeforeFreeTrialExpires.includes('not started')){\n        return <P>Your free trial has not yet started</P>\n    }\n    if(daysLeftBeforeFreeTrialExpires !== 0){\n        return(\n            <P>You have {daysLeftBeforeFreeTrialExpires.toString()}&nbsp;\n                more days before your free trial expires</P>\n        )\n    } else {\n        return(\n            <ColumnBox>\n                <P>Your free trial has expired</P>\n                <Button onClick={() => {\n                    ReactGA.event('call_to_action_subscribe', {\n                        'user_id': userId\n                    })\n                    navigate(`/${TRADER_APP_ROUTE}/${TRADER_SUBSCRIBE_NOW_ROUTE}`);\n                }}>Subscribe</Button>\n            </ColumnBox>\n        )\n    }\n}\n\nexport default SubscriptionSection","import {useContext} from 'react'\nimport {H5} from '@components/text'\nimport {GlobalDataContext} from '@apps/trader-app'\nimport {PageContainer, PageHeading} from '@apps/trader-app/components'\nimport EmailSection from './email-section'\nimport ChangePasswordSection from './change-password-section'\nimport DeleteAccountSection from './delete-account'\nimport AccountsSection from './accounts-section'\nimport SubscriptionSection from './subscription-section'\nimport './style.css'\n\n\nconst Settings = ({removeAccountFromGlobalData}: {removeAccountFromGlobalData: Function}) => {\n    const globalData = useContext(GlobalDataContext);\n    return(\n        <PageContainer showDataStatusBar={false}>\n            <PageHeading heading='Settings' dontShowSelector={true} />\n            <div id='apps-trader-app-pages-settings-sections'>\n                <H5>Profile</H5>\n                <div>\n                    <EmailSection email={globalData.getUserEmail()} />\n                    <ChangePasswordSection />\n                    <DeleteAccountSection userId={globalData.getUserId()} />\n                </div>\n                <div>\n                    <H5>Accounts</H5>\n                    <AccountsSection\n                        userId={globalData.getUserId()}\n                        userIsOnFreeTrial={globalData.userIsOnFreeTrial()}\n                        userIsSubscribed={globalData.userIsSubscribed()}\n                        accounts={globalData.getAllAccounts()}\n                        removeAccountFromData={removeAccountFromGlobalData}\n                        />\n                </div>\n                <div>\n                    <H5>Subscription</H5>\n                    <SubscriptionSection \n                        subscriptionPlan={globalData.getUserSubscriptionPlan()}\n                        daysLeftBeforeFreeTrialExpires={globalData.getDaysLeftBeforeFreeTrialExpires()}\n                        userId={globalData.getUserId()} />\n                </div>\n            </div>\n        </PageContainer>\n    )\n}\n\nexport default Settings","import {useContext, useEffect, useState} from 'react'\nimport {useNavigate} from 'react-router'\nimport ReactGA from 'react-ga4'\nimport {Yup} from '@apps/info-app/components'\nimport {Button} from '@components/buttons'\nimport {getColor} from '@conf/utils'\nimport {FormMsg, HttpMsg} from '@services/generic-msg'\nimport {FileInput, SelectInput, TextInput, Form} from '@components/forms'\nimport LoadingIcon from '@components/loading-icon'\nimport {HttpResponseType} from '@services/http'\nimport {buildErrors, canSubmit as baseCanSubmit} from '@components/forms'\nimport {ConfigConst, RouteConst} from '@conf/const'\nimport {RawData} from '@apps/trader-app/models/types'\nimport {P, SBP} from '@components/text'\nimport {ColumnBox} from '@components/containers'\nimport {FormikErrors, FormikProps} from 'formik'\nimport {getDimen} from '@conf/utils'\nimport {AddAccountFormPropTypes} from './types'\nimport { PermissionsObj } from '@apps/trader-app/services/types'\nimport { FormUtils } from '@components/forms/types'\n\n/**\n */\n\nconst AddAccountForm = ({\n    submitValues, onAccountAdded, noOfAccounts, userIsOnFreeTrial, permissions\n}: AddAccountFormPropTypes) => {\n    const navigate = useNavigate();\n    const [brokerNotSupportedProcessNeeded, setBrokerNotSupportedProcessNeeded] = useState(false);\n    const formInitialValues: FormInitialValues = {\n        name: '',\n        login: '',\n        password: '',\n        server: '',\n        platform: platforms[0],\n        brokerInfo: null\n    }\n    return(\n        <Form\n            title='Add Account'\n            initialValues={formInitialValues}\n            validationSchema={Yup.object({\n                name: Yup.string()\n                    .required('Please enter the account name'),\n                login: Yup.number()\n                    .integer('Please enter a valid login number')\n                    .moreThan(0, 'Please enter a valid login number')\n                    .positive('Please enter a valid login number')\n                    .typeError('Please enter a valid login number')\n                    .required(FormMsg.fieldRequiredErr('login')),\n                password: Yup.string()\n                    .min(5, 'Please enter a valid investor password')\n                    .required(FormMsg.fieldRequiredErr('password')),\n                server: Yup.string()\n                    .test('notDemo', 'Account cannot be a demo account', (value?: string): boolean => {\n                        if(value?.toLowerCase().includes('demo')){\n                            //return false;\n                            return true;\n                        } else {\n                            return true;\n                        }\n                    })\n                    .required(FormMsg.fieldRequiredErr('server')),\n                platform: Yup.string()\n                    .required(FormMsg.fieldRequiredErr('years spent trading'))\n                    .oneOf(platforms),\n                brokerInfo: Yup.mixed()\n                    .test('fileUploaded', 'The file is required', (value) => {\n                        if(!value && brokerNotSupportedProcessNeeded){\n                            return false;\n                        }\n                        return true;\n                    })\n                    .test('fileSize', 'The file is too big', (value) => {\n                        console.log('validSize', value);\n                        if(brokerNotSupportedProcessNeeded){\n                            if(value && value.size >= 500000){\n                                return false;\n                            }\n                        }\n                        return true;\n                    })\n                    .test('correctBrokerInfoFileMt4',\n                        'Should be a .srv file for mt4. Change mt version to 5 to upload .dat file',\n                        (value, context) => {\n                        if(brokerNotSupportedProcessNeeded){\n                            if(value && value.name.endsWith('.dat') && context.parent.platform === 'mt4'){\n                                return false;\n                            }\n                        }\n                        return true;\n                    })\n                    .test('correctBrokerInfoFileMt5',\n                        'Should be a .dat file for mt5. Change mt version to 4 to upload .srv file',\n                        (value, context) => {\n                        if(brokerNotSupportedProcessNeeded){\n                            if(value && value.name.endsWith('.srv') && context.parent.platform === 'mt5'){\n                                return false;\n                            }\n                        }\n                        return true;\n                    })\n                    .test('validSrvFile',\n                        'Should be a .srv file',\n                        (value, context) => {\n                        if(brokerNotSupportedProcessNeeded){\n                            if(value && !value.name.endsWith('.srv') && context.parent.platform === 'mt4'){\n                                return false;\n                            }\n                        }\n                        return true;\n                    })\n                    .test('validDatFile',\n                        'Should be a .dat file',\n                        (value, context) => {\n                        if(brokerNotSupportedProcessNeeded){\n                            if(value && !value.name.endsWith('.dat') && context.parent.platform === 'mt5'){\n                                return false;\n                            }\n                        }\n                        return true;\n                    })\n            })}\n            onSubmit={({values, setErrors, setSubmitting, setSuccessMsg, setNonFieldError, setInfoMsg}) => {\n                if(userIsOnFreeTrial){\n                    if(noOfAccounts >= ConfigConst.MAX_NO_OF_TRADING_ACCOUNT_FREE_TRIAL_TRADER){\n                        setNonFieldError('You have reached the maximum number of accounts you can add.');\n                        setSubmitting(false);\n                        return;\n                    }\n                } else {\n                    if(noOfAccounts >= ConfigConst.MAX_NO_OF_TRADING_ACCOUNT_SUBSCRIBED_TRADER){\n                        setNonFieldError('You have reached the maximum number of accounts you can add.');\n                        setSubmitting(false);\n                        return;\n                    }\n                }\n                setNonFieldError('');\n                setInfoMsg('Please wait. This could take several minutes.');\n                let processedValues;\n                if(!values.brokerInfo){\n                    processedValues = Promise.resolve(values);\n                } else {\n                    const fileName = values.brokerInfo.name;\n                    processedValues = toBase64(values.brokerInfo)\n                        .then((brokerInfo) => {\n                            return Promise.resolve({\n                                ...values,\n                                brokerInfoContent: brokerInfo,\n                                brokerInfoName: fileName\n                            })\n                        })\n                        .catch((err) => {\n                            console.log(err);\n                            setInfoMsg('');\n                            setSubmitting(false);\n                            setNonFieldError('Sorry. An unexpected error occured.');\n                        })\n                }\n                processedValues.then((values) => {\n                    console.log(values);\n                    submitValues({\n                        values,\n                        successFunc: submitValuesSuccessFunc(setNonFieldError, onAccountAdded, navigate),\n                        errorFunc: submitValuesErrorFunc(\n                            setBrokerNotSupportedProcessNeeded,\n                            setErrors, setNonFieldError, setSuccessMsg\n                        ),\n                        thenFunc: () => {\n                            setSubmitting(false);\n                            setInfoMsg('');\n                        }\n                    })\n                })\n            }}\n            underTitleComponent={(() => {\n                console.log('In add account form', permissions);\n                if(!permissions.canAddAccount){\n                    return(\n                        <P style={{textAlign: 'center', marginBottom: getDimen('padding-xs')}}>\n                            You cannot add any accounts\n                        </P>\n                    )\n                }\n            })()}>\n        {({values, errors, isSubmitting, submitForm}: FormUtils) => {\n            return (\n            <>\n                <TextInput name='name' placeholder='Account Name' data-testid='name' />\n                <TextInput name='login' placeholder='Login' data-testid='login' />\n                <TextInput name='password' placeholder='Investor Password' type='password' \n                    data-testid='password' />\n                <TextInput name='server' placeholder='Server' data-testid='server' />\n                <SelectInput name='platform' data-testid='platform'\n                    placeholder='MetaTrader Platform Version'\n                    options={platforms} />\n                <ColumnBox style={{display: brokerNotSupportedProcessNeeded ? 'inline' : 'none'}}>\n                    <P>\n                        File: {values.brokerInfo && values.brokerInfo.name && values.brokerInfo.name.length \n                                ? values.brokerInfo.name : 'None'}\n                    </P>\n                    <FileInput name='brokerInfo' data-testid='broker-info'\n                        placeholder={\n                            values.brokerInfo && values.brokerInfo.name && values.brokerInfo.name.length ?\n                            'Change Broker Info' : 'Upload Broker Info'\n                        }\n                        accept='.srv, .dat'/> \n                    <SBP style={{color: getColor('primary-blue'), marginTop: getDimen('padding-xs'),\n                        marginBottom: getDimen('padding-xs')}}>\n                        {values.platform === 'mt4' ? \n                            'Your broker .srv file (mt4)'\n                            : 'Your server .dat file (mt5)'}\n                    </SBP>\n                </ColumnBox>\n                <Button\n                    data-testid='submit-button'\n                    onClick={canSubmit(errors, values, permissions) ? () => submitForm() : () => {}}\n                    disabled={!canSubmit(errors, values, permissions)}>\n                {isSubmitting ?\n                    <LoadingIcon\n                        color={getColor('white')} \n                        style={{padding: '3px'}} />\n                    : 'Add Account'\n                }\n                </Button>\n            </>\n            )}}\n        </Form>\n    )\n}\n\nconst canSubmit = (\n    errors: FormikErrors<any>,\n    values: {[key: string]: any},\n    permissions: PermissionsObj\n): boolean => {\n    return permissions.canAddAccount && baseCanSubmit(errors, values)\n}\n\nconst submitValuesSuccessFunc = (setNonFieldError: Function, onAccountAdded: Function, navigate: Function) => {\n    return (data: RawData) => {\n        setNonFieldError('');\n        ReactGA.event('add_account', {\n            method: 'site '\n        });\n        //ReactGA.\n        onAccountAdded(data);\n        navigate(`/${RouteConst.TRADER_APP_ROUTE}/`);\n    }\n}\n\nconst submitValuesErrorFunc = (setBrokerNotSupportedProcessNeeded: Function, \n    setErrors: Function, setNonFieldError: Function, setSuccessMsg: Function) => {\n    return (err: any) => {\n        try {\n            const errors: {[key: string]: string} = buildErrors(err.response.data, {\n                login: 'login',\n                server: 'server',\n                password: 'password',\n                platform: 'platform'\n            });\n            if(errors['non_field_errors']){\n                if(errors['non_field_errors'].includes('unknown error')){\n                    const unknownErrorMsg = 'An error occured. ' +\n                        'Please, ensure the details you entered are precisely ' +\n                        'correct and try again. If this error persists, please ' +\n                        'contact support.';\n                    errors['non_field_errors'] = unknownErrorMsg;\n                }\n            }\n            if('server' in errors){\n                if(errors['server'].includes('not supported')){\n                    errors['server'] = '';\n                    const serverErrorMsg = 'Unable to perform automatic broker detection. ' +\n                        'Please upload your broker .srv file (mt4) or servers .dat file ' +\n                        '(mt5) in the last field.';\n                    if(errors['non_field_errors'] && errors['non_field_errors'].length){\n                        errors['non_field_errors'] += `\\n${serverErrorMsg}`;\n                    } else {\n                        errors['non_field_errors'] = serverErrorMsg;\n                    }\n                    setBrokerNotSupportedProcessNeeded(true);\n                }\n            }\n            setErrors(errors);\n            if(errors['non_field_errors']){\n                setNonFieldError(errors['non_field_errors'])\n            }\n            setSuccessMsg('')\n        } catch(err){\n            console.log(err);\n            setNonFieldError(\n                'An error occured. ' +\n                'Please check your credentials and ' +\n                'make sure they are precisely correct. ' +\n                'If this error persists, please contact support.'\n            );\n        }\n    }\n}\n\nconst toBase64 = (file: File) => {\n    return new Promise((resolve, reject) => {\n        const fileReader = new FileReader();\n        fileReader.readAsDataURL(file);\n        fileReader.onload = () => {\n            let result = fileReader.result;\n            if(typeof(result) === 'string'){\n                const THE_DATA = 1;\n                result = result.split('data:application/octet-stream;base64,')[THE_DATA];\n            }\n            resolve(result);\n        }\n        fileReader.onerror = (err: any) => {\n            reject(err);\n        }\n    })\n}\n\nconst platforms: ['mt4', 'mt5'] = [\n    'mt4',\n    'mt5'\n];\n\ntype FormInitialValues = {\n\n    name: string,\n    login: string,\n    password: string,\n    server: string,\n    platform: 'mt4' | 'mt5',\n    brokerInfo: File | null\n}\n\nexport default AddAccountForm","import {useContext} from 'react'\nimport ReactGA from 'react-ga4'\nimport {CenterColumnBox} from '@components/containers'\nimport {HttpConst} from '@conf/const'\nimport Http, {HttpErrorType, HttpResponseType} from '@services/http'\nimport {getDimen} from '@conf/utils'\nimport {ToastContext} from '@components/toast'\nimport AddAccountForm from './add-account-form'\nimport {SubmitValuesTypes, AddAccountPropTypes} from './types'\nimport {PermissionsContext} from '@apps/trader-app'\nimport {GlobalData} from '@apps/trader-app/models'\n\n\nconst AddAccount = ({onAccountAdded, noOfAccounts, userIsOnFreeTrial, userId}: AddAccountPropTypes) => {\n    const permissions = useContext(PermissionsContext)\n    const Toast = useContext(ToastContext);\n    /** The function used by the form to submit values\n     * @param config: object used to configure the Http client\n     */\n    const submitValues = (config: SubmitValuesTypes) => {\n        const {BASE_URL, ADD_TRADING_ACCOUNT_URL} = HttpConst;\n        ReactGA.event('add_account_attempt', {\n            'user_id': userId\n        });\n        let successFunc = (resp: HttpResponseType) => {\n            ReactGA.event('add_account_success', {\n                'user_id': userId\n            })\n            config.successFunc();\n        };\n        let errorFunc = (err: HttpErrorType) => {\n            ReactGA.event('add_account_fail', {\n                'user_id': userId\n            });\n            config.errorFunc();\n        };\n        Http.post({\n            url: `${BASE_URL}/${ADD_TRADING_ACCOUNT_URL}/`,\n            data: config.values,\n            successFunc: (resp: any) => makeFollowUpRequests(\n                config.values,\n                successFunc,\n                errorFunc,\n                config.thenFunc\n            ),\n            errorFunc: (resp: HttpErrorType) => {\n                ReactGA.event('add_account_fail', {\n                    'user_id': userId\n                });\n                config.errorFunc(resp);\n                config.thenFunc();\n            }\n        });\n    }\n    const makeFollowUpRequests = (\n        values: SubmitValuesTypes['values'],\n        successFunc: SubmitValuesTypes['successFunc'],\n        errorFunc: SubmitValuesTypes['errorFunc'],\n        thenFunc: SubmitValuesTypes['thenFunc'],\n        followUpNo: number = 1\n    ) => {\n        const {BASE_URL, PENDING_ADD_TRADING_ACCOUNT_URL} = HttpConst;\n        setTimeout(() => Http.post({\n            url: `${BASE_URL}/${PENDING_ADD_TRADING_ACCOUNT_URL}/`,\n            data: values,\n            successFunc: (resp: HttpResponseType) => {\n                const data = resp.data;\n                if(data['detail']){\n                    if(followUpNo >= MAX_NO_OF_FOLLOW_UP_REQUESTS){\n                        Toast.error('Sorry. This is taking longer than expected. Please try again later.');\n                    } else {\n                        makeFollowUpRequests(values, successFunc, errorFunc, thenFunc, followUpNo + 1);\n                    }\n                } else {\n                    successFunc(resp.data);\n                    thenFunc();\n                }\n            },\n            networkErrorFunc: (err: HttpErrorType) => {\n                ReactGA.event('add_account_fail', {\n                    'user_id': userId\n                });\n            },\n            timeoutErrorFunc: (err: HttpErrorType) => {\n                ReactGA.event('add_account_fail', {\n                    'user_id': userId\n                });\n            },\n            errorFunc: (resp: HttpErrorType) => {\n                errorFunc(resp);\n                thenFunc();\n            }\n        }), TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST)\n    }\n    return(\n        <CenterColumnBox style={{marginTop: getDimen('padding-big')}}>\n            <AddAccountForm\n                submitValues={submitValues}\n                onAccountAdded={onAccountAdded}\n                noOfAccounts={noOfAccounts}\n                userIsOnFreeTrial={userIsOnFreeTrial}\n                permissions={permissions} />\n        </CenterColumnBox>\n    )\n}\n\nconst TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST = 5000;\nconst MAX_NO_OF_FOLLOW_UP_REQUESTS = 180;\n\nexport default AddAccount","import {FlutterWaveTypes} from 'flutterwave-react-v3'\nimport {Http, HttpResponseType, HttpErrorType} from '@apps/trader-app/services'\nimport {HttpConst} from '@conf/const'\n\nconst saveSubscriptionStatus = (resp: FlutterWaveTypes.FlutterWaveResponse): Promise<boolean> => {\n    return new Promise((resolve, reject) => {\n        Http.post({\n            url: `${BASE_URL}/${RECORD_NEW_SUBSCRIPTION_URL}/`,\n            data: {amount: resp.amount},\n            successFunc: (resp: HttpResponseType) => {\n                if(resp.data['status'] === 'pending'){\n                    resolve(true);\n                } else {\n                    resolve(false);\n                }\n            },\n            errorFunc: (err: HttpErrorType) => {\n                console.log(err);\n                reject();\n            }\n        })\n        \n    })\n}\n\nconst {BASE_URL, RECORD_NEW_SUBSCRIPTION_URL} = HttpConst;\n\nexport default saveSubscriptionStatus","import React from 'react'\nimport ReactGA from 'react-ga4'\nimport {useFlutterwave, closePaymentModal, FlutterWaveTypes} from 'flutterwave-react-v3'\nimport { FlutterwaveConfig } from 'flutterwave-react-v3/dist/types'\nimport {HttpConst} from '@conf/const'\nimport logo from '@visuals/images/logo.png'\nimport saveSubscriptionStatus from './save-subscription-status'\nimport {FLUTTERWAVE_PUBLIC_KEY} from './const'\nimport {BaseSubscriptionButtonPropTypes} from './types'\n\nconst BaseSubscriptionButton = React.forwardRef<HTMLButtonElement, BaseSubscriptionButtonPropTypes>((props, ref) => {\n    const {config, abortSubscription, onSubscriptionFinished, onSubscriptionRecordFailed, userId} = props;\n    const baseConfig: FlutterwaveConfig = {\n        public_key: FLUTTERWAVE_PUBLIC_KEY,\n        payment_plan: config.planId,\n        tx_ref: `user-${userId}-date-${Date.now().toString()}`,\n        amount: config.amount,\n        currency: 'USD',\n        payment_options: 'card',\n        customer: {\n            email: config.email,\n            name: '',\n            phonenumber: ''\n        },\n        customizations: {\n            title: config.title,\n            description: '',\n            logo: `${HttpConst.BASE_URL}${logo}`\n        }\n    };\n    const handleFlutterPayment = useFlutterwave(baseConfig);\n    return(\n        <button style={{display: 'none'}}\n            ref={ref}\n            onClick={(e) => {\n                handleFlutterPayment({\n                    callback: (resp: FlutterWaveTypes.FlutterWaveResponse) => {\n                        console.log('in callback', resp);\n                        saveSubscriptionStatus(resp)\n                            .then((postActionsPending: boolean) => {\n                                ReactGA.event('subscribe_success', {\n                                    'user_id': userId\n                                });\n                                onSubscriptionFinished(postActionsPending, {amount: resp.amount})\n                            })\n                            .catch((err) => {\n                                console.log(err);\n                                ReactGA.event('subscribe_fail', {\n                                    'user_id': userId\n                                });\n                                onSubscriptionRecordFailed();\n                            })\n                        closePaymentModal();\n                    },\n                    onClose: () => {\n                        ReactGA.event('subscribe_abort', {\n                            'user_id': userId\n                        })\n                        abortSubscription();\n                    }\n                })\n            }}></button>\n    )\n})\n\nexport default BaseSubscriptionButton","import { MONTHLY_PLAN_PRICE, YEARLY_PLAN_PRICE, WBA_PLAN_PRICE } from \"@apps/trader-app/const\";\n\n\nconst YEARLY_PLAN_ID: string = '75837';\nconst MONTHLY_PLAN_ID: string = '75836';\nconst WBA_PLAN_ID: string = '75838';\nconst FLUTTERWAVE_PUBLIC_KEY: string = 'FLWPUBK-9155d7d07e24f30b241c35a031911e01-X'\n\nexport {\n    MONTHLY_PLAN_PRICE,\n    YEARLY_PLAN_PRICE,\n    WBA_PLAN_PRICE,\n    YEARLY_PLAN_ID,\n    MONTHLY_PLAN_ID,\n    WBA_PLAN_ID,\n    FLUTTERWAVE_PUBLIC_KEY,\n\n}","import React from 'react'\nimport {SubscriptionButtonPropTypes} from './types'\nimport BaseSubscriptionButton from './base-subscription-button'\nimport {MONTHLY_PLAN_PRICE, MONTHLY_PLAN_ID} from './const'\n\n\nconst MonthlySubscriptionButton = React.forwardRef<HTMLButtonElement, SubscriptionButtonPropTypes>((props, ref) => {\n    const {email, userId, ...others} = props;\n    const config = {\n        planId: MONTHLY_PLAN_ID,\n        txRef: `user-${userId}-date-${Date.now().toString()}`,\n        amount: MONTHLY_PLAN_PRICE,\n        email,\n        title: 'MyFxTracker-Monthly'\n    };\n    \n    return(\n        <BaseSubscriptionButton config={config} ref={ref} userId={userId} {...others} />\n    )\n})\n\nexport default MonthlySubscriptionButton","import React from 'react'\nimport {SubscriptionButtonPropTypes} from './types'\nimport BaseSubscriptionButton from './base-subscription-button'\nimport {YEARLY_PLAN_PRICE, YEARLY_PLAN_ID} from './const'\n\n\nconst YearlySubscriptionButton = React.forwardRef<HTMLButtonElement, SubscriptionButtonPropTypes>((props, ref) => {\n    const {email, userId, ...others} = props;\n    const config = {\n        planId: YEARLY_PLAN_ID,\n        txRef: `user-${userId}-date-${Date.now().toString()}`,\n        amount: YEARLY_PLAN_PRICE,\n        email,\n        title: 'MyFxTracker-Yearly'\n    };\n    return(\n        <BaseSubscriptionButton config={config} ref={ref} userId={userId} {...others} />\n    )\n})\n\nexport default YearlySubscriptionButton","import React from 'react'\nimport {SubscriptionButtonPropTypes} from './types'\nimport BaseSubscriptionButton from './base-subscription-button'\nimport {WBA_PLAN_ID, WBA_PLAN_PRICE} from './const'\n\n\nconst WbaSubscriptionButton = React.forwardRef<HTMLButtonElement, SubscriptionButtonPropTypes>((props, ref) => {\n    const {email, userId, ...others} = props;\n    const config = {\n        planId: WBA_PLAN_ID,\n        txRef: `user-${userId}-date-${Date.now().toString()}`,\n        amount: WBA_PLAN_PRICE,\n        email,\n        title: 'MyFxTracker-wba'\n    };\n    return(\n        <BaseSubscriptionButton config={config} ref={ref} userId={userId} {...others} />\n    )\n})\n\nexport default WbaSubscriptionButton","import {SubscribeNowPropTypes} from './types'\nimport {getDimen} from '@conf/utils'\nimport React, {useContext, useRef, useState} from 'react'\nimport ReactGA from 'react-ga4'\nimport LoadingIcon from '@components/loading-icon'\nimport MonthlySubscriptionButton from './monthly-subscription-button'\nimport YearlySubscriptionButton from './yearly-subscription-button'\nimport {NewSubscriptionContext} from '@apps/trader-app'\nimport {ToastContext} from '@components/toast'\nimport {UserData} from '@apps/trader-app/models/types'\nimport {PricingPage} from '@apps/info-app/pages'\nimport { WBA_PLAN_PRICE, AFFILIATE_WBA_USERNAME, MONTHLY_PLAN_PRICE, YEARLY_PLAN_PRICE, YEARLY_PLAN_PER_MONTH_PRICE, WBA_PLAN_PER_MONTH_PRICE } from '@apps/trader-app/const'\nimport WbaSubscriptionButton from './wba-subscription-button'\nimport './style.css'\n\n\nconst SubscribeNow = ({userHasPaidOnce, email, userId, referrerUsername}: SubscribeNowPropTypes) => {\n    const [subscribing, setSubscribing] = useState<UserData['subscription_plan']>('none');\n    const onNewSubscription = useContext(NewSubscriptionContext);\n    const Toast = useContext(ToastContext)\n    const monthlySubscriptionTrigger = React.createRef<HTMLButtonElement>();\n    const yearlySubscriptionTrigger = React.createRef<HTMLButtonElement>();\n    const wbaSubscriptionTrigger = React.createRef<HTMLButtonElement>();\n    const subscriptionIsOngoing = (subscribing: UserData['subscription_plan']) => {\n        return subscribing !== 'none'\n    }\n    const abortSubscription = () => {\n        setSubscribing('none');\n    }\n    /**\n     * @param postActionsPending this is set when the record subscription response returns a \n     * successful pending response because of some actions that the backend needed to take after\n     * recording the user as subscribed (such as reconnecting the user's trading account).\n     * In such a scenario the page loading page must be shown and user has to be alerted that\n     * this could take a while\n     */\n    const onSubscriptionFinished = (postActionsPending: boolean, data: {[key: string]: any}) => {\n        let subscriptionPlan: UserData['subscription_plan'] = 'monthly';\n        if(data.amount === YEARLY_PLAN_PRICE){\n            subscriptionPlan = 'yearly';\n        } else if(data.amount === WBA_PLAN_PRICE){\n            subscriptionPlan = 'wba-yearly'\n        }\n        onNewSubscription(postActionsPending, data, subscriptionPlan);\n    }\n    const onSubscriptionRecordFailed = () => {\n        setSubscribing('none');\n        Toast.error('Something went wrong on our end. Please contact support.');\n    }\n        \n    if(referrerUsername === AFFILIATE_WBA_USERNAME) {\n        return(\n            <>\n                <PricingPage navbar={null}\n                    defaultPlanIndex={0}\n                    plans={[\n                        {\n                            name: 'Wba-Yearly',\n                            price: WBA_PLAN_PER_MONTH_PRICE,\n                            subscribeButtonContent: subscribing.toLowerCase() === 'wba-yearly' ?\n                                <LoadingIcon />\n                                :'Subscribe Now',\n                            subscribeButtonEnabled: (subscriptionIsOngoing(subscribing) && subscribing.toLowerCase()) === 'wba-yearly' ||\n                                !subscriptionIsOngoing(subscribing),\n                            subscribeButtonAction: () => {\n                                ReactGA.event('subscribe_attempt', {\n                                    'user_id': userId,\n                                    'pricing_plan': 'yearly'\n                                });\n                                setSubscribing('wba-yearly');\n                                if(wbaSubscriptionTrigger && wbaSubscriptionTrigger.current){\n                                    wbaSubscriptionTrigger.current.click();\n                                }\n                            }\n                        }\n                    ]}\n                    style={{\n                        marginTop: getDimen('padding-md'),\n                        marginLeft: getDimen('padding-xs'),\n                        marginRight: getDimen('padding-xs')\n                    }} />\n                <WbaSubscriptionButton email={email} ref={wbaSubscriptionTrigger}\n                        userId={userId} abortSubscription={abortSubscription}\n                        onSubscriptionFinished={onSubscriptionFinished}\n                        onSubscriptionRecordFailed={onSubscriptionRecordFailed} />\n            </>\n        )\n    }\n\n    return(\n        <>\n            <PricingPage navbar={null}\n                defaultPlanIndex={1}\n                plans={[\n                    {\n                        name: 'Monthly',\n                        price: MONTHLY_PLAN_PRICE,\n                        subscribeButtonContent: subscribing.toLowerCase() === 'monthly' ?\n                            <LoadingIcon />\n                            : 'Subscribe Now',\n                        subscribeButtonEnabled: (subscriptionIsOngoing(subscribing) && subscribing.toLowerCase()) === 'monthly' ||\n                            !subscriptionIsOngoing(subscribing),\n                        subscribeButtonAction: () => {\n                            setSubscribing('monthly');\n                            ReactGA.event('subscribe_attempt', {\n                                'user_id': userId,\n                                'pricing_plan': 'monthly'\n                            });\n                            if(monthlySubscriptionTrigger && monthlySubscriptionTrigger.current){\n                                monthlySubscriptionTrigger.current.click();\n                            }\n                        }\n                    },\n                    {\n                        name: 'Yearly',\n                        price: YEARLY_PLAN_PER_MONTH_PRICE,\n                        subscribeButtonContent: subscribing.toLowerCase() === 'yearly' ?\n                            <LoadingIcon />\n                            :'Subscribe Now',\n                        subscribeButtonEnabled: (subscriptionIsOngoing(subscribing) && subscribing.toLowerCase()) === 'yearly' ||\n                            !subscriptionIsOngoing(subscribing),\n                        subscribeButtonAction: () => {\n                            ReactGA.event('subscribe_attempt', {\n                                'user_id': userId,\n                                'pricing_plan': 'yearly'\n                            });\n                            setSubscribing('yearly');\n                            if(yearlySubscriptionTrigger && yearlySubscriptionTrigger.current){\n                                yearlySubscriptionTrigger.current.click();\n                            }\n                        }\n                    }\n                ]}\n                style={{\n                    marginTop: getDimen('padding-md'),\n                    marginLeft: getDimen('padding-xs'),\n                    marginRight: getDimen('padding-xs')\n                }} />\n            <MonthlySubscriptionButton email={email}\n                ref={monthlySubscriptionTrigger} userId={userId}\n                abortSubscription={abortSubscription} onSubscriptionFinished={onSubscriptionFinished}\n                onSubscriptionRecordFailed={onSubscriptionRecordFailed} />\n            <YearlySubscriptionButton email={email} ref={yearlySubscriptionTrigger}\n                    userId={userId} abortSubscription={abortSubscription}\n                    onSubscriptionFinished={onSubscriptionFinished}\n                    onSubscriptionRecordFailed={onSubscriptionRecordFailed} />\n        </>\n    )\n}\n\nexport default SubscribeNow","const cloneObject = (obj: Object) => {\n    return JSON.parse(JSON.stringify(obj));\n}\n\nexport {\n    cloneObject\n}","/**\n * A class to represent the global data from the backend\n * \n * Format of global data from backend:\n * The index of the trades, withdrawals and deposits arrays in data corresponds to the index of the account\n * it is associated with in the accounts array\n * user_data: {\n *   id: id of current user,\n *   email: email-of-current-user,\n *   is_subscribed: subscription-status-of-current-user,\n *   on_free: true or false, whether or not user is still using free version,\n *   logins_after_ask: number of times user logged in after last feedback popup question,\n *   current_feedback_question: index of the current feedback question\n * },\n * trade_data: {\n *        'no_of_trades': total number of trades the user has added\n *        'current_account_id': id-of-currently-selected-account,\n *        'accounts': {\n *            'Account id': {\n *                    'name': 'Name of the account',\n *                    'trades': [trades],\n *                    'deposits': [deposits],\n *                    'withdrawals': [withdrawals]\n *            },\n *            ...\n *        }\n *    }\n*/\n\nimport {AccountData} from 'calculator/dist'\nimport {RawData, UserData} from './types'\nimport {cloneObject} from './utils'\n\nclass GlobalData {\n    rawData: RawData;\n    constructor(rawData: RawData | null){\n        if(rawData === null){\n            this.rawData = initialEmptyRawData;\n        } else {\n            this.rawData = rawData\n        }\n        this.hasLoaded = this.hasLoaded.bind(this);\n        this.getCurrentTradeAccountData = this.getCurrentTradeAccountData.bind(this);\n        this.getCurrentTradeAccountId = this.getCurrentTradeAccountId.bind(this);\n        this.getCurrentTradeAccountName = this.getCurrentTradeAccountName.bind(this);\n        this.getTradeAccountNames = this.getTradeAccountNames.bind(this);\n        this.changeCurrentTradeAccountId = this.changeCurrentTradeAccountId.bind(this);\n        this.getTradeAccountIdOf = this.getTradeAccountIdOf.bind(this);\n        this.getUserEmail = this.getUserEmail.bind(this);\n        this.userIsSubscribed = this.userIsSubscribed.bind(this);\n        this.userIsOnFreeTrial = this.userIsOnFreeTrial.bind(this);\n        this.numberOfAccounts = this.numberOfAccounts.bind(this);\n        this.getUserId = this.getUserId.bind(this);\n        this.getAllAccounts = this.getAllAccounts.bind(this);\n        this.getTradeAccountIdOf = this.getTradeAccountIdOf.bind(this);\n        this.removeAccount = this.removeAccount.bind(this);\n        this.lastDataRefreshTime = this.lastDataRefreshTime.bind(this);\n        this.subscribeUser = this.subscribeUser.bind(this);\n        this.unsubscribeUser = this.unsubscribeUser.bind(this);\n    }\n    /** Has the data from the backend loaded */\n    hasLoaded(): boolean {\n        /** A real user id is always a positive number an never negative */\n        return this.rawData.user_data.id !== -1\n    }\n    /** What is the id of the currently selected trading account */\n    getCurrentTradeAccountId(): number {\n        let accountId = this.rawData.trade_data.current_account_id;\n        if(accountId === -1){\n            return parseInt(Object.keys(this.rawData.trade_data.accounts)[0]);\n        }\n        return accountId;\n    }\n    /** What is the account name of the currently selected trading account */\n    getCurrentTradeAccountName(): string {\n        if(this.hasLoaded()){\n            let accountId = this.getCurrentTradeAccountId();\n            return this.rawData.trade_data.accounts[accountId].name;\n        } else {\n            return 'None';\n        }\n    }\n    /** What are the names of all the trading accounts */\n    getTradeAccountNames(): string[] {\n        const accountIds = Object.keys(this.rawData.trade_data.accounts);\n        if(accountIds.length === 0){\n            /** Just so the account selector will have something to show */\n            return ['None'];\n        }\n        let accountNames: string[] = [];\n        accountIds.forEach((accountId: string) => {\n            accountNames.push(this.rawData.trade_data.accounts[parseInt(accountId)].name);\n        });\n        return accountNames\n    }\n    /** Change the currently selected trading account id to @param newCurrentAccountId */\n    changeCurrentTradeAccountId(newCurrentAccountId: number): GlobalData{\n        const rawDataClone = cloneObject(this.rawData);\n        rawDataClone.trade_data.current_account_id = newCurrentAccountId;\n        return new GlobalData(rawDataClone);\n    }\n    /** Returns an object of all data related to the currently selected account */\n    getCurrentTradeAccountData(): AccountData{\n        const currentAccountId = this.getCurrentTradeAccountId();\n        return this.rawData.trade_data.accounts[currentAccountId];\n    }\n    /** Given the account name @param accountName, return the associated id */\n    getTradeAccountIdOf(accountName: string): number {\n        const accountIds = Object.keys(this.rawData.trade_data.accounts);\n        for(const accountId of accountIds){\n            const account = this.rawData.trade_data.accounts[parseInt(accountId)];\n            if(account.name === accountName){\n                return parseInt(accountId);\n            }\n        }\n        /** The fact that this function is called means the id can never be -1\n         * But this line is here just to satisfy the typescript compiler\n         */\n        return -1;\n    }\n    /** Get number of accounts */\n    numberOfAccounts(): number {\n        return Object.keys(this.rawData.trade_data.accounts).length\n    }\n    /** Get all accounts as an array of objects */\n    getAllAccounts(): (AccountData & {id: number})[] {\n        const accountIds = Object.keys(this.rawData.trade_data.accounts);\n        return accountIds.map((accountId: any) => ({\n            id: accountId as number, ...this.rawData.trade_data.accounts[accountId as number]\n        }));\n    }\n    /** \n     * Remove account with an id of @param id \n     * and return a new updated GlobalData object\n     * */\n    removeAccount(id: number): GlobalData {\n        const newAccounts = Object.keys(this.rawData.trade_data.accounts)\n            .filter((accountId) => accountId != id.toString())\n            .map((accountId) => ({\n                ...this.rawData.trade_data.accounts[parseInt(accountId)]\n            }));\n        const newRawData: RawData = cloneObject(this.rawData);\n        newRawData.trade_data.accounts = newAccounts;\n        if(newRawData.trade_data.current_account_id === id){\n            newRawData.trade_data.current_account_id = -1;\n        }\n        const newGlobalData = new GlobalData(newRawData);\n        return newGlobalData;\n    }\n    /** Set the user's is subscribed field to true */\n    subscribeUser(subscriptionPlan: UserData['subscription_plan']): GlobalData {\n        const rawDataClone: RawData = cloneObject(this.rawData);\n        rawDataClone.user_data.is_subscribed = true;\n        rawDataClone.user_data.has_paid = true;\n        rawDataClone.user_data.subscription_plan = subscriptionPlan;\n        return new GlobalData(rawDataClone);\n    }\n    /** Set the user's is subscribed field to false */\n    unsubscribeUser(): GlobalData {\n        const rawDataClone: RawData = cloneObject(this.rawData);\n        rawDataClone.user_data.is_subscribed = false;\n        rawDataClone.user_data.subscription_plan = 'none';\n        return new GlobalData(rawDataClone);\n    }\n    /** Are there any accounts? */\n    noAccounts(): boolean {\n        return this.numberOfAccounts() === 0;\n    }\n    lastDataRefreshTime(): Date {\n        return new Date(this.rawData.trade_data.last_data_refresh_time);\n    }\n    getUserId(): number {\n        return this.rawData.user_data.id\n    }\n    getUserEmail(): string {\n        return this.rawData.user_data.email\n    }\n    getUserDsUsername(): string {\n        return this.rawData.user_data.ds_username;\n    }\n    getUserSubscriptionPlan(): UserData['subscription_plan'] {\n        return this.rawData.user_data.subscription_plan\n    }\n    getDaysLeftBeforeFreeTrialExpires(): number | string {\n        return this.rawData.user_data.days_left_before_free_trial_expires\n    }\n    getReferrerUsername(): string | undefined {\n        return this.rawData.user_data.referrer_username\n    }\n    userIsSubscribed(): boolean {\n        return this.rawData.user_data.is_subscribed\n    }\n    userIsOnFreeTrial(): boolean {\n        return this.rawData.user_data.on_free\n    }\n    userHasPaid(): boolean {\n        const hasPaid = this.rawData.user_data.has_paid;\n        return hasPaid !== undefined && hasPaid\n    }\n}\n\nconst initialEmptyRawData: RawData = {\n    user_data: {\n        id: -1,\n        email: '',\n        ds_username: '',\n        is_subscribed: false,\n        on_free: false,\n        logins_after_ask: -1,\n        current_feedback_question: -1,\n        subscription_plan: 'none',\n        days_left_before_free_trial_expires: 7\n    },\n    trade_data: {\n        current_account_id: -1,\n        last_data_refresh_time: new Date(1900, 0, 1),\n        accounts: {}\n    }\n};\n\nexport default GlobalData","import {GlobalData} from '../models'\nimport {PermissionsObj, PermissionFuncs} from './types'\n\n/**\n * Couldn't use anonymous functions here because the name properties are needed\n */\n\nfunction canAddAccount(globalData: GlobalData): boolean {\n    console.log('In permissions func: (isSubscribed: ',\n        globalData.userIsSubscribed(),\n        ', onFreeTrial: ',\n        globalData.userIsOnFreeTrial(),\n        ')'\n    );\n    if(globalData.userIsSubscribed() || globalData.userIsOnFreeTrial()){\n        return true;\n    }\n    return false;\n}\n\nfunction canRefreshAccount(globalData: GlobalData): boolean {\n    return canAddAccount(globalData);\n}\n\nfunction canCreateNote(globalData: GlobalData): boolean {\n    return canAddAccount(globalData);\n}\n\nfunction canModifyNotes(globalData: GlobalData): boolean {\n    return canAddAccount(globalData);\n}\n\nconst defaultPermissions: PermissionsObj = {\n    canAddAccount: false,\n    canRefreshAccount: false,\n    canCreateNote: false,\n    canModifyNotes: false\n}\n\nconst permissionFuncs: PermissionFuncs = {\n    'canAddAccount': canAddAccount,\n    'canRefreshAccount': canRefreshAccount,\n    'canCreateNote': canCreateNote,\n    'canModifyNotes': canModifyNotes\n}\n\nexport default permissionFuncs\nexport {\n    defaultPermissions\n}","/**\n * Hook to set global data in TraderApp\n */\n\nimport {useState, useEffect, useContext} from 'react'\nimport {GlobalData} from '@apps/trader-app/models'\nimport {Http, HttpErrorType, HttpResponseType} from '@apps/trader-app/services'\nimport {HttpConst} from '@conf/const'\nimport {RawData, UseGlobalDataType} from './types'\nimport {AccountData} from 'calculator/dist'\nimport permissionFuncs, {defaultPermissions} from '../services/permissions'\nimport {PermissionsObj} from '../services/types'\nimport {ToastContext} from '@components/toast'\n\n\nconst useGlobalData: UseGlobalDataType = () => {\n    const [globalData, baseSetGlobalData] = useState<GlobalData>(new GlobalData(null));\n    const [permissions, setPermissions] = useState<PermissionsObj>(defaultPermissions);\n    const Toast = useContext(ToastContext);\n    useEffect(() => {\n        /* The real thing to be used.\n            Going to use dummy data just for development*/\n        // Request init data from backend\n        const {BASE_URL, GET_INIT_DATA_URL} = HttpConst;\n        Http.get({\n            url: `${BASE_URL}/${GET_INIT_DATA_URL}/`,\n            successFunc: (resp: HttpResponseType) => {\n                setGlobalData(new GlobalData(resp.data));\n            },\n            errorFunc: (err: HttpErrorType) => {\n                Toast.error('Sorry. Something went wrong');\n                console.log(err);\n            }\n        })\n    }, [])\n    const createPermissions = (globalData: GlobalData) => {\n        console.log('building permissions');\n        let permissions: PermissionsObj = {...defaultPermissions};\n        Object.keys(permissionFuncs).forEach((funcName: string) => {\n            permissions[funcName as keyof(PermissionsObj)] = permissionFuncs[funcName](globalData);\n        })\n        console.log('built permissions', permissions);\n        return permissions;\n    }\n    const setGlobalData = (arg: GlobalData) => {\n        baseSetGlobalData(arg);\n        setPermissions(createPermissions(arg));\n    }\n    return [globalData, setGlobalData, permissions];\n}\n\nconst noAccountsRawData  = {\n    user_data: {\n        id: 1,\n        email: 'newuser@email.com',\n        ds_username: 'dsusername',\n        is_subscribed: false,\n        subscription_plan: 'none',\n        on_free: true,\n        logins_after_ask: 2,\n        current_feedback_question: 1,\n        days_left_before_free_trial_expires: 3\n    },\n    trade_data: {\n        no_of_trades: 0,\n        current_account_id: -1,\n        last_data_refresh_time: new Date(2022, 10, 11),\n        accounts: {}\n    }\n}\n\nconst someAccounts: {[key: string]: AccountData} = {\n    2: {\n        name: 'kot-demo',\n        trades: [\n            {\n                pair: 'USDGPY',\n                action: 'buy',\n                openTime: '2021-03-21 12:30:00+00:00',\n                closeTime: '2021-06-01 12:30:00+00:00',\n                profitLoss: 320,\n                pips: 3,\n                takeProfit: 20,\n                stopLoss: 13,\n                openPrice: 0,\n                closePrice: 9\n            }\n        ],\n        deposits: [\n            {\n                account: 2, \n                amount: 300, \n                time: '2021-02-30 12:30:00+00:00'\n            },\n            {\n                account: 2, \n                amount: 300, \n                time: '2021-02-30 12:30:00+00:00'\n            }\n        ],\n        withdrawals: [\n            {\n                account: 2,\n                amount: 20, \n                time: '2021-02-30 12:30:00+00:00'\n            },\n            {\n                account: 2,\n                amount: 50, \n                time: '2021-02-30 12:30:00+00:00'\n            }\n        ]\n    },\n    4: {\n        name: 'kot-live',\n        trades: [\n            {\n                pair: 'USDGPY',\n                action: 'buy',\n                openTime: '2021-12-03 12:30:00+00:00',\n                closeTime: '2022-05-02 12:30:00+00:00',\n                profitLoss: 320,\n                pips: 3,\n                takeProfit: 2,\n                stopLoss: 323,\n                openPrice: 0,\n                closePrice: 9\n            }\n        ],\n        deposits: [\n            {\n                account: 2, \n                amount: 300, \n                time: '2021-02-03 12:30:00+00:00'\n            },\n            {\n                account: 2, \n                amount: 300, \n                time: '2021-02-03 12:30:00+00:00'\n            }\n        ],\n        withdrawals: [\n            {\n                account: 2,\n                amount: 20, \n                time: '2021-02-03 12:30:00+00:00'\n            },\n            {\n                account: 2,\n                amount: 50, \n                time: '2021-02-03 12:30:00+00:00'\n            }\n        ]\n    }\n}\n\nconst dummyRawData: RawData = {\n    user_data: {\n        id: 3,\n        email: 'sonugademilade8703@gmail.com',\n        ds_username: 'dsusername',\n        is_subscribed: false,\n        subscription_plan: 'none',\n        on_free: true,\n        logins_after_ask: 2,\n        current_feedback_question: 1,\n        days_left_before_free_trial_expires: 4\n    },\n    trade_data: {\n        current_account_id: 2,\n        accounts: someAccounts,\n        last_data_refresh_time: new Date(2022, 10, 11)\n    }\n}\n\nexport default useGlobalData","import {ToastFuncType} from '@components/toast/types'\nimport {HttpConst} from '@conf/const'\nimport {HttpErrorType, HttpResponseType} from '@services/http'\nimport {GlobalData} from '../models'\nimport {Http} from '../services'\n\n\nconst refreshAccountData = (Toast: ToastFuncType, setGlobalData: Function, setDataIsRefreshing: Function, successFunc: Function = () => {}) => {\n    const {BASE_URL, REFRESH_DATA_URL} = HttpConst;\n    setDataIsRefreshing(true);\n    Http.get({\n        url: `${BASE_URL}/${REFRESH_DATA_URL}/`,\n        successFunc: (resp: HttpResponseType) => {\n            makeFollowUpRequests(Toast, setGlobalData, setDataIsRefreshing, successFunc);\n        },\n        errorFunc: (err: HttpErrorType) => {\n            Toast.error('Sorry but something went wrong.');\n            setDataIsRefreshing(false)\n        }\n    })\n}\n\nconst makeFollowUpRequests = (\n    Toast: ToastFuncType,\n    setGlobalData: Function,\n    setDataIsRefreshing: Function,\n    successFunc: Function,\n    followUpNo: number = 1\n) => {\n    const {BASE_URL, PENDING_REFRESH_DATA_URL} = HttpConst;\n    setTimeout(() => Http.get({\n        url: `${BASE_URL}/${PENDING_REFRESH_DATA_URL}/`,\n        successFunc: (resp: HttpResponseType) => {\n            if('detail' in resp.data){\n                if(followUpNo >= MAX_NO_OF_FOLLOW_UP_REQUESTS){\n                    Toast.error('Sorry. This is taking longer than expected. Please try again later.');\n                    setDataIsRefreshing(false);\n                } else {\n                    makeFollowUpRequests(Toast, setGlobalData, setDataIsRefreshing, successFunc, followUpNo + 1);\n                }\n            } else {\n                const newGlobalData = new GlobalData(resp.data);\n                setGlobalData(newGlobalData);\n                setDataIsRefreshing(false);\n                successFunc();\n            }\n        },\n        errorFunc: (err: HttpErrorType) => {\n            console.log(err);\n            Toast.error('Sorry but something went wrong');\n            setDataIsRefreshing(false);\n        }\n    }), TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST);\n}\n\n\n\nconst TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST = 5000;\nconst MAX_NO_OF_FOLLOW_UP_REQUESTS = 120;\n\nexport default refreshAccountData","import {ToastFuncType} from '@components/toast/types'\nimport {HttpConst} from '@conf/const'\nimport {HttpErrorType, HttpResponseType} from '@services/http'\nimport {GlobalData} from '../models'\nimport {Http} from '../services'\n\n\nconst makeFollowUpSubscriptionRequests = (\n    Toast: ToastFuncType,\n    data: {[key: string]: any},\n    successFunc: Function,\n    followUpNo: number = 1\n) => {\n    const {BASE_URL, RECORD_NEW_SUBSCRIPTION_URL} = HttpConst;\n    setTimeout(() => Http.post({\n        url: `${BASE_URL}/${RECORD_NEW_SUBSCRIPTION_URL}/`,\n        data,\n        successFunc: (resp: HttpResponseType) => {\n            if(resp.data['detail'] === 'pending'){\n                if(followUpNo >= MAX_NO_OF_FOLLOW_UP_REQUESTS){\n                    Toast.error('Sorry. This is taking longer than expected. Please try again later.');\n                } else {\n                    makeFollowUpSubscriptionRequests(Toast, data, successFunc, followUpNo + 1);\n                }\n            } else {\n                successFunc()\n            }\n        },\n        errorFunc: (err: HttpErrorType) => {\n            console.log(err);\n            Toast.error('Sorry. Something went wrong. ' + \n                'Try refreshing the page. If this error persists, please contact support.'\n            );\n        }\n    }), TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST);\n}\n\n\n\nconst TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST = 5000;\nconst MAX_NO_OF_FOLLOW_UP_REQUESTS = 120;\n\nexport default makeFollowUpSubscriptionRequests","import {createContext, useEffect, Suspense, lazy, useState, useContext} from 'react'\nimport {Route, useLocation, useNavigate, Navigate} from 'react-router-dom'\nimport {TraderAppContainer, TraderAppNavbar} from '@apps/trader-app/components'\nimport Routes from '@components/router'\nimport {RouteConst} from '@conf/const'\nimport {Overview, CashAndGains, Expenses, Settings, LongShortAnalysis, AddAccount,\n    PeriodAnalysis, TimeAnalysis, PairsAnalysis, SubscribeNow} from '@apps/trader-app/pages'\nimport {GlobalData, useGlobalData} from '@apps/trader-app/models'\nimport {UserData} from '@apps/trader-app/models/types'\nimport {Http, useNoteData} from '@apps/trader-app/services'\nimport {PageLoadingErrorBoundary, PageStillLoading} from '@components/generic-pages'\nimport {ToastContext} from '@components/toast'\nimport refreshAccountData from './services/refresh-account-data'\nimport makeFollowUpSubscriptionRequests from './services/follow-up-post-subscription-actions'\nimport permissionFuncs, { defaultPermissions } from './services/permissions'\nimport {RawData} from './models/types'\nimport {AddAccountPropTypes} from './pages/add-account/types'\nimport {SettingsPropTypes} from './pages/settings/types'\nimport {NotebookPropTypes} from './pages/notes/types'\nimport { PermissionsObj } from './services/types'\n\nconst Notebook = lazy(() => import('@apps/trader-app/pages/notes'));\nconst Journal = lazy(() => import('@apps/trader-app/pages/journal'));\n\n\nconst TraderApp = () => {\n    const location = useLocation();\n    /** User and trade data from the backend. Globally required by most trader app pages */\n    const [globalData, setGlobalData, permissions] = useGlobalData();\n    /** Is the data currently being refreshed */\n    const [dataIsRefreshing, setDataIsRefreshing] = useState(false);\n    /** Keep page on loading page indefinitely */\n    const [keepPageLoading, setKeepPageLoading] = useState(false);\n    const Toast = useContext(ToastContext);\n    /** Function called by account selector to change current account */\n    const onCurrentAccountChange = (newCurrentAccountId: number) => {\n        const newGlobalData = globalData.changeCurrentTradeAccountId(newCurrentAccountId);\n        setGlobalData(newGlobalData);\n    }\n    /** Function called when a new account is added */\n    const onAccountAdded = (rawData: RawData) => {\n        const newGlobalData = new GlobalData(rawData);\n        setGlobalData(newGlobalData);\n    }\n    /** Function called when an account is removed from settings */\n    const removeAccountFromGlobalData = (id: number) => {\n        const newGlobalData = globalData.removeAccount(id);\n        setGlobalData(newGlobalData);\n    }\n    /** Function called when refresh account data is called from the data status bar */\n    const refreshData = () => refreshAccountData(Toast, setGlobalData, setDataIsRefreshing);\n    /** Function called when a user makes a subscription */\n    const onNewSubscription = (postActionsPending: boolean, data: {[key: string]: any}, subscriptionPlan: UserData['subscription_plan']) => {\n        const newGlobalData = globalData.subscribeUser(subscriptionPlan);\n        setGlobalData(newGlobalData);\n        /**\n         * When postActionsPending are set, a loading icons has to be set\n         * and the backend has to be continuously queried for progress.\n         * The account data also has to be refreshed, since the setting of the postActionsPending\n         * variable means that the account needs to be reconnected for data\n         */\n        if(postActionsPending){\n            Toast.info('Please wait. This might take a while')\n            setKeepPageLoading(true);\n            // To reconnect the user's account\n            makeFollowUpSubscriptionRequests(\n                Toast,\n                data,\n                () => {\n                    // Need to refresh data now\n                    refreshAccountData(Toast, setGlobalData, setDataIsRefreshing, () => {\n                        setKeepPageLoading(false);\n                    });\n                }\n            )\n        }\n    }\n    /** Function called when user successfully cancels subscription */\n    const onSubscriptionCancel = () => {\n        const {TRADER_APP_ROUTE} = RouteConst;\n        const newGlobalData = globalData.unsubscribeUser();\n        setGlobalData(newGlobalData);\n        navigate(`/${TRADER_APP_ROUTE}`);\n    }\n    const navigate = useNavigate();\n    useEffect(() => {\n        Http.initNavigate(navigate);\n    }, [])\n    const noteData = useNoteData();\n    /*\n    const permissions: PermissionsObj = (() => {\n        console.log('building permissions')\n        let permissions: PermissionsObj = {...defaultPermissions};\n        permissionFuncs.forEach((permissionFunc: Function) => {\n            permissions[permissionFunc.name as keyof(PermissionsObj)] = permissionFunc(globalData);\n        })\n        console.log('built permissions', permissions);\n        return permissions;\n    })()\n    */\n    \n    return(\n        <>\n            <TraderAppNavbar />\n            <TraderAppContainer>\n                <GlobalDataContext.Provider value={globalData}>\n                    <CurrentAccountChangerContext.Provider value={onCurrentAccountChange}>\n                        <RefreshDataContext.Provider value={refreshData}>\n                        <DataIsRefreshingContext.Provider value={dataIsRefreshing}>\n                        <NewSubscriptionContext.Provider value={onNewSubscription}>\n                        <SubscriptionCancelContext.Provider value={onSubscriptionCancel}>\n                        <PermissionsContext.Provider value={permissions}>\n                        {(() => {\n                            const pageMap = pageMapConfig(\n                                globalData,\n                                keepPageLoading,\n                                {onAccountAdded: onAccountAdded,\n                                    noOfAccounts: globalData.numberOfAccounts(),\n                                    userIsOnFreeTrial: globalData.userIsOnFreeTrial(),\n                                    userId: globalData.getUserId()\n                                },\n                                {removeAccountFromGlobalData: removeAccountFromGlobalData},\n                                {noteData: noteData}\n                            )\n                            return(\n                                <PageLoadingErrorBoundary>\n                                    <Suspense fallback={<PageStillLoading />}>\n                                        <Routes>\n                                            {Object.keys(pageMap).map((route: string, i: number) => (\n                                                <Route path={route} element={pageMap[route]} key={i} />\n                                            ))}\n                                        </Routes>\n                                    </Suspense>\n                                </PageLoadingErrorBoundary>\n                            )\n                        })()}\n                        </PermissionsContext.Provider>\n                        </SubscriptionCancelContext.Provider>\n                        </NewSubscriptionContext.Provider>\n                        </DataIsRefreshingContext.Provider>\n                        </RefreshDataContext.Provider>\n                    </CurrentAccountChangerContext.Provider>\n                </GlobalDataContext.Provider>\n            </TraderAppContainer>\n        </>\n    );\n}\n\n/** Context to enable all components to have access to globalData */\nconst GlobalDataContext = createContext(new GlobalData(null));\n/**\n * Context for the account selector which is on almost all pages to\n * change accounts.\n * Initialized to empty function to satisfy the Typescript compiler\n * */\nconst CurrentAccountChangerContext = createContext((newCurrentAccountId: number) => {});\n/**\n * Is the data currently being refreshed\n */\nconst DataIsRefreshingContext = createContext(false);\nconst RefreshDataContext = createContext(() => {});\nconst NewSubscriptionContext = createContext((postActionsPending: boolean, data: {[key: string]: any}, subscriptionPlan: UserData['subscription_plan']) => {});\nconst SubscriptionCancelContext = createContext(() => {});\nconst PermissionsContext = createContext<PermissionsObj>(defaultPermissions)\n\n/** Returns a mapping of routes to components depending on the state */\nconst pageMapConfig = (\n    globalData: GlobalData,\n    keepPageLoading: boolean,\n    addAccountComponentConfig: AddAccountPropTypes,\n    settingsComponentConfig: SettingsPropTypes,\n    notebookProps: NotebookPropTypes\n) => {\n    const pageStillLoadingComponent = <PageStillLoading />\n    if(keepPageLoading){\n        return {\n            [TRADER_OVERVIEW_ROUTE]: pageStillLoadingComponent,\n            [TRADER_JOURNAL_ROUTE]: pageStillLoadingComponent,\n            [TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_CASH_AND_GAINS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_SETTINGS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_PAIRS_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_ADD_ACCOUNT_ROUTE]: pageStillLoadingComponent,\n            [TRADER_TIME_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_PERIOD_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_EXPENSES_ROUTE]: pageStillLoadingComponent,\n            [TRADER_NOTES_ROUTE]: pageStillLoadingComponent,\n        }\n    }\n    const addAccountComponent = <AddAccount {...addAccountComponentConfig} />\n    const referrerUsername = globalData.getReferrerUsername();\n    const subscribeNowComponent = <SubscribeNow \n        email={globalData.getUserEmail()}\n        userHasPaidOnce={globalData.userHasPaid()}\n        userId={globalData.getUserId()}\n        referrerUsername={referrerUsername === undefined ? '' : referrerUsername}\n        />\n    const subscribeNowRouteComponent = !globalData.userIsOnFreeTrial() && !globalData.userIsSubscribed() ?\n        subscribeNowComponent\n        : <Navigate to={`/${TRADER_APP_ROUTE}/${TRADER_OVERVIEW_ROUTE}`} />\n    if(globalData.hasLoaded()){\n        if(globalData.noAccounts()){\n            return {\n                [TRADER_OVERVIEW_ROUTE]: addAccountComponent,\n                [TRADER_JOURNAL_ROUTE]: addAccountComponent,\n                [TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE]: addAccountComponent,\n                [TRADER_CASH_AND_GAINS_ROUTE]: addAccountComponent,\n                [TRADER_SETTINGS_ROUTE]: <Settings {...settingsComponentConfig} />,\n                [TRADER_PAIRS_ANALYSIS_ROUTE]: addAccountComponent,\n                [TRADER_ADD_ACCOUNT_ROUTE]: addAccountComponent,\n                [TRADER_TIME_ANALYSIS_ROUTE]: addAccountComponent,\n                [TRADER_PERIOD_ANALYSIS_ROUTE]: addAccountComponent,\n                [TRADER_EXPENSES_ROUTE]: addAccountComponent,\n                [TRADER_NOTES_ROUTE]: addAccountComponent,\n                [TRADER_SUBSCRIBE_NOW_ROUTE]: subscribeNowRouteComponent\n            }\n        } else {\n            return {\n                [TRADER_OVERVIEW_ROUTE]: <Overview />,\n                [TRADER_JOURNAL_ROUTE]: <Journal />,\n                [TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE]: <LongShortAnalysis />,\n                [TRADER_CASH_AND_GAINS_ROUTE]: <CashAndGains />,\n                [TRADER_SETTINGS_ROUTE]: <Settings {...settingsComponentConfig} />,\n                [TRADER_PAIRS_ANALYSIS_ROUTE]: <PairsAnalysis />,\n                [TRADER_ADD_ACCOUNT_ROUTE]: addAccountComponent,\n                [TRADER_TIME_ANALYSIS_ROUTE]: <TimeAnalysis />,\n                [TRADER_PERIOD_ANALYSIS_ROUTE]: <PeriodAnalysis />,\n                [TRADER_EXPENSES_ROUTE]: <Expenses />,\n                [TRADER_NOTES_ROUTE]: <Notebook {...notebookProps} />,\n                [TRADER_SUBSCRIBE_NOW_ROUTE]: subscribeNowRouteComponent\n            }\n        }\n    } else {\n        return {\n            [TRADER_OVERVIEW_ROUTE]: pageStillLoadingComponent,\n            [TRADER_JOURNAL_ROUTE]: pageStillLoadingComponent,\n            [TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_CASH_AND_GAINS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_SETTINGS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_PAIRS_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_ADD_ACCOUNT_ROUTE]: pageStillLoadingComponent,\n            [TRADER_TIME_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_PERIOD_ANALYSIS_ROUTE]: pageStillLoadingComponent,\n            [TRADER_EXPENSES_ROUTE]: pageStillLoadingComponent,\n            [TRADER_NOTES_ROUTE]: pageStillLoadingComponent,\n            [TRADER_SUBSCRIBE_NOW_ROUTE]: pageStillLoadingComponent\n        }\n    }\n}\n\nconst {TRADER_OVERVIEW_ROUTE, TRADER_JOURNAL_ROUTE, TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE,\n    TRADER_CASH_AND_GAINS_ROUTE, TRADER_SETTINGS_ROUTE, TRADER_PAIRS_ANALYSIS_ROUTE, TRADER_ADD_ACCOUNT_ROUTE,\n    TRADER_TIME_ANALYSIS_ROUTE, TRADER_PERIOD_ANALYSIS_ROUTE, TRADER_EXPENSES_ROUTE, TRADER_NOTES_ROUTE,\n    TRADER_SUBSCRIBE_NOW_ROUTE, TRADER_APP_ROUTE\n} = RouteConst;\n\nexport default TraderApp\nexport {\n    GlobalDataContext,\n    CurrentAccountChangerContext,\n    DataIsRefreshingContext,\n    RefreshDataContext,\n    NewSubscriptionContext,\n    SubscriptionCancelContext,\n    PermissionsContext\n}","import {useContext, useEffect, useState} from 'react'\nimport {DataGrid, GridToolbar, GridColDef, GridRowsProp} from '@mui/x-data-grid'\nimport {BP} from '@components/text'\nimport {PageContainer, PageHeading} from '@apps/trader-app/components'\nimport {formatMoney} from '@apps/trader-app/utils'\nimport {GlobalDataContext} from '@apps/trader-app'\n\n\nconst Journal = () => {\n    const globalData = useContext(GlobalDataContext);\n    const columns: GridColDef[] = [\n        {field: 'id', renderHeader: () => <BP>ID</BP>, width: 90},\n        {field: 'openTime', renderHeader: () => (<BP>Open Date Time</BP>), type: 'dateTime', width: 190 },\n        {field: 'closeTime', renderHeader: () => (<BP>Close Date Time</BP>), type: 'dateTime', width: 190 },\n        {field: 'pair', renderHeader: () => (<BP>Pair</BP>), width: 110 },\n        {field: 'action', renderHeader: () => (<BP>Action</BP>), width: 80},\n        {field: 'fee', renderHeader: () => (<BP>Fee</BP>), type: 'number', width: 100},\n        {field: 'profit', renderHeader: () => (<BP>Profit</BP>), type: 'number', width: 120}\n    ];\n    const [rows, setRows] = useState<GridRowsProp>([]);\n    useEffect(() => {\n        if(globalData.hasLoaded()){\n            setRows(globalData.getCurrentTradeAccountData().trades.map((trade, i) => {\n                return {\n                    id: i + 1,\n                    openTime: new Date(trade.openTime).toString().split('GMT')[0],\n                    closeTime: new Date(trade.closeTime).toString().split('GMT')[0],\n                    pair: trade.pair, \n                    action: trade.action.toUpperCase(),\n                    fee: trade.commission !== undefined && trade.swap !== undefined ? trade.commission + trade.swap : 'None Found',\n                    profit: formatMoney(trade.profitLoss)\n                }\n            }));\n        }\n    }, [globalData])\n\n    return(\n        <PageContainer>\n            <PageHeading heading='Journal' />\n            <div style={{height: '75vh'}} data-testid='journal-table'>\n                <DataGrid\n                    columns={columns}\n                    rows={rows}\n                    pageSize={10}\n                    components={{\n                        Toolbar: GridToolbar\n                    }}\n                    />\n            </div>\n        </PageContainer>\n    )\n}\n\nexport default Journal","import {Http, HttpErrorType, HttpResponseType} from '@apps/trader-app/services'\nimport {HttpConst} from '@conf/const'\n\n\nclass Note {\n    id;\n    title;\n    content;\n    lastEdited;\n    // To synchronize multiple saves\n    // If the note is already being saved, append the current state\n    private isSaving;\n    private saveQueue: NoteData[];\n    constructor(noteData?: NoteData | RawNoteData){\n        if(noteData){\n            this.id = noteData.id;\n            this.title = noteData.title;\n            this.content = noteData.content;\n            if('lastEdited' in noteData){\n                this.lastEdited = new Date(noteData.lastEdited);\n            } else {\n                this.lastEdited = new Date(noteData.last_edited);\n            }\n        } else {\n            this.id = -1;\n            this.title = '';\n            this.content = [{type: 'p', children: [{text: ''}]}];\n            this.lastEdited = new Date();\n        }\n        this.saveQueue = [];\n        this.isSaving = false;\n    }\n\n    private _save(data: NoteData){\n        const {BASE_URL, SAVE_NOTE_URL, UPDATE_NOTE_URL} = HttpConst;\n        let url;\n        let httpMethod;\n        if(this.id === -1){\n            url = `${BASE_URL}/${SAVE_NOTE_URL}/`;\n            httpMethod = Http.post;\n        } else {\n            url = `${BASE_URL}/${UPDATE_NOTE_URL}/${this.id}/`;\n            httpMethod = Http.put;\n        }\n        httpMethod({\n            url,\n            data,\n            successFunc: (resp: HttpResponseType) => {\n                this.id = resp.data.id;\n                const latestChangeToSave = this.saveQueue.pop();\n                // other previous changes dont need to be saved\n                this.saveQueue = [];\n                if(latestChangeToSave === undefined){\n                    this.isSaving = false;\n                } else {\n                    this._save(latestChangeToSave);\n                }\n            },\n            errorFunc: (err: HttpErrorType) => {\n                console.log(err);\n                Http.toast.error('Sorry. Something went wrong while trying to save your note.');\n            }\n        })\n    }\n\n    save(){\n        if(this.isSaving){\n            // save the last state of the note\n            this.saveQueue.push({\n                id: this.id,\n                title: this.title,\n                content: this.content,\n                lastEdited: this.lastEdited.toISOString()\n            })\n        } else {\n            this.isSaving = true;\n            this._save(this.toNoteData())\n        }\n    }\n\n    delete(): Promise<void> {\n        if(this.id === -1){\n            return Promise.resolve();\n        } else {\n            const {BASE_URL, DELETE_NOTE_URL} = HttpConst\n            return Http.delete({\n                url: `${BASE_URL}/${DELETE_NOTE_URL}/${this.id}/`,\n                successFunc: () => {\n                    return Promise.resolve()\n                },\n                errorFunc: () => {\n                    return Promise.reject();\n                }\n            });\n        }\n    }\n\n    static fromRawData(noteData: NoteData[]): Note[]{\n        return noteData.map((data) => new Note(data))\n    }\n\n    lastEditedToString(): String {\n        return this.lastEdited.toDateString();\n    }\n    hasBeenSaved(){\n        // If the id is -1, then it has never been saved on the backend\n        return this.id != -1;\n    }\n    private toNoteData(){\n        return {\n            id: this.id,\n            title: this.title,\n            content: this.content,\n            lastEdited: this.lastEdited.toISOString()\n        }\n    }\n}\n\ntype NoteData = {\n    id: number,\n    title: string,\n    content: any,\n    lastEdited: string\n}\n\n// From the backend\ntype RawNoteData = {\n    id: number,\n    title: string,\n    content: any,\n    last_edited: string\n}\n\nexport default Note\nexport type {\n    NoteData\n}","import { PermissionsObj } from '@apps/trader-app/services/types';\nimport {ToastContext} from '@components/toast'\nimport {Delete} from '@mui/icons-material'\nimport {IconButton, ListItem, ListItemButton, ListItemText, CircularProgress} from '@mui/material'\nimport {useContext, useState} from 'react'\nimport Note from '../models';\n\n\nconst NoteListItem = ({noteItem, active, onClick, removeNoteFromList, noteIndex, permissions}: {noteItem: Note, active: boolean, onClick: Function, removeNoteFromList: Function, noteIndex: number, permissions: PermissionsObj}) => {\n    const [isDeleting, setIsDeleting] = useState(false);\n    const Toast = useContext(ToastContext);\n    return(\n        <ListItem>\n            <ListItemButton\n                disabled={isDeleting || !permissions.canModifyNotes}\n                onClick={(e) => onClick()}\n                selected={active}>\n                <ListItemText\n                    primary={noteItem.title ? noteItem.title : 'Untitled'}\n                    secondary={noteItem.lastEditedToString()}\n                    />\n            </ListItemButton>\n            {isDeleting ? \n                <CircularProgress />\n                : <IconButton onClick={() => {\n                        setIsDeleting(true);\n                        noteItem.delete()\n                            .then(() => removeNoteFromList(noteIndex))\n                            .catch(() => (\n                                Toast.error('Sorry. Something went wrong when trying to delete your note.')\n                            ))\n                            .then(() => setIsDeleting(false))\n                    }}><Delete /></IconButton>\n                }\n        </ListItem>\n    )\n}\n\nexport default NoteListItem","import {Divider, List, Slide,} from '@mui/material'\nimport {useRef} from 'react'\nimport NoteListItem from './note-list-item'\nimport Note from '../models'\nimport { PermissionsObj } from '@apps/trader-app/services/types'\n\n\nconst NoteList = ({noteItems, onNoteSelect, isEditing, removeNoteFromList, permissions}: {noteItems: Note[], onNoteSelect: Function, isEditing: boolean, removeNoteFromList: Function, permissions: PermissionsObj}) => {\n    const listContainerRef = useRef<HTMLDivElement>(null);\n    return(\n        <div ref={listContainerRef}>\n            <Slide direction='right' in={!isEditing} container={listContainerRef.current}>\n                <List>\n                    {noteItems.map((noteItem: any, i: number) => (\n                        <>\n                            <NoteListItem\n                                key={i}\n                                noteIndex={i}\n                                noteItem={noteItem}\n                                active={false}\n                                onClick={() => {\n                                    onNoteSelect(i);\n                                }}\n                                removeNoteFromList={removeNoteFromList}\n                                permissions={permissions}\n                                 />\n                            <Divider />\n                        </>\n                    ))}\n                </List>\n            </Slide>\n        </div>\n    )\n}\n\nexport default NoteList","import {getPluginType, MARK_BOLD, MARK_UNDERLINE, MARK_STRIKETHROUGH, MARK_ITALIC,\n    MARK_SUBSCRIPT, MARK_SUPERSCRIPT, PlateEditor} from '@udecode/plate'\nimport {MarkToolbarButton} from '@udecode/plate-ui-toolbar'\nimport {FormatBold, FormatItalic, FormatStrikethrough, FormatUnderlined, \n    Subscript, Superscript} from '@mui/icons-material'\nimport 'tippy.js/dist/tippy.css'\n\n\nconst TextFormatButtons = ({editor}: {editor: PlateEditor}) => {\n    return(\n        <>\n            <MarkToolbarButton\n                id='apps-trader-app-pages-notes-toolbar-text-format-buttons-bold'\n                type={getPluginType(editor, MARK_BOLD)}\n                icon={<FormatBold />}\n                tooltip={{content: 'Bold (ctrl + b)'}}\n                />\n            <MarkToolbarButton\n                type={getPluginType(editor, MARK_ITALIC)}\n                icon={<FormatItalic />}\n                onMouseDown={() => editor.addMark(MARK_ITALIC, true)}\n                tooltip={{content: 'Italic (ctrl + i)'}}\n                />\n            <MarkToolbarButton\n                type={getPluginType(editor, MARK_UNDERLINE)}\n                icon={<FormatUnderlined />}\n                tooltip={{content: 'Underline (ctrl + u)'}}\n                />\n            <MarkToolbarButton\n                type={getPluginType(editor, MARK_STRIKETHROUGH)}\n                icon={<FormatStrikethrough />}\n                tooltip={{content: 'Strikethrough (ctrl + shift + x)'}}\n                />\n            <MarkToolbarButton\n                type={getPluginType(editor, MARK_SUPERSCRIPT)}\n                clear={getPluginType(editor, MARK_SUPERSCRIPT)}\n                icon={<Superscript />}\n                tooltip={{content: 'Superscript (ctrl + .)'}}\n                />\n            <MarkToolbarButton\n                type={getPluginType(editor, MARK_SUBSCRIPT)}\n                clear={getPluginType(editor, MARK_SUBSCRIPT)}\n                icon={<Subscript />}\n                tooltip={{content: 'Subscript (ctrl + ,)'}}\n                />\n        </>\n    )\n}\n\nexport default TextFormatButtons","import {FormatAlignCenter, FormatAlignJustify, FormatAlignLeft, FormatAlignRight} from '@mui/icons-material'\nimport {PlateEditor} from '@udecode/plate-core'\nimport {AlignToolbarButton} from '@udecode/plate-ui'\n\nconst AlignContentButtons = ({editor}: {editor: PlateEditor}) => {\n    return(\n        <>\n            <AlignToolbarButton\n                value='left'\n                icon={<FormatAlignLeft />}\n                tooltip={{content: 'Align Content Left'}}\n                />\n            <AlignToolbarButton\n                value='center'\n                icon={<FormatAlignCenter />}\n                tooltip={{content: 'Align Content Center'}}\n                />\n            <AlignToolbarButton\n                value='right'\n                icon={<FormatAlignRight />}\n                tooltip={{content: 'Align Content Right'}}\n                />\n            <AlignToolbarButton\n                value='justify'\n                icon={<FormatAlignJustify />}\n                tooltip={{content: 'Justify Content'}}\n                />\n        </>\n    )\n}\n\nexport default AlignContentButtons","import {ToolbarButton} from '@udecode/plate-ui'\nimport {Undo, Redo} from '@mui/icons-material'\nimport {PlateEditor} from '@udecode/plate-core'\n\n\nconst UndoRedoButtons = ({editor}: {editor: PlateEditor}) => {\n    const noMoreRedos = (editor: PlateEditor) => editor && editor.history.redos.length === 0;\n    const noMoreUndos = (editor: PlateEditor) => editor && editor.history.undos.length === 0;\n    \n    return(\n        <>\n            <ToolbarButton\n                icon={<Undo sx={{opacity: noMoreUndos(editor) ? 0.5 : undefined}} />}\n                onMouseDown={() => {\n                    if(!noMoreUndos(editor)){\n                        editor.undo();\n                    }\n                }}\n                tooltip={{content: 'Undo (ctrl + z)'}}\n                />\n            <ToolbarButton \n                icon={<Redo sx={{opacity: noMoreRedos(editor) ? 0.5 : undefined}} />}\n                onMouseDown={() => {\n                    if(!noMoreRedos(editor)){\n                        editor.redo();\n                    }\n                }}\n                tooltip={{content: 'Redo (ctrl + y)'}}\n                />\n        </>\n    )\n}\n\nexport default UndoRedoButtons","import {getPluginType, ELEMENT_UL, ELEMENT_OL, PlateEditor} from '@udecode/plate'\nimport {FormatListBulleted, FormatListNumbered} from '@mui/icons-material'\nimport {ListToolbarButton} from '@udecode/plate-ui-list'\n\n\nconst ListButtons = ({editor}: {editor: PlateEditor}) => {\n    return(\n        <>\n            <ListToolbarButton\n                type={getPluginType(editor, ELEMENT_UL)}\n                icon={<FormatListBulleted />}\n                tooltip={{content: 'Insert Bulleted List'}}\n                />\n            <ListToolbarButton\n                type={getPluginType(editor, ELEMENT_OL)}\n                icon={<FormatListNumbered />}\n                tooltip={{content: 'Insert Numbered List'}}\n                />\n        </>\n    )\n}\n\nexport default ListButtons","const createHeaderRowNode = (columns: number) =>{\n    const headerRow: any = {type: 'tr', children: []}\n    for(let colNo=columns; colNo >= 1; colNo--){\n        headerRow.children.push({type: 'th', children: [{type: 'p', children: [{text: ''}]}]});\n    }\n    return headerRow\n}\n\nconst createRow = (columns: number) => {\n    const row: any = {type: 'tr', children: []}\n    for(let colNo=columns; colNo >= 1; colNo--){\n        row.children.push({type: 'td', children: [{type: 'p', children: [{text: ''}]}]});\n    }\n    return row\n}\n\nconst createTableNode = (rows: number, columns: number) => {\n    const tableNode = {\n        type: 'table',\n        isElement: true,\n        children: [\n            createHeaderRowNode(columns)\n        ]\n    }\n    for(let rowNo=rows; rowNo >= 1; rowNo--){\n        tableNode.children.push(createRow(columns));\n    }\n    return tableNode\n}\n\n\nexport default createTableNode","import {RowBox} from '@components/containers'\nimport {Input} from '@components/inputs'\nimport {P} from '@components/text'\nimport {getDimen} from '@conf/utils'\n\n\nconst NoOfRowsInput = ({rows, setRows}: {rows: number, setRows: Function}) => {\n    \n    return(\n        <RowBox\n            style={{\n                marginBottom: getDimen('padding-xs'),\n                justifyContent: 'space-between',\n                alignItems: 'baseline'\n            }}>\n            <P>Number of rows: &nbsp;</P>\n            <Input\n                autoFocus={true}\n                variant='standard'\n                type='number'\n                value={rows}\n                onChange={(e) => setRows(e.target.value)} />\n        </RowBox>\n    )\n}\n\nexport default NoOfRowsInput","import {RowBox} from '@components/containers'\nimport {Input} from '@components/inputs'\nimport {P} from '@components/text'\nimport {getDimen} from '@conf/utils'\n\n\nconst NoOfColumnsInput = ({columns, setColumns}: {columns: number, setColumns: Function}) => {\n    return(\n        <RowBox\n            style={{\n                justifyContent: 'space-between',\n                alignItems: 'baseline',\n                marginBottom: getDimen('padding-xs')\n            }}>\n            <P>Number of cols: &nbsp;</P>\n            <Input\n                variant='standard'\n                type='number'\n                value={columns}\n                onChange={(e: any) => setColumns(e.target.value)} />\n        </RowBox>\n    )\n}\n\nexport default NoOfColumnsInput","import {useState} from 'react'\nimport {Transforms} from 'slate'\nimport {getPluginType, PlateEditor} from '@udecode/plate'\nimport {ToolbarButton} from '@udecode/plate-ui-toolbar'\nimport {ELEMENT_PARAGRAPH} from '@udecode/plate-paragraph'\nimport {TableView} from '@mui/icons-material'\nimport Dialog from '@components/dialog'\nimport createTableNode from './create-table-node'\nimport NoOfRowsInput from './no-of-rows-input'\nimport NoOfColumnsInput from './no-of-columns-input'\n\n\nconst InsertTableButton = ({editor}: {editor: PlateEditor}) => {\n    const [rows, setRows] = useState(1);\n    const [columns, setColumns] = useState(2);\n    const [dialogIsOpen, setDialogIsOpen] = useState(false);\n    const setNewValueIfValidNumber = (newValue: string, setValue: Function) => {\n        // No negative numbers or numbers greater than 10 are allowed\n        const validNumber = (num: number) => !isNaN(num) && num > 0 && num < 11\n        const num = parseInt(newValue);\n        if(validNumber(num)){\n            setValue(newValue);\n        }\n    }\n    const onOkClick = () => {\n        const tableNode = createTableNode(rows, columns);\n        // Adding a paragraph to make it easy to continue editing after inserting the table\n        const newParagraphNode = {type: ELEMENT_PARAGRAPH, children: [{text: ''}]};\n        Transforms.insertNodes(editor, [tableNode, newParagraphNode]);\n        setDialogIsOpen(false);\n    }\n\n    return(\n        <>\n        {dialogIsOpen ?\n            <Dialog\n                title='Insert Table'\n                open={true}\n                onClose={() => setDialogIsOpen(false)}\n                onOkClick={onOkClick}\n                onCancelClick={() => setDialogIsOpen(false)}>\n                <NoOfRowsInput\n                    rows={rows}\n                    setRows={(newValue: string) => setNewValueIfValidNumber(newValue, setRows)}\n                />\n                <NoOfColumnsInput\n                    columns={columns}\n                    setColumns={(newValue: string) => setNewValueIfValidNumber(newValue, setColumns)}\n                    />\n            </Dialog>\n            : null\n        }\n        <ToolbarButton\n            type={getPluginType(editor, 'table')}\n            icon={<TableView />}\n            tooltip={{content: 'Insert Table'}}\n            onMouseDown={() => {\n                setDialogIsOpen(true);\n            }}\n            />\n        </>\n    )\n}\n\nexport default InsertTableButton","import {useState} from 'react'\nimport {PlateEditor} from '@udecode/plate-core'\nimport {ImageToolbarButton} from '@udecode/plate-ui-image'\nimport {Image} from '@mui/icons-material'\nimport {Input} from '@components/inputs'\nimport Dialog from '@components/dialog'\n\n\nconst InsertImageButton = ({editor}: {editor: PlateEditor}) => {\n    const [imageUrl, setImageUrl] = useState('');\n    const [resolve, setResolve] = useState<Function>(() => {});\n    const [dialogIsOpen, setDialogIsOpen] = useState(false);\n    const closeDialog = () => {\n        setImageUrl('');\n        setResolve(() => {});\n        setDialogIsOpen(false);\n    }\n    return(\n        <>\n        {dialogIsOpen ?\n            <Dialog\n                title='Insert Image'\n                onClose={() => closeDialog()}\n                open={dialogIsOpen}\n                onOkClick={() => resolve(imageUrl)}\n                onCancelClick={() => closeDialog()}>\n                <Input\n                    value={imageUrl}\n                    onChange={(e) => setImageUrl(e.target.value)}\n                    placeholder='Image url'\n                />\n            </Dialog>\n            : null\n        }\n        <ImageToolbarButton\n            icon={<Image />}\n            getImageUrl={() => {\n                return new Promise((resolve) => {\n                    setResolve(prevResolve => (url: string) => resolve(url));\n                })\n            }}\n            tooltip={{content: 'Insert Image'}} />\n        </>\n    )\n}\n\nexport default InsertImageButton","import {useState} from 'react'\nimport {PlateEditor} from '@udecode/plate-core'\nimport {LinkToolbarButton} from '@udecode/plate-ui-link'\nimport {Link} from '@mui/icons-material'\nimport {Input} from '@components/inputs'\nimport Dialog from '@components/dialog'\n\n\nconst InsertLinkButton = ({editor}: {editor: PlateEditor}) => {\n    const [dialogIsOpen, setDialogIsOpen] = useState(false);\n    const [resolve, setResolve] = useState<Function>(() => {});\n    const [url, setUrl] = useState('');\n    const closeDialog = () => {\n        setUrl('');\n        setDialogIsOpen(false);\n        setResolve(() => {});\n    }\n    return(\n        <>\n        {dialogIsOpen ?\n            <Dialog\n                title='Insert Link'\n                open={dialogIsOpen}\n                onOkClick={() => {\n                    if(url.length === 0){\n                        resolve(null);\n                    } else {\n                        resolve(url);\n                    }\n                    closeDialog();\n                }}\n                onCancelClick={() => closeDialog()}\n                onClose={() => closeDialog()}>\n                    <Input\n                        value={url}\n                        onChange={(e) => {\n                            setUrl(e.target.value)\n                        }}\n                        placeholder='the url'\n                        />\n            </Dialog>\n            : null\n        }\n        <LinkToolbarButton\n            icon={<Link />}\n            getLinkUrl={() => {\n                return new Promise((resolve) => {\n                    setDialogIsOpen(true);\n                    setResolve(prevFunc => (url: string | null) => resolve(url));\n                })\n            }}\n            tooltip={{content: 'Insert Link'}}\n            />\n        </>\n    )\n}\n\nexport default InsertLinkButton","import {PlateEditor} from '@udecode/plate'\nimport ListButtons from './list-buttons'\nimport InsertTableButton from './insert-table-button'\nimport InsertImageButton from './insert-image-button'\nimport InsertLinkButton from './insert-link-button'\n\n\nconst InsertContentButtons = ({editor}: {editor: PlateEditor}) => {\n    return(\n        <>\n            <ListButtons editor={editor} />\n            <InsertTableButton editor={editor} />\n            <InsertLinkButton editor={editor} />\n            <InsertImageButton editor={editor} />\n        </>\n    )\n}\n\nexport default InsertContentButtons","import {getPluginType, ELEMENT_H1, ELEMENT_H2, ELEMENT_H3, PlateEditor,\n    ELEMENT_H4, ELEMENT_H5, ELEMENT_H6, ELEMENT_BLOCKQUOTE} from '@udecode/plate'\nimport {BlockToolbarButton} from '@udecode/plate-ui'\nimport {LooksOne, LooksTwo, Looks3, Looks4, Looks5, Looks6, FormatQuote} from '@mui/icons-material'\n\n\nconst HeadersAndQuoteButtons = ({editor}: {editor: PlateEditor}) => {\n    return(\n        <>\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_H1)}\n                icon={<LooksOne />}\n                tooltip={{content: 'Header 1'}}\n            />\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_H2)}\n                icon={<LooksTwo />}\n                tooltip={{content: 'Header 2'}}\n            />\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_H3)}\n                icon={<Looks3 />}\n                tooltip={{content: 'Header 3'}}\n            />\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_H4)}\n                icon={<Looks4 />}\n                tooltip={{content: 'Header 4'}}\n            />\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_H5)}\n                icon={<Looks5 />}\n                tooltip={{content: 'Header 5'}}\n            />\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_H6)}\n                icon={<Looks6 />}\n                tooltip={{content: 'Header 6'}}\n            />\n            <BlockToolbarButton\n                type={getPluginType(editor, ELEMENT_BLOCKQUOTE)}\n                icon={<FormatQuote />}\n                tooltip={{content: 'Insert Blockquote'}}\n            />\n        </>\n    )\n}\n\nexport default HeadersAndQuoteButtons","import {usePlateEditorState} from '@udecode/plate'\nimport {HeadingToolbar} from '@udecode/plate-ui-toolbar'\nimport TextFormatButtons from './text-format-buttons'\nimport AlignContentButtons from './align-content-buttons'\nimport UndoRedoButtons from './undo-redo-buttons'\nimport InsertContentButtons from './insert-content-buttons'\nimport HeadersAndQuoteButtons from './headers-and-quote-buttons'\n\n\nconst Toolbar = () => {\n    const editor = usePlateEditorState();\n    return(\n        <HeadingToolbar>\n            <HeadersAndQuoteButtons editor={editor} />\n            <TextFormatButtons editor={editor} />\n            <UndoRedoButtons editor={editor} />\n            <AlignContentButtons editor={editor} />\n            <InsertContentButtons editor={editor} />\n        </HeadingToolbar>\n    )\n}\n\nexport default Toolbar","import {getColor} from '@conf/utils'\n\n\nconst LinkElement = ({attributes, children, element}: any) => {\n    return(\n        <a \n            {...attributes}\n            style={{\n                color: getColor('light-blue'),\n                textDecoration: 'underline',\n                onMouseOver: 'pointer'\n            }}\n            href={element.url} target='_blank'>{children}\n        </a>\n    );\n}\n\nexport default LinkElement","const TdElement = ({attributes, children, element}: any) => {\n    return(\n        <td\n            {...attributes}\n            style={{\n                border: '1px solid rgba(0,0,0,.55)'\n            }}>{children}</td>\n    );\n}\n\nexport default TdElement","import {createParagraphPlugin, createBlockquotePlugin, createHeadingPlugin,\n    createBoldPlugin, createItalicPlugin, createUnderlinePlugin, createStrikethroughPlugin, \n    createPlugins, createPlateUI, createSubscriptPlugin, createSuperscriptPlugin,\n    createListPlugin, createResetNodePlugin, createSoftBreakPlugin, createExitBreakPlugin,\n    createTablePlugin, createAlignPlugin, ELEMENT_H1, ELEMENT_H2, ELEMENT_H3, ELEMENT_H4,\n    ELEMENT_H5, ELEMENT_H6, ELEMENT_PARAGRAPH, createLinkPlugin, ELEMENT_LINK, createImagePlugin, withPlaceholders\n} from '@udecode/plate'\nimport {ELEMENT_TD} from '@udecode/plate-table'\nimport LinkElement from './link-element'\nimport TdElement from './td-element'\n\n\nconst plugins = createPlugins([\n    // elements\n    createParagraphPlugin(),      // paragraph element\n    createBlockquotePlugin(),     // blockquote element\n    createHeadingPlugin(),        // heading elements\n    createListPlugin(),           // list elements\n    createResetNodePlugin(),\n    createSoftBreakPlugin(),\n    createExitBreakPlugin(),\n    createTablePlugin(),          // tables\n    // links\n    createLinkPlugin(),\n\n    // marks\n    createBoldPlugin(),           // bold mark\n    createItalicPlugin(),         // italic mark\n    createUnderlinePlugin(),      // underline mark\n    createStrikethroughPlugin(),  // strikethrough mark\n    createSuperscriptPlugin(),    // superscript mark\n    createSubscriptPlugin(),      // subscript mark\n\n    // alignment\n    createAlignPlugin({ \n        inject: {\n        props: {\n            validTypes: [\n                ELEMENT_PARAGRAPH,\n                ELEMENT_H1,\n                ELEMENT_H2,\n                ELEMENT_H3,\n                ELEMENT_H4,\n                ELEMENT_H5,\n                ELEMENT_H6\n            ],\n        }\n        }\n    }),\n    createImagePlugin(),\n], {\n    components: createPlateUI({\n        [ELEMENT_LINK]: LinkElement,\n        [ELEMENT_TD]: TdElement\n    })\n});\n\nexport default plugins","import {getDimen} from '@conf/utils'\nimport {Input} from '@mui/material'\n\n\nconst TitleInput = ({title, setTitle}: {title: string, setTitle: Function}) => {\n    return(\n        <Input\n            value={title}\n            placeholder='Title'\n            style={{\n                border: 'none',\n                fontWeight: 500,\n                fontSize: '2rem',\n                marginBottom: getDimen('padding-xs')\n            }}\n            onChange={(e) => setTitle(e.target.value)}\n            />\n    )\n}\n\nexport default TitleInput","import {Plate} from '@udecode/plate'\nimport Toolbar from './toolbar'\nimport plugins from './plugins'\nimport {getDimen} from '@conf/utils'\nimport TitleInput from './title-input'\n\n\nconst NoteEditor = ({note, setTitle, setContent}: {note: any, setTitle: Function, setContent: Function}) => {\n    return(\n        <div style={{paddingTop: getDimen('padding-md')}}>\n            <TitleInput title={note.title} setTitle={setTitle} />\n            <Toolbar />\n            <Plate\n                plugins={plugins}\n                onChange={(newValue) => {\n                    setContent(newValue);\n                }}\n                editableProps={{\n                    placeholder: 'Notes...'\n                }} />\n        </div>\n    );\n}\n\nexport default NoteEditor","import {PermissionsObj} from '@apps/trader-app/services/types'\nimport {Button} from '@components/buttons'\nimport {getDimen} from '@conf/utils'\nimport {List} from '@mui/material'\n\nconst MainToolbar = ({isEditing, showAllNotes, createNewNote, permissions}: {isEditing: boolean, showAllNotes: Function, createNewNote: Function, permissions: PermissionsObj}) => {\n    return(\n        <List>\n            {isEditing ? \n                <Button\n                    disabled={!permissions.canModifyNotes}\n                    onClick={\n                        () => showAllNotes()\n                    }>All Notes</Button>\n                : \n                <Button\n                    disabled={!permissions.canCreateNote}\n                    onClick={() => createNewNote()}\n                    style={{\n                        marginRight: getDimen('padding-xs')\n                    }}>New Note</Button>}\n        </List>\n    )\n}\n\nexport default MainToolbar","import {ColumnBox} from '@components/containers'\nimport {H6} from '@components/text'\n\n\nconst NoNotesFound = () => {\n    return(\n        <ColumnBox\n            style={{\n                width: '100%',\n                height: '40vh',\n                alignItems: 'center',\n                justifyContent: 'center'\n            }}>\n            <H6>No Notes Found</H6>\n        </ColumnBox>\n    )\n}\n\nexport default NoNotesFound","import {useContext, useEffect, useState} from 'react'\nimport {usePlateStore} from '@udecode/plate-core'\nimport {PageContainer, PageHeading} from '@apps/trader-app/components'\nimport {ColumnBox} from '@components/containers'\nimport Note from './models'\nimport NoteList from './note-list'\nimport NoteEditor from './note-editor'\nimport MainToolbar from './main-toolbar'\nimport NoNotesFound from './no-notes-found'\nimport {PageStillLoading} from '@apps/trader-app/components'\nimport {NotebookPropTypes} from './types'\nimport { PermissionsContext } from '@apps/trader-app'\nimport { BP } from '@components/text'\n\n\nconst Notebook = ({noteData}: NotebookPropTypes) => {\n    const permissions = useContext(PermissionsContext);\n    // Index of currently chosen note in noteItems\n    const [currentNoteIndex, setCurrentNoteIndex] = useState(-1);\n    const [isEditing, setIsEditing] = useState(false);\n    const [notesHasLoaded, setNotesHasLoaded] = useState(false);\n    const [noteItems, setNoteItems] = useState<Note[]>([]);\n    const setEditorValue = usePlateStore().set.value;\n    useEffect(() => {\n        noteData.then((rawNoteData) => {\n            setNoteItems(Note.fromRawData(rawNoteData));\n            setNotesHasLoaded(true);\n        })\n    }, [])\n    const createNewNote = () => {\n        const newNote = new Note();\n        const newNoteItems = [...noteItems, newNote];\n        setNoteItems(newNoteItems);\n        setCurrentNoteIndex(newNoteItems.length - 1);\n        setEditorValue(newNote.content);\n        setIsEditing(true);\n    }\n    const setCurrentNoteTitle = (title: string) => {\n        if(title.length <= 10000){\n            const newNoteItems = [...noteItems];\n            newNoteItems[currentNoteIndex].title = title;\n            setNoteItems(newNoteItems);\n            newNoteItems[currentNoteIndex].save();\n        }\n    }\n    const setCurrentNoteContent = (content: any) => {\n        const newNoteItems = [...noteItems];\n        newNoteItems[currentNoteIndex].content = content;\n        setNoteItems(newNoteItems);\n        newNoteItems[currentNoteIndex].save();\n\n    }\n    const showAllNotes = () => {\n        const currentNote = noteItems[currentNoteIndex];\n        if(!currentNote.hasBeenSaved()){\n            const newNoteItems = noteItems.filter((note, i) => i !== currentNoteIndex);\n            setNoteItems(newNoteItems);\n        }\n        setIsEditing(false);\n    }\n    if(!notesHasLoaded){\n        return <PageStillLoading />\n    }\n    return(\n        <PageContainer showDataStatusBar={false}>\n            <PageHeading heading='Notes' dontShowSelector={true} />\n            <ColumnBox data-testid='notebook'>\n                <MainToolbar \n                    isEditing={isEditing}\n                    showAllNotes={showAllNotes}\n                    createNewNote={createNewNote}\n                    permissions={permissions}\n                    />\n                {noteItems.length === 0 ?\n                    <NoNotesFound />\n                    : isEditing ?\n                        <NoteEditor\n                            note={noteItems[currentNoteIndex]}\n                            setTitle={setCurrentNoteTitle}\n                            setContent={setCurrentNoteContent}\n                            />\n                        : \n                            <NoteList\n                                removeNoteFromList={(noteIndex: number) => {\n                                    // Call function to remove note from list\n                                    const newNoteItems = noteItems.filter((note, index) => (\n                                        index !== noteIndex\n                                    ));\n                                    setNoteItems(newNoteItems);\n                                }}\n                                noteItems={noteItems}\n                                isEditing={isEditing}\n                                onNoteSelect={(noteIndex: number) => {\n                                    setEditorValue(noteItems[noteIndex].content);\n                                    setIsEditing(true);\n                                    setCurrentNoteIndex(noteIndex);\n                                }}\n                                permissions={permissions}\n                            />\n                    \n                }\n            </ColumnBox>\n        </PageContainer>\n    )\n}\n\nexport default Notebook","import {useEffect, useState} from 'react'\nimport {HttpConst} from '@conf/const'\nimport Http, {HttpErrorType, HttpResponseType} from '@services/http'\n\n\nconst useNoteData = (): Promise<any> => {\n    const {BASE_URL, GET_ALL_NOTES_URL} = HttpConst;\n    const [noteData, setNoteData] = useState<Promise<any>>(new Promise((resolve, reject) => {}));\n    useEffect(() => {\n        Http.get({\n            url: `${BASE_URL}/${GET_ALL_NOTES_URL}/`,\n            successFunc: (resp: HttpResponseType) => {\n                setNoteData(Promise.resolve(resp.data));\n            },\n            errorFunc: (err: HttpErrorType) => {\n                setNoteData(Promise.resolve(err));\n            }\n        })\n    }, [])\n    return noteData;\n}\n\nexport default useNoteData","import BaseHttp, {HttpGetConfigType, HttpPostConfigType, HttpPutConfigType,\n    HttpDeleteConfigType, HttpErrorType, HttpClientType} from '@services/http'\nimport {RouteConst} from '@conf/const'\n\nconst {INFO_LOGIN_ROUTE} = RouteConst;\nconst LOGIN_ROUTE = `/${INFO_LOGIN_ROUTE}`;\n\nconst handleRequest = (httpMethod: Function, config: any): Promise<any> => {\n    return httpMethod({\n        ...config,\n        errorFunc: (err: HttpErrorType) => {\n            if(err.response.status === 401 || err.response.status === 403){\n                if(Http.unauthorizedRedirectRoute !== undefined){\n                    Http.navigate(Http.unauthorizedRedirectRoute);\n                } else {\n                    Http.navigate(LOGIN_ROUTE);\n                }\n            } else {\n                return config.errorFunc(err);\n            }\n        },\n    })\n}\n\nconst get = (config: HttpGetConfigType) => {\n    return handleRequest(BaseHttp.get, config);\n}\n\nconst post = (config: HttpPostConfigType) => {\n    return handleRequest(BaseHttp.post, config);\n}\n\nconst put = (config: HttpPutConfigType) => {\n    return handleRequest(BaseHttp.put, config);\n}\n\nconst httpDelete = (config: HttpDeleteConfigType) => {\n    return handleRequest(BaseHttp.delete, config);\n}\n\n\nconst Http: TraderHttpClient = {\n    ...BaseHttp,\n    get,\n    put,\n    post,\n    delete: httpDelete,\n    navigate: (route: string) => {},\n    unauthorizedRedirectRoute: undefined,\n    initNavigate: function(navigate: NavigateFunc, unauthorizedRedirectRoute?: string){\n        this.navigate = navigate;\n        this.unauthorizedRedirectRoute = unauthorizedRedirectRoute;\n    }\n}\n\ntype TraderHttpClient = HttpClientType & {\n    navigate: NavigateFunc,\n    unauthorizedRedirectRoute?: string,\n    initNavigate: {\n        (navigate: NavigateFunc, unauthorizedRedirectRoute?: string): void\n    }\n}\n\ntype NavigateFunc = {\n    (route: string): void\n}\n\nexport default Http\nexport * from '@services/http'","import {cloneDeep} from 'lodash'\n\n/**\n * To turn raw money calculations to a presentable format\n * If money is negative, it should output money in\n * 2dp with a currency symbol in front, like -$45\n * If its positive, it should output it in 2dp with a currency symbol\n * in front, like $34\n */\nconst formatMoney = (amount: number): string => {\n    if(amount < 0){\n        return `-$${to2dp(amount * -1)}`\n    } else {\n        return `$${to2dp(amount)}`\n    }\n}\n\nconst formatPercent = (num: number) => {\n    return `${to2dp(num)}%`;\n}\n\nconst to2dpstring = (num: number) => {\n    return num.toFixed(2);\n}\n\nconst to2dp = (num: number) => {\n    return parseFloat(num.toFixed(2));\n}\n\nconst objArrayTo2dp = <T extends {[key: string]: any}>(objArray: T[], objArrayKey: keyof T): T[] => {\n    return objArray.map((obj) => (\n        {...obj, [objArrayKey]: to2dp(obj[objArrayKey])}\n    ));\n}\n\nconst objObjArrayTo2dp = <T extends {[key: string]: any}>(data: T, objKey: keyof T[keyof T][number]): T => {\n    const data2dp: T = cloneDeep(data);\n    Object.keys(data).forEach((skey) => {\n        const key = skey as keyof T;\n        data2dp[key] = objArrayTo2dp<T[keyof T]>(data[key], objKey) as T[keyof T];\n    })\n    return data2dp;\n}\n\nexport {\n    formatMoney,\n    to2dp,\n    to2dpstring,\n    formatPercent,\n    objArrayTo2dp,\n    objObjArrayTo2dp\n}","import {RowBox} from '@components/containers'\nimport {Button} from '@components/buttons'\nimport {getDimen} from '@conf/utils'\nimport {DialogButtonsPropTypes} from './types'\n\n\nconst Buttons = ({onOkClick, onCancelClick, okButtonColor, okButtonContent, okButtonProps, showCancelButton}: DialogButtonsPropTypes) => {\n    return(\n        <RowBox style={{\n            justifyContent: 'right',\n            marginTop: getDimen('padding-xs')\n            }}>\n            {showCancelButton !== undefined && !showCancelButton?\n                null\n                : <Button\n                    style={{\n                        marginRight: getDimen('padding-xs')\n                    }}\n                    onClick={() => onCancelClick()}\n                    color='neutral'>Cancel</Button>\n            }\n            <Button\n                color={okButtonColor}\n                onClick={(e) => onOkClick()}\n                {...okButtonProps}>\n                {okButtonContent ? \n                    typeof(okButtonContent) === 'string' ? 'ok' : okButtonContent\n                    : 'ok'\n                }\n            </Button>\n        </RowBox>\n    )\n}\n\nexport default Buttons","import {Dialog as MuiDialog} from '@mui/material'\nimport {ColumnBox} from '@components/containers'\nimport {getDimen} from '@conf/utils'\nimport {H6} from '@components/text'\nimport Buttons from './buttons'\nimport {DialogPropTypes} from './types'\nimport { useEffect } from 'react'\n\n\nconst Dialog = ({children, onOkClick, title, onClose, open, ...props}: DialogPropTypes) => {\n    return(\n        <MuiDialog onClose={() => onClose()} open={open}>\n            <div onKeyPress={(e: any) => {\n                if(e.key === 'Enter'){\n                    onOkClick();\n                }\n            }}>\n                <ColumnBox\n                    style={{\n                        margin: getDimen('padding-md')\n                    }}>\n                    <H6 style={{textAlign: 'center'}}>{title}</H6>\n                    {children}\n                    <Buttons \n                        onOkClick={onOkClick}\n                        {...props} />\n                </ColumnBox>\n            </div>\n        </MuiDialog>\n    )\n}\n\nexport default Dialog","import {cloneObj, sameDay, sameMonth, sameWeek, sameYear} from '@root/utils'\nimport {balanceCalc} from './common-calc'\nimport {AccountData, Trade} from '..'\nimport {CashGraphCalc} from './types'\n\n/**\n * For calculating the datasets for the Cash Graph on the\n * Cash And Gains page\n */\nconst cashGraphCalc = (accountData: AccountData, today: Date = new Date()) => {\n    const calculations: CashGraphCalc = {\n        todayGraphCalc: todayGraphCalc(accountData, today),\n        thisWeekGraphCalc: thisWeekGraphCalc(accountData, today),\n        thisMonthGraphCalc: thisMonthGraphCalc(accountData, today),\n        thisYearGraphCalc: thisYearGraphCalc(accountData, today),\n        allTimeGraphCalc: allTimeGraphCalc(accountData, today)\n    }\n    return calculations\n}\n\nconst todayGraphCalc = (accountData: AccountData, today: Date) => {\n    const accData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameDay(trade.closeTime, today)\n    ));\n    return graphCalc(accData);\n}\n\nconst thisWeekGraphCalc = (accountData: AccountData, today: Date) => {\n    const accData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameWeek(trade.closeTime, today)\n    ));\n    return graphCalc(accData);\n}\n\nconst thisMonthGraphCalc = (accountData: AccountData, today: Date) => {\n    const accData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameMonth(trade.closeTime, today)\n    ));\n    return graphCalc(accData);\n}\n\nconst thisYearGraphCalc = (accountData: AccountData, today: Date) => {\n    const accData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameYear(trade.closeTime, today)\n    ));\n    return graphCalc(accData);\n}\n\nconst allTimeGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData);\n}\n\nconst graphCalc = (accountData: AccountData) => {\n    const initialDeposit = accountData.deposits.length !== 0 ? accountData.deposits[0].amount : 0\n    return [\n        {tradeNo: 0, balance: initialDeposit},\n        ...balanceCalc(accountData)\n            .map((calc, i) => ({\n                tradeNo: i + 1, balance: calc.balance\n            }))\n    ]\n}\n\nexport default cashGraphCalc\nexport {\n    graphCalc\n}","import {AccountData, Trade, Deposit, Withdrawal} from '@root/types'\nimport {FAR_IN_THE_FUTURE_YEAR} from '@root/utils'\nimport {BalanceCalcItem} from './types'\n\n\n/**\n * @returns an array of objects each of which hold a trade with the balance \n *  at the time the trade was made\n */\nconst balanceCalc = (accountData: AccountData): BalanceCalcItem[] => {\n    let tradesIndex = 0;\n    let withdrawalsIndex = 0;\n    let depositsIndex = 0;\n    let currentBalance = 0;\n    const calc: BalanceCalcItem[] = [];\n    while(tradesIndex !== accountData.trades.length){\n        const currentDeposit = accountData.deposits[depositsIndex];\n        const currentWithdrawal = accountData.withdrawals[withdrawalsIndex];\n        const currentTrade = accountData.trades[tradesIndex];\n        const [depositPos, withdrawalPos, tradePos] = getDatePos(currentDeposit, currentWithdrawal, currentTrade);\n        const tradeIsEarliest = () => tradePos === 1;\n        const withdrawalIsEarliest = () => withdrawalPos === 1;\n        const withdrawalIsSecond = () => withdrawalPos === 2;\n        const depositIsEarliest = () => depositPos === 1;\n        const depositIsSecond = () => depositPos === 2;\n        const addTradeToBalance = () => {\n            currentBalance += currentTrade.profitLoss;\n            tradesIndex += 1;\n        }\n        const decreaseWithdrawalFromBalance = () => {\n            currentBalance -= currentWithdrawal.amount;\n            withdrawalsIndex += 1;\n        }\n        const addDepositToBalance = () => {\n            currentBalance += currentDeposit.amount;\n            depositsIndex += 1;\n        }\n        // Trade is earliest        \n        if(tradeIsEarliest()){\n            addTradeToBalance();\n            // withdrawal on the same day\n            if(withdrawalIsEarliest()){\n                decreaseWithdrawalFromBalance();\n            }\n            // deposit on the same day\n            if(depositIsEarliest()){\n                addDepositToBalance();\n            }\n        } else if(depositIsEarliest()){\n            addDepositToBalance();\n            if(withdrawalIsSecond()){\n                decreaseWithdrawalFromBalance();\n            }\n            // At this point, trade can only be the 3rd\n            addTradeToBalance();\n        } else {\n            // At this point, only the withdrawal can be the earliest\n            decreaseWithdrawalFromBalance();\n            if(depositIsSecond()){\n                addDepositToBalance();\n            }\n            addTradeToBalance();\n        }\n        calc.push({trade: currentTrade, balance: currentBalance});\n    }\n    return calc\n}\n\n/**\n * Returns a triple with each slot holding the position of the trade, deposit and withdrawal\n * indicating which took place the earliest, second earliest and latest.\n * For example, if the deposit has the earliest date, withdrawal with the second earliest and\n * trade with the latest, what will be returned will look like this:\n * [1, 2, 3], because the deposit is the first earliest, the withdrawal is the second earliest\n * and the trade is the latest.\n * The positions in the triple are arranged in that order: deposits position, withdrawal's\n * position and trade's position \n * */\nconst getDatePos = (deposit: Deposit, withdrawal: Withdrawal, trade: Trade) => {\n    const depositDate = deposit === undefined ? new Date(FAR_IN_THE_FUTURE_YEAR, 11, 31)\n        : new Date(deposit.time);\n    const withdrawalDate = withdrawal === undefined ? new Date(FAR_IN_THE_FUTURE_YEAR, 10, 30) \n        : new Date(withdrawal.time);\n    const tradeDate = new Date(trade.closeTime);\n    const posTriple = [-1, -1, -1];\n    // Their indexes in the posTriple\n    const DEPOSIT = 0;\n    const WITHDRAWAL = 1;\n    const TRADE = 2;\n    // Their positions\n    const UNSET = -1;\n    const FIRST = 1;\n    const SECOND = 2;\n    const THIRD = 3;\n    // To check if a slot in the posTriple has already been set\n    const posAlreadySet = (pos: number) => pos !== -1\n    const tradeDateIsEarliest = () => tradeDate <= depositDate && tradeDate <= withdrawalDate;\n    const depositDateIsEarliest = () => depositDate <= tradeDate && depositDate <= withdrawalDate;\n    const withdrawalDateIsEarliest = () => withdrawalDate <= tradeDate && withdrawalDate <= depositDate;\n    const sameDate = (date1: Date, date2: Date) => date1 === date2\n    /**\n     * possible positions:\n     *  trade, deposit, withdrawal\n     *  trade, withdrawal, deposit\n     *  deposit, trade, withdrawal\n     *  deposit, withdrawal, trade\n     *  withdrawal, deposit, trade\n     *  withdrawal, trade, deposit\n     * There is also a possibility that any of the dates may be the same\n     */\n    if(tradeDateIsEarliest()){\n        posTriple[TRADE] = FIRST;\n        posTriple[DEPOSIT] = sameDate(tradeDate, depositDate) ? FIRST : UNSET;\n        posTriple[WITHDRAWAL] = sameDate(tradeDate, withdrawalDate) ? FIRST : UNSET;\n        // At this point, the positions of deposit and withdrawal don't matter\n        // because as long as trade comes first, the only other things that\n        // need to be checked are if the deposits and withdrawals have the same position\n    } else if(depositDateIsEarliest()){\n        posTriple[DEPOSIT] = FIRST;\n        posTriple[TRADE] = sameDate(tradeDate, depositDate) ? FIRST : UNSET;\n        posTriple[WITHDRAWAL] = sameDate(withdrawalDate, depositDate) ? FIRST : UNSET;\n        if(tradeDate <= withdrawalDate){\n            /**\n             * Checking if the position is already set to consider the scenario\n             * where tradeDate is equal to depositDate, and its position is already 1st\n             */\n            posTriple[TRADE] = posAlreadySet(TRADE) ? posTriple[TRADE] : SECOND;\n            /**\n             * If withdrawal's position is already set, that means withdrawalDate is\n             * equal to depositDate and so, the date is already 1st\n             */\n            if(sameDate(tradeDate, withdrawalDate)){\n                posTriple[WITHDRAWAL] = posAlreadySet(WITHDRAWAL) ? posTriple[WITHDRAWAL] : SECOND;    \n            } else {\n                /**\n                 * If tradeDate comes before withdrawalDate, then it's not possible for\n                 * withdrawal's position to have been set. If withdrawal's position was\n                 * set, then it must be equal to depositDate, which is the earliest, but\n                 * if it was equal to depositDate, then tradeDate could not have come before\n                 * it, so the code here would never have been reached\n                 */\n                posTriple[WITHDRAWAL] = THIRD;\n            }\n        } else {\n            /**\n             * At this point, withdrawalDate is sure to be before tradeDate\n             */\n            posTriple[TRADE] = THIRD;\n            posTriple[WITHDRAWAL] = SECOND;\n        }\n    } else if(withdrawalDateIsEarliest()){\n        posTriple[WITHDRAWAL] = FIRST;\n        posTriple[TRADE] = sameDate(tradeDate, withdrawalDate) ? FIRST : UNSET;\n        posTriple[DEPOSIT] = sameDate(depositDate, withdrawalDate) ? FIRST : UNSET;\n        if(tradeDate <= depositDate){\n            /**\n             * Checking if the position is already set to consider the scenario\n             * where tradeDate is equal to withdrawalDate, and its position is already 1st\n             */\n            posTriple[TRADE] = posAlreadySet(TRADE) ? posTriple[TRADE] : SECOND;\n            /**\n             * If deposit's position is already set, that means withdrawalDate is\n             * equal to depositDate and so, the date is already 1st\n             */\n            if(sameDate(tradeDate, depositDate)){\n                posTriple[DEPOSIT] = posAlreadySet(DEPOSIT) ? posTriple[DEPOSIT] : SECOND;\n            } else {\n                /**\n                 * If tradeDate comes before depositDate, then it's not possible for\n                 * deposit's position to have been set. If deposit's position was\n                 * set, then it must be equal to withdrawalDate, which is the earliest, but\n                 * if it was equal to withdrawalDate, then tradeDate could not have come before\n                 * it, so the code here would never have been reached\n                 */\n                posTriple[DEPOSIT] = THIRD;\n            }\n        } else {\n            /**\n             * At this point, depositDate is sure to be before tradeDate\n             */\n            posTriple[TRADE] = THIRD;\n            posTriple[DEPOSIT] = SECOND;\n        }\n    }\n    return posTriple\n}\n\nexport {\n    balanceCalc\n}","import {Trade} from '@root/types'\nimport {cloneObj, sameDay, sameMonth, sameWeek, sameYear, approximate} from '@root/utils'\nimport {AccountData} from '..'\nimport { balanceCalc } from './common-calc'\nimport {GainsGraphCalc, GainsGraphItem} from './types'\n\n/**\n * Gains graph is a graph of cummulative gains percentages against tradeNo\n * gainsPercent is defined as profitLoss / totalDeposits\n * Each item in the object is an array of objects\n * with keys tradeNo and gainsPercent.\n * tradeNo is the index of a trade in a chronologically ordered\n * array of trades. For example, if trade A is the first trade a user\n * ever made and trade B was made after it, then trade A will have a tradeNo\n * of 0 and trade B will have a tradeNo of 1\n * The gainsPercent is the cummulative profit / loss of that trade.\n * That is the gainsPercent is the addition of all the profit profit / losses up to\n * the one with the current tradeNo divided by all the deposits up to the last deposit that happened\n * on or before the trade with the current tradeNo took place\n * Each field in the calculations object shows different views over the\n * same data, which correspond to different time ranges:\n * today, this week, this month, this year and all time\n */\nconst gainsGraphCalc = (accountData: AccountData, today: Date = new Date()) => {\n    const calculations: GainsGraphCalc = {\n        todayGraphCalc: todayGainsPercent(accountData, today),\n        thisWeekGraphCalc: thisWeekGainsPercent(accountData, today),\n        thisMonthGraphCalc: thisMonthGainsPercent(accountData, today),\n        thisYearGraphCalc: thisYearGainsPercent(accountData, today),\n        allTimeGraphCalc: allTimeGainsPercent(accountData)\n    }\n    return calculations;\n}\n\nconst todayGainsPercent = (accountData: AccountData, today: Date) => {\n    const accData: AccountData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameDay(trade.closeTime, today)\n    ));\n    return gainsPercent(accData);\n}\n\nconst thisWeekGainsPercent = (accountData: AccountData, today: Date) => {\n    const accData: AccountData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameWeek(trade.closeTime, today)\n    ));\n    return gainsPercent(accData);\n}\n\nconst thisMonthGainsPercent = (accountData: AccountData, today: Date) => {\n    const accData: AccountData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameMonth(trade.closeTime, today)\n    ));\n    return gainsPercent(accData);\n}\n\nconst thisYearGainsPercent = (accountData: AccountData, today: Date) => {\n    const accData: AccountData = cloneObj(accountData);\n    accData.trades = accData.trades.filter((trade: Trade) => (\n        sameYear(trade.closeTime, today)\n    ));\n    return gainsPercent(accData);\n}\n\nconst allTimeGainsPercent = (accountData: AccountData) => {\n    return gainsPercent(accountData);\n}\n\nconst gainsPercent = (accountData: AccountData) => {\n    return [\n        {tradeNo: 0, gainsPercent: 0},\n        ...balanceCalc(accountData)\n            .map((calc, i) => ({\n                tradeNo: i + 1, gainsPercent: gain(calc.trade.profitLoss, calc.balance)\n            }))\n    ]\n}\n\nconst gain = (profitLoss: number, balance: number) => {\n    if(balance == 0){\n        return 0;\n    }\n    return (profitLoss / balance) * 100;\n}\n\nexport default gainsGraphCalc","import {AccountData} from '..'\nimport {CashAndGainsCalculations} from './types'\nimport cashGraphCalc from './cash-graph-calc'\nimport gainsGraphCalc from './gains-graph-calc'\n\n\nconst cashAndGainsCalculations = (accountData: AccountData) => {\n    const calculations: CashAndGainsCalculations = {\n        cashGraphCalc: cashGraphCalc(accountData),\n        gainsGraphCalc: gainsGraphCalc(accountData)\n    }\n    return calculations\n}\n\nexport default cashAndGainsCalculations\nexport {graphCalc} from './cash-graph-calc'","import {AccountData, Trade} from './types'\n\n\nconst totalNoOfLongs = (data: AccountData | Trade[]) => {\n    let noOfLongs = 0;\n    if(Array.isArray(data)){\n        noOfLongs = noOfLongsFromTradeArray(data);\n    } else {\n        noOfLongs = noOfLongsFromAccountData(data);\n    }\n    return noOfLongs;\n}\n\nconst noOfLongsFromTradeArray = (trades: Trade[]) => {\n    let noOfLongs = 0;\n    for(const trade of trades){\n        if(trade.action === 'buy'){\n            noOfLongs += 1;\n        }\n    }\n    return noOfLongs\n}\n\nconst noOfLongsFromAccountData = (accountData: AccountData) => {\n    let noOfLongs = 0;\n    for(const trade of accountData.trades){\n        if(trade.action === 'buy'){\n            noOfLongs += 1;\n        }\n    }\n    return noOfLongs\n}\n\nconst totalNoOfShorts = (data: AccountData | Trade[]) => {\n    let noOfShorts = 0;\n    if(Array.isArray(data)){\n        noOfShorts = noOfShortsFromTradesArray(data);\n    } else {\n        noOfShorts = noOfShortsFromAccountData(data);\n    }\n    return noOfShorts;\n}\n\nconst noOfShortsFromTradesArray = (trades: Trade[]) => {\n    let noOfShorts = 0;\n    for(const trade of trades){\n        if(trade.action === 'sell'){\n            noOfShorts += 1;\n        }\n    }\n    return noOfShorts\n}\n\nconst noOfShortsFromAccountData = (accountData: AccountData) => {\n    let noOfShorts = 0;\n    for(const trade of accountData.trades){\n        if(trade.action === 'sell'){\n            noOfShorts += 1;\n        }\n    }\n    return noOfShorts\n}\n\nconst totalNoOfLongsWon = (accountData: AccountData) => {\n    let noOfLongsWon = 0;\n    for(const trade of accountData.trades){\n        if(trade.action === 'buy'){\n            if(trade.profitLoss > 0){\n                noOfLongsWon += 1;\n            }\n        }\n    }\n    return noOfLongsWon;\n}\n\nconst longsWonPercent = (accountData: AccountData) => {\n    const noOfLongsWon = totalNoOfLongsWon(accountData);\n    const noOfLongs = totalNoOfLongs(accountData);\n    if(noOfLongs === 0) return 0\n    return (noOfLongsWon / noOfLongs) * 100;\n}\n\nconst totalNoOfShortsWon = (accountData: AccountData) => {\n    let noOfShortsWon = 0;\n    for(const trade of accountData.trades){\n        if(trade.action === 'sell'){\n            if(trade.profitLoss > 0){\n                noOfShortsWon += 1;\n            }\n        }\n    }\n    return noOfShortsWon;\n}\n\nconst shortsWonPercent = (accountData: AccountData) => {\n    const noOfShortsWon = totalNoOfShortsWon(accountData);\n    const noOfShorts = totalNoOfShorts(accountData);\n    if(noOfShorts === 0) return 0\n    return (noOfShortsWon / noOfShorts) * 100\n}\n\n\n/** Counts the number of profitable trades in account */\nconst totalNoOfWinningTrades = (data: AccountData | Trade[]) => {\n    let totalNoOfWinningTrades = 0;\n    if(Array.isArray(data)){\n        totalNoOfWinningTrades = totalNoOfWinningTradesFromTradesArray(data);\n    } else {\n        totalNoOfWinningTrades = totalNoOfWinningTradesFromAccountData(data);\n    }\n    return totalNoOfWinningTrades\n}\n\nconst totalNoOfWinningTradesFromAccountData = (accountData: AccountData) => {\n    let totalNoOfWinningTrades = 0;\n    for(const trade of accountData.trades){\n        if(trade.profitLoss > 0){\n            totalNoOfWinningTrades += 1;\n        }\n    }\n    return totalNoOfWinningTrades\n}\n\nconst totalNoOfWinningTradesFromTradesArray = (trades: Trade[]) => {\n    let totalNoOfWinningTrades = 0;\n    for(const trade of trades){\n        if(trade.profitLoss > 0){\n            totalNoOfWinningTrades += 1;\n        }\n    }\n    return totalNoOfWinningTrades\n}\n\n/** \n * Calculates winning trades divided by total number of trades\n * expressed as a percentage\n */\n const winRate = (data: AccountData | Trade[]) => {\n    const noOfWinningTrades = totalNoOfWinningTrades(data);\n    const noOfTradess = noOfTrades(data);\n    if(noOfTradess === 0) return 0\n    return (noOfWinningTrades / noOfTradess) * 100\n}\n\n/** Counts the number of trades in account */\nconst noOfTrades = (data: AccountData | Trade[]) => {\n    if(Array.isArray(data)){\n        return data.length\n    }\n    return data.trades.length\n}\n\nexport {\n    totalNoOfLongs,\n    totalNoOfShorts, \n    longsWonPercent,\n    shortsWonPercent,\n    totalNoOfLongsWon,\n    totalNoOfShortsWon,\n    totalNoOfWinningTrades,\n    winRate,\n    noOfTrades\n}","import {AccountData} from '@root/types'\nimport {ExpensesTableCalcItem} from '..'\nimport {ExpensesTableCalc} from './types'\n\n\nconst expensesTableCalc = (accountData: AccountData) => {\n    const expensesPerPair: ExpensesPerPair = calcExpensesPerPair(accountData);\n    const calculations: ExpensesTableCalc = Object.keys(expensesPerPair)\n        .map((pair): ExpensesTableCalcItem => ({\n            pair,\n            commission: expensesPerPair[pair].commissions,\n            swap: expensesPerPair[pair].swap\n   }))\n    return calculations\n}\n\nconst calcExpensesPerPair = (accountData: AccountData) => {\n    const expensesPerPair: ExpensesPerPair = {}\n    for(const trade of accountData.trades){\n        if(!(trade.pair in expensesPerPair)){\n            expensesPerPair[trade.pair] = {commissions: 0, swap: 0}\n        }\n        expensesPerPair[trade.pair].commissions += \n            trade.commission !== undefined ? trade.commission : 0;\n        expensesPerPair[trade.pair].swap += \n            trade.swap !== undefined ? trade.swap : 0;\n    }\n    return expensesPerPair\n}\n\ntype ExpensesPerPair = {[key: string]: {commissions: number, swap: number}}\n\n\nexport default expensesTableCalc","import {AccountData} from '@root/types'\nimport expensesTableCalc from './expenses-table-calc'\nimport {ExpensesCalc} from './types'\n\n\nconst expensesCalculations = (accountData: AccountData) => {\n    const calculations: ExpensesCalc = {\n        expensesTableCalc: expensesTableCalc(accountData)\n    }\n    return calculations\n}\n\n\nexport default expensesCalculations","import overviewCalculations from '@root/overview-calculations'\nexport * from '@root/overview-calculations/types'\n\nexport * from '@root/types'\n\nimport cashAndGainsCalculations from '@root/cash-and-gains-calculations'\nexport * from '@root/cash-and-gains-calculations/types'\n\nimport expensesCalculations from '@root/expenses-calculations'\nexport * from '@root/expenses-calculations/types'\n\nimport longShortAnalysisCalculations from '@root/long-short-analysis-calculations'\nexport * from '@root/long-short-analysis-calculations/types'\n\nimport pairsAnalysisCalculations from '@root/pairs-analysis-calculations'\nexport * from '@root/pairs-analysis-calculations/types'\n\nimport tradingTimeAnalysisCalculations from '@root/trading-time-analysis-calculations'\nexport * from '@root/trading-time-analysis-calculations/types'\n\nimport periodAnalysisCalculations from '@root/period-analysis-calculations'\nexport * from '@root/period-analysis-calculations/types'\n\nexport {\n    overviewCalculations,\n    cashAndGainsCalculations,\n    expensesCalculations,\n    longShortAnalysisCalculations,\n    pairsAnalysisCalculations,\n    tradingTimeAnalysisCalculations,\n    periodAnalysisCalculations\n}\n","import {AccountData} from '..'\n\n/**\n * The total profit / loss gotten from all longs (trade.action = 'buy')\n * in accountData.trades\n * */\n const totalLongsProfitLoss = (accountData: AccountData) => {\n    let totalProfitLoss = 0;\n    for(const trade of accountData.trades){\n        if(trade.action === 'buy'){\n            totalProfitLoss += trade.profitLoss\n        }\n    }\n    return totalProfitLoss\n}\n\n/**\n * The total profit / loss gotten from all longs (trade.action = 'buy')\n * in accountData.trades\n * */\n const totalShortsProfitLoss = (accountData: AccountData) => {\n    let totalProfitLoss = 0;\n    for(const trade of accountData.trades){\n        if(trade.action === 'sell'){\n            totalProfitLoss += trade.profitLoss\n        }\n    }\n    return totalProfitLoss\n}\n\nexport {\n    totalLongsProfitLoss,\n    totalShortsProfitLoss\n}","import {AccountData} from '..'\nimport {LongShortAnalysisCalculations} from './types'\nimport longShortComparisonTableCalc from './long-short-comp-table-calc'\nimport longShortComparisonGraphCalc from './long-short-comp-graph-calc'\nimport longBalanceGraphCalc from './long-balance-graph-calc'\nimport shortBalanceGraphCalc from './short-balance-graph-calc'\n\n\nconst longShortAnalysisCalculations = (accountData: AccountData) => {\n    const calculations: LongShortAnalysisCalculations = {\n        longShortComparisonTableCalc: longShortComparisonTableCalc(accountData),\n        longShortComparisonGraphCalc: longShortComparisonGraphCalc(accountData),\n        longBalanceGraphCalc: longBalanceGraphCalc(accountData),\n        shortBalanceGraphCalc: shortBalanceGraphCalc(accountData)\n    }\n    return calculations\n}\n\nexport default longShortAnalysisCalculations","import {AccountData} from '..'\nimport {LongBalanceGraphCalc} from './types'\n\n\n/**\n * Profit / loss of longs against an index no in which a trade having an index\n * number 1 implies that it was carried out before a trade with an index number 2\n */\nconst longBalanceGraphCalc = (accountData: AccountData) => {\n    let cummulativeResult = 0;\n    const calculations: LongBalanceGraphCalc = [\n        {tradeNo: 0, result: 0},\n        ...accountData.trades\n            .filter((trade) => trade.action === 'buy')\n            .map((trade, i) => {\n                cummulativeResult += trade.profitLoss;\n                return {\n                    tradeNo: i + 1,\n                    result: cummulativeResult\n                }\n            })\n    ]\n    return calculations\n}\n\nexport default longBalanceGraphCalc","import {AccountData} from '..'\nimport {totalLongsProfitLoss, totalShortsProfitLoss} from './common-calc'\nimport {LongShortComparisonGraphCalc} from './types'\n\n\n/**\n * Returns an array of 2 items, 1 containing the profit / loss (result)\n * of all longs and the other containing the result of all shorts\n */\nconst longShortComparisonGraphCalc = (accountData: AccountData) => {\n    const calculations: LongShortComparisonGraphCalc = [\n        {label: 'long', result: totalLongsProfitLoss(accountData)},\n        {label: 'short', result: totalShortsProfitLoss(accountData)}\n    ]\n    return calculations\n}\n\nexport default longShortComparisonGraphCalc","import {AccountData} from '..'\nimport {longsWonPercent, shortsWonPercent, totalNoOfLongs, totalNoOfShorts} from '../common-calc'\nimport {totalLongsProfitLoss, totalShortsProfitLoss} from './common-calc'\nimport {LongShortComparisonTableCalc} from './types'\n\nconst longShortComparisonTableCalc = (accountData: AccountData) => {\n    const calculations: LongShortComparisonTableCalc = {\n        long: {\n            noOfTrades: totalNoOfLongs(accountData),\n            result: totalLongsProfitLoss(accountData),\n            winRate: longsWonPercent(accountData),\n            aveProfit: aveLongsProfitLoss(accountData),\n            rrr: longsRrr(accountData)\n        },\n        short: {\n            noOfTrades: totalNoOfShorts(accountData),\n            result: totalShortsProfitLoss(accountData),\n            winRate: shortsWonPercent(accountData),\n            aveProfit: aveShortsProfitLoss(accountData),\n            rrr: shortsRrr(accountData)\n        }\n    }\n    return calculations\n}\n\nconst aveLongsProfitLoss = (accountData: AccountData) => {\n    const longsProfit = totalLongsProfitLoss(accountData);\n    const noOfLongs = totalNoOfLongs(accountData);\n    if(noOfLongs === 0) return 0;\n    return longsProfit / noOfLongs\n}\n\nconst aveShortsProfitLoss = (accountData: AccountData) => {\n    const shortsProfit = totalShortsProfitLoss(accountData);\n    const noOfShorts = totalNoOfShorts(accountData);\n    if(noOfShorts === 0) return 0;\n    return shortsProfit / noOfShorts\n}\n\n/** @todo: calculate the risk reward ratio */\nconst longsRrr = (accountData: AccountData) => {\n    return 0\n}\n\n/** @todo: calculate the risk reward ratio */\nconst shortsRrr = (accountData: AccountData) => {\n    return 0\n}\n\nexport default longShortComparisonTableCalc","import {AccountData} from '..'\nimport {ShortBalanceGraphCalc} from './types'\n\n\n/**\n * Profit / loss of longs against an index no in which a trade having an index\n * number 1 implies that it was carried out before a trade with an index number 2\n */\nconst shortBalanceGraphCalc = (accountData: AccountData) => {\n    let cummulativeResult = 0;\n    const calculations: ShortBalanceGraphCalc = [\n        {tradeNo: 0, result: 0},\n        ...accountData.trades\n            .filter((trade) => trade.action === 'sell')\n            .map((trade, i) => {\n                cummulativeResult += trade.profitLoss;\n                return {\n                    tradeNo: i + 1,\n                    result: cummulativeResult\n                }\n            })\n    ]\n    return calculations\n}\n\nexport default shortBalanceGraphCalc","import {AccountData} from '..'\nimport {sameDay, sameWeek, sameMonth, sameYear} from '@root/utils'\nimport {OverviewAccountReturnsGraphCalc} from './types'\n\n/**\n * For calculating the datasets for the Account Returns graph\n * on the overview page of the trader app\n */\n\n/**\n * Each item in the object is an array of objects\n * with keys tradeNo and result.\n * tradeNo is the index of a trade in a chronologically ordered\n * array of trades. For example, if trade A is the first trade a user\n * ever made and trade B was made after it, then trade A will have a tradeNo\n * of 0 and trade B will have a tradeNo of 1\n * The result is the cummulative profit / loss of that trade.\n * That is the result is the addition of all the previous profit / losses and the profitLoss of\n * the trade with the current tradeNo\n * Each field in the calculations object shows different views over the\n * same data, which correspond to different time ranges:\n * today, this week, this month, this year and all time\n */\nconst accountReturnsGraphCalc = (accountData: AccountData, today: Date = new Date()) => {\n    const calculations: OverviewAccountReturnsGraphCalc = {\n        todayGraphCalc: todayGraphCalc(accountData, today),\n        thisWeekGraphCalc: thisWeekGraphCalc(accountData, today),\n        thisMonthGraphCalc: thisMonthGraphCalc(accountData, today),\n        thisYearGraphCalc: thisYearGraphCalc(accountData, today),\n        allTimeGraphCalc: allTimeGraphCalc(accountData, today)\n    }\n    return calculations\n}\n\nconst todayGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData, sameDay, today);\n}\n\nconst thisWeekGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData, sameWeek, today);\n}\n\nconst thisMonthGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData, sameMonth, today);\n}\n\nconst thisYearGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData, sameYear, today);\n}\n\nconst allTimeGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData, () => true, today);\n}\n\n/**\n * Create graph calc with the only the subset of the trades whose exit_date\n * satisfies the period condition and makes it return true\n */\nconst graphCalc = (accountData: AccountData, periodCondition: Function, today: Date) => {\n    let cummulativeProfitLoss = 0;\n    return [\n        {tradeNo: 0, result: 0},\n        ...accountData.trades\n            .filter((trade) => periodCondition(trade.closeTime, today))\n            .map((trade, i) => {\n                cummulativeProfitLoss += trade.profitLoss;\n                return {\n                    tradeNo: i + 1,\n                    result: cummulativeProfitLoss\n                }\n            })\n    ]\n}\n\nexport default accountReturnsGraphCalc","import overviewCardsCalc from './overview-cards-calc'\nimport statsCalc from './overview-stats-calc'\nimport weeklySummaryCalc from './weekly-summary-calc'\nimport accountReturnsGraphCalc from './account-returns-graph-calc'\nimport {OverviewCalculations} from './types'\nimport {AccountData} from '@root/types'\n\n\nconst overviewCalculations = (accountData: AccountData) => {\n    const calculations: OverviewCalculations = {\n        cardsCalc: overviewCardsCalc(accountData),\n        statsCalc: statsCalc(accountData),\n        weeklySummaryCalc: weeklySummaryCalc(accountData),\n        accountReturnsGraphCalc: accountReturnsGraphCalc(accountData)\n    };\n    return calculations;\n}\n\n\nexport default overviewCalculations\nexport {aveRRR} from './overview-stats-calc'","/**\n * Functions for calculating the info on the overview cards\n */\n\nimport {winRate, noOfTrades} from '@root/common-calc'\nimport {OverviewCardsCalc} from './types'\nimport {AccountData} from '..'\n\nconst overviewCardsCalc = (accountData: AccountData) => {\n    const calculations: OverviewCardsCalc = {\n        totalBalance: totalBalance(accountData),\n        winRate: winRate(accountData),\n        noOfTrades: noOfTrades(accountData),\n        absGain: absGain(accountData)\n    }\n    return calculations;\n}\n\n/**\n * To calculate the total balance of the account\n * Adds all profits, losses (always negative), deposits and subtracts withdrawals\n * */\n const totalBalance = (accountData: AccountData) => {\n    let totalBalance = totalProfitLoss(accountData) + totalDeposits(accountData)\n        - totalWithdrawals(accountData) - totalExpenses(accountData);\n    return totalBalance;\n}\n\n/** Sums all profit and losses */\nconst totalProfitLoss = (accountData: AccountData) => {\n    let totalProfitLoss = 0;\n    for(const trade of accountData.trades){\n        totalProfitLoss += trade.profitLoss;\n    }\n    return totalProfitLoss;\n}\n\n/** Sums all deposits */\nconst totalDeposits = (accountData: AccountData) => {\n    let totalDeposits = 0;\n    for(const deposit of accountData.deposits){\n        totalDeposits += deposit.amount;\n    }\n    return totalDeposits;\n}\n\n/** Sums all withdrawals */\nconst totalWithdrawals = (accountData: AccountData) => {\n    let totalWithdrawals = 0;\n    for(let withdrawal of accountData.withdrawals){\n        totalWithdrawals += withdrawal.amount;\n    }\n    return totalWithdrawals;\n}\n\n\n/** \n * Calculates total profit and loss divided by total deposits\n * expressed as a precentage\n */\nconst absGain = (accountData: AccountData) => {\n    const profitLoss = totalProfitLoss(accountData);\n    const deposits = totalDeposits(accountData);\n    if(deposits === 0) return 0\n    return (profitLoss / deposits) * 100;\n}\n\nconst totalExpenses = (accountData: AccountData) => {\n    let expenses = 0;\n    for(const trade of accountData.trades){\n        if(trade.commission){\n            expenses += trade.commission;\n        }\n        if(trade.swap){\n            expenses += trade.swap;\n        }\n    }\n    return expenses;\n}\n\nexport default overviewCardsCalc","import {totalNoOfWinningTrades, winRate} from '@root/common-calc'\nimport {graphCalc as balanceCalc} from '@root/cash-and-gains-calculations'\nimport {CashGraphItem} from '@root/cash-and-gains-calculations/types'\nimport {totalNoOfLongs, totalNoOfShorts, longsWonPercent,\n    shortsWonPercent, totalNoOfLongsWon, totalNoOfShortsWon} from '../common-calc'\nimport {OverviewStatsCalc} from './types'\nimport {AccountData} from '../types'\nimport {Trade} from '..'\n\n\nconst statsCalc = (accountData: AccountData) => {\n    const calculations: OverviewStatsCalc = {\n        aveProfit: aveProfit(accountData),\n        aveLoss: aveLoss(accountData),\n        longsWonPercent: longsWonPercent(accountData), \n        noOfLongsWon: totalNoOfLongsWon(accountData),\n        noOfLongs: totalNoOfLongs(accountData),\n        shortsWonPercent: shortsWonPercent(accountData),\n        noOfShortsWon: totalNoOfShortsWon(accountData),\n        noOfShorts: totalNoOfShorts(accountData),\n        bestTrade: bestTrade(accountData),\n        worstTrade: worstTrade(accountData),\n        highestBalance: highestBalance(accountData),\n        aveRRR: aveRRR(accountData),\n        profitFactor: profitFactor(accountData),\n        expectancy: expectancy(accountData),\n        lots: totalLots(accountData),\n        commissions: totalCommissions(accountData)\n    }\n    return calculations;\n}\n\nconst aveProfit = (accountData: AccountData | Trade[]) => {\n    const profit = totalProfit(accountData);\n    const noOfWinningTrades = totalNoOfWinningTrades(accountData);\n    if(noOfWinningTrades === 0) return 0;\n    return profit / noOfWinningTrades;\n}\n\nconst totalProfit = (data: AccountData | Trade[]) => {\n    let totalProfit = 0;\n    let trades: Trade[];\n    if(Array.isArray(data)){\n        trades = data;\n    } else {\n        trades = data.trades;\n    }\n    for(const trade of trades){\n        if(trade.profitLoss > 0){\n            totalProfit += trade.profitLoss;\n        }\n    }\n    return totalProfit;\n}\n\nconst aveLoss = (data: AccountData | Trade[]) => {\n    // Multiplying by -1 to remove the negative sign\n    // When displayed, it should be -$loss, not -$-loss\n    const loss = totalLoss(data) * -1;\n    const noOfLosingTrades = totalNoOfLosingTrades(data);\n    if(noOfLosingTrades === 0) return 0;\n    return loss / noOfLosingTrades\n}\n\nconst totalLoss = (data: AccountData | Trade[]) => {\n    let totalLoss = 0;\n    let trades: Trade[];\n    if(Array.isArray(data)){\n        trades = data;\n    } else {\n        trades = data.trades;\n    }\n    for(const trade of trades){\n        if(trade.profitLoss < 0){\n            totalLoss += trade.profitLoss;\n        }\n    }\n    return totalLoss;\n}\n\nconst totalNoOfLosingTrades = (data: AccountData | Trade[]) => {\n    let noOfLosingTrades = 0;\n    let trades: Trade[];\n    if(Array.isArray(data)){\n        trades = data;\n    } else {\n        trades = data.trades\n    }\n    for(const trade of trades){\n        if(trade.profitLoss < 0){\n            noOfLosingTrades += 1;\n        }\n    }\n    return noOfLosingTrades;\n}\n\n/** Trade with highest profit */\nconst bestTrade = (accountData: AccountData) => {\n    if(accountData.trades.length === 0) return 0\n    let bestTrade = accountData.trades[0].profitLoss;\n    for(const trade of accountData.trades){\n        if(trade.profitLoss > bestTrade){\n            bestTrade = trade.profitLoss;\n        }\n    }\n    return bestTrade;\n}\n\n/** Trade with the lowest profit (or loss) */\nconst worstTrade = (accountData: AccountData) => {\n    if(accountData.trades.length === 0) return 0\n    let worstTrade = accountData.trades[0].profitLoss;\n    for(const trade of accountData.trades){\n        if(trade.profitLoss < worstTrade){\n            worstTrade = trade.profitLoss;\n        }\n    }\n    return worstTrade;\n}\n\nconst highestBalance = (accountData: AccountData) => {\n    const balanceData: CashGraphItem[] = balanceCalc(accountData);\n    let highestBalance = -Infinity;\n    balanceData.forEach((data) => {\n        if(data.balance > highestBalance){\n            highestBalance = data.balance;\n        }\n    })\n    return highestBalance\n}\n\nconst aveRRR = (data: AccountData | Trade[]) => {\n    const profit = aveProfit(data);\n    const loss = aveLoss(data);\n    if(profit === 0 || loss === 0) return 0\n    return profit / loss\n}\n\nconst profitFactor = (accountData: AccountData) => {\n    // What should be returned when loss is 0?\n    const profit = totalProfit(accountData);\n    const loss = totalLoss(accountData);\n    if(profit === 0 && loss === 0) return 0\n    return profit / loss;\n}\n\nconst expectancy = (accountData: AccountData) => {\n    const winrate = winRate(accountData) / 100;\n    return (\n        (aveProfit(accountData) * winrate) - (aveLoss(accountData) * (1 - winrate))\n    );\n}\n\nconst totalLots = (accountData: AccountData) => {\n    let totalLots = 0;\n    for(const trade of accountData.trades){\n        if(trade.lots){\n            totalLots += trade.lots;\n        }\n    }\n    return totalLots;\n}\n\nconst totalCommissions = (accountData: AccountData) => {\n    let totalCommissions = 0;\n    for(const trade of accountData.trades){\n        if(trade.swap){\n            totalCommissions += trade.swap;\n        }\n        if(trade.commission){\n            totalCommissions += trade.commission\n        }\n    }\n    return totalCommissions;\n}\n\nexport default statsCalc\nexport {aveRRR}","/**\n * Functions for calculating the info on the weekly summary table\n * The weekly summary calculates the total number of trades,\n * lots and profit gotten for each day of the current week,\n * from Friday to Monday\n */\n\nimport {OverviewWeeklySummaryCalc} from './types'\nimport {AccountData} from '../types'\n\n\nconst weeklySummaryCalc = (accountData: AccountData, today: Date = new Date()) => {\n    let calculations: OverviewWeeklySummaryCalc = {};\n    const weekDates = getWeekDates(today);\n    for(const weekDate of weekDates){\n        calculations[dateToString(weekDate)] = {\n            trades: 0,\n            lots: 0,\n            result: 0\n        }\n    }\n    for(const trade of accountData.trades){\n        for(const weekDate of weekDates){\n            if(extractDateStr(trade.closeTime) === dateToTradeDateFormat(weekDate)){\n                const strDate: string = dateToString(weekDate);\n                calculations[strDate]['trades'] += 1;\n                if(trade.lots){\n                    calculations[strDate]['lots'] += trade.lots;\n                }\n                calculations[strDate]['result'] += trade.profitLoss;\n            }\n        }\n    }\n    return calculations;\n}\n\n/** Receives a date and returns the dates of all days in the week, from monday to friday */\nconst getWeekDates = (today: Date) => {\n    /** Dates of the format 01 Jan, 13 Oct, ... */\n    // Dates are always in the descending order, from latest to earliest\n    let dates = [];\n    /**\n     * To get all dates from Friday to today\n     * Friday's index is 5\n     * today's index is anywhere from 0 to 6\n     * At any point in time, \n     * Friday's index - today's index = number of days to add to today to get Friday\n     * That's why i starts from Friday's index - today's index\n     * When the date gets moved forward by the initial i times, it becomes the Friday of the week\n     * i then keeps reducing, so when today is increased by i - 1, it becomes the Thursday of the week\n     * This continues until i becomes 0\n     * When i is 0, today gets added, because today is moved forward 0 times\n     * Except when today is Sunday. Since Sunday should never be added, a condition is in place\n     * to first check if the day is sunday.\n     */\n    for(let i=FRIDAY - today.getDay(); i>=0; i--){\n        let dayToAdd = new Date(today);\n        // Don't add Sundays\n        if(!(today.getDay() === SUNDAY && i === 0)){\n            dayToAdd.setDate(today.getDate() + i);\n            dates.push(dayToAdd);\n        }\n    }\n    /**\n     * To get the remaining days from yesterday to Monday\n     * i starts from Monday's index because Monday's index is 1\n     * today's date moved back by 1 will give yesterday's date\n     * Moved back by 2 will give day before yesterday's date\n     * So we start from Monday's index, which is 1\n     * i then increases until it is the index of yesterday\n     * At any point, today's date moved back by yesterday's index will give Monday\n     */\n    for(let i=MONDAY; i<today.getDay(); i++){\n        let dayToAdd = new Date(today);\n        dayToAdd.setDate(today.getDate() - i);\n        dates.push(dayToAdd);\n    }\n    return dates\n}\n\nconst dateToString = (date: Date) => {\n    return `${date.getDate()} ${monthMap[date.getMonth()]}`\n}\n\n/** Converts date object into the format of date in the accountData trades */\nconst dateToTradeDateFormat = (date: Date) => {\n    // Add one because JS's months are 0-indexed\n    let month = date.getMonth() + 1;\n    let monthStr = month < 10 ? `0${month}` : `${month}`;\n    let day = date.getDate();\n    let dayStr = day < 10 ? `0${day}` : `${day}`\n    return `${date.getFullYear()}-${monthStr}-${dayStr}`\n}\n\n/**\n* Takes date string of the format 2022-04-22 18:34:00+00:00 and returns 2022-04-22\n*/\nconst extractDateStr = (dateStr: string) => {\n    return dateStr.split('T')[0]\n}\n\nconst SUNDAY = 0;\nconst MONDAY = 1;\nconst TUESDAY = 2;\nconst WEDNESDAY = 3;\nconst THURSDAY = 4;\nconst FRIDAY = 5;\nconst SATURDAY = 6;\n\nconst monthMap: {[key: number]: string} = {\n    0: 'Jan',\n    1: 'Feb',\n    2: 'Mar',\n    3: 'Apr',\n    4: 'May',\n    5: 'Jun',\n    6: 'Jul',\n    7: 'Aug',\n    8: 'Sep',\n    9: 'Oct',\n    10: 'Nov',\n    11: 'Dec'\n}\n\nexport default weeklySummaryCalc\nexport {getWeekDates}","import {AccountData} from '@root/types'\nimport {AveReturnsPerPairGraphCalc} from './types'\n\nconst aveReturnsPerPairGraphCalc = (accountData: AccountData) => {\n    // An object to get all the number of trades and profit / losses\n    // for a pair, to calculate the average returns for that pair\n    const perPairData: PerPairDataCalc = calcPerPairData(accountData);\n    const calculations: AveReturnsPerPairGraphCalc = calcGraphData(perPairData);\n    return calculations\n}\n\n/**\n * Turn the result from calcPerPairData into an array of AveReturnsPerPairGraphCalcItem\n * objects with a pair and the average returns associated with it\n */\nconst calcGraphData = (perPairData: PerPairDataCalc) => {\n    // No need to check if the tradeNo is 0, because if can't be\n    // The fact that the pair appears in this object implies that there must be at\n    // least 1 trade that has this pair\n    const aveReturns = (pair: string) => perPairData[pair].profitLoss / perPairData[pair].tradeNo\n    return Object.keys(perPairData).map((pair) => (\n        {pair, result: aveReturns(pair)}\n    ));\n}\n\n/** \n * Returns an object to get all the number of trades and profit / losses \n * for a pair, which will be used to calculate the average returns for that pair\n*/\nconst calcPerPairData = (accountData: AccountData) => {\n    const perPairData: PerPairDataCalc = {};\n    for(const trade of accountData.trades){\n        if(!(trade.pair in perPairData)){\n            perPairData[trade.pair] = {tradeNo: 0, profitLoss: 0}\n        }\n        perPairData[trade.pair].tradeNo += 1;\n        perPairData[trade.pair].profitLoss += trade.profitLoss;\n    }\n    return perPairData\n}\n\ntype PerPairDataCalc = {[key: string]: {tradeNo: number, profitLoss: number}}\n\nexport default aveReturnsPerPairGraphCalc","import {aveRRR} from '@root/overview-calculations'\nimport {AccountData} from '@root/types'\nimport {AveRrrPerPairGraphCalc} from './types'\nimport {groupTradesByPair} from './utils'\n\n\nconst aveRrrPerPairGraphCalc = (accountData: AccountData): AveRrrPerPairGraphCalc => {\n    const pairToTradesMap = groupTradesByPair(accountData);\n    return Object.keys(pairToTradesMap).map((pair) => ({\n        pair,\n        rrr: aveRRR(pairToTradesMap[pair])\n    }))\n}\n\nexport default aveRrrPerPairGraphCalc","import {AccountData} from '@root/types'\nimport aveReturnsPerPairGraphCalc from './ave-returns-per-pair-graph-calc'\nimport aveRrrPerPairGraphCalc from './ave-rrr-per-pair-graph-calc'\nimport pairsAnalysisTableCalc from './pairs-analysis-table-calc'\nimport {PairsAnalysisCalculations} from './types'\n\n\nconst pairsAnalysisCalculations = (accountData: AccountData) => {\n    const calculations: PairsAnalysisCalculations = {\n        aveReturnsPerPairGraphCalc: aveReturnsPerPairGraphCalc(accountData),\n        aveRrrPerPairGraphCalc: aveRrrPerPairGraphCalc(accountData),\n        pairsAnalysisTableCalc: pairsAnalysisTableCalc(accountData)\n    }\n    return calculations\n}\n\nexport default pairsAnalysisCalculations","import {noOfTrades, totalNoOfLongs, totalNoOfShorts, winRate, totalNoOfWinningTrades} from '@root/common-calc'\nimport {AccountData, Trade} from '@root/types'\nimport {groupTradesByPair} from './utils'\nimport {PairsAnalysisTableCalc, TradesPerPair} from './types'\n\n\nconst pairsAnalysisTableCalc = (accountData: AccountData): PairsAnalysisTableCalc => {\n    const tradesPerPair: TradesPerPair = groupTradesByPair(accountData);\n    return Object.keys(tradesPerPair).map((pair) => {\n        const trades = tradesPerPair[pair];\n        return {\n            pair,\n            noOfTradesOnPair: trades.length,\n            noOfProfitableTradesOnPair: totalNoOfWinningTrades(trades),\n            profitableTradesOnPairPercent: winRate(trades),\n            noOfLosingTradesOnPair: noOfLosingTrades(trades),\n            losingTradesOnPairPercent: loseRate(trades),\n            noOfShortsOnPair: totalNoOfShorts(trades),\n            shortsOnPairPercent: shortsOnPairPercent(trades),\n            noOfLongsOnPair: totalNoOfLongs(trades),\n            longsOnPairPercent: longsOnPairPercent(trades),\n            noOfTpOnPair: noOfTpOnPair(trades),\n            tpOnPairPercent: tpOnPairPercent(trades),\n            noOfSlOnPair: noOfSlOnPair(trades),\n            slOnPairPercent: slOnPairPercent(trades)\n        }\n    });\n}\n\nconst longsOnPairPercent = (trades: Trade[]) => {\n    const noOfShorts = totalNoOfLongs(trades);\n    const totalNoOfTrades = noOfTrades(trades);\n    if(totalNoOfTrades === 0) return 0\n    return (noOfShorts / totalNoOfTrades) * 100\n}\n\nconst shortsOnPairPercent = (trades: Trade[]) => {\n    const noOfShorts = totalNoOfShorts(trades);\n    const totalNoOfTrades = noOfTrades(trades);\n    if(totalNoOfTrades === 0) return 0\n    return (noOfShorts / totalNoOfTrades) * 100\n}\n\nconst noOfLosingTrades = (trades: Trade[]) => {\n    const lossTrades = trades.filter((trade) => trade.profitLoss < 0);\n    return lossTrades.length\n}\n\nconst loseRate = (trades: Trade[]) => {\n    const lossTrades = noOfLosingTrades(trades);\n    const totalNoOfTrades = noOfTrades(trades);\n    if(totalNoOfTrades === 0) return 0\n    return (lossTrades / totalNoOfTrades) * 100\n}\n\nconst noOfTpOnPair = (trades: Trade[]) => {\n    let tpOnPair = 0;\n    trades.forEach((trade) => {\n        if(trade.closePrice == trade.takeProfit){\n            tpOnPair += 1;\n        }\n    })\n    return tpOnPair;\n}\n\nconst noOfSlOnPair = (trades: Trade[]) => {\n    let slOnPair = 0;\n    trades.forEach((trade) => {\n        if(trade.closePrice == trade.stopLoss){\n            slOnPair += 1;\n        }\n    })\n    return slOnPair;\n}\n\nconst tpOnPairPercent = (trades: Trade[]) => {\n    return (noOfTpOnPair(trades) / trades.length) * 100;\n}\n\nconst slOnPairPercent = (trades: Trade[]) => {\n    return (noOfSlOnPair(trades) / trades.length) * 100;\n}\n\nexport default pairsAnalysisTableCalc","import {AccountData, Trade} from '@root/types'\nimport {TradesPerPair} from './types'\n\n\nconst groupTradesByPair = (accountData: AccountData) => {\n    const tradesPerPair: TradesPerPair = {};\n    for(const trade of accountData.trades){\n        if(!(trade.pair in tradesPerPair)){\n            tradesPerPair[trade.pair] = [];\n        }\n        tradesPerPair[trade.pair].push(trade);\n    }\n    return tradesPerPair\n}\n\nexport {\n    groupTradesByPair\n}","import {AccountData} from '@root/types'\nimport returnsPerPeriodGraphCalc from './returns-per-period-graph-calc'\nimport {PeriodAnalysisCalculations} from './types'\n\nconst periodAnalysisCalculations = (accountData: AccountData) => {\n    const calculations: PeriodAnalysisCalculations = {\n        returnsPerPeriodGraphCalc: returnsPerPeriodGraphCalc(accountData)\n    }\n    return calculations\n}\n\nexport default periodAnalysisCalculations","import {AccountData, Trade} from '@root/types'\nimport {DayKey, MonthKey, ReturnsPerPeriodGraphCalc} from './types'\n\n\nconst returnsPerPeriodGraphCalc = (accountData: AccountData) => {\n    const calculations: ReturnsPerPeriodGraphCalc = {\n        daily: dailyReturnsPerPeriod(accountData.trades),\n        monthly: monthlyReturnsPerPeriod(accountData.trades),\n        yearly: yearlyReturnsPerPeriodGraphCalc(accountData.trades)\n    }\n    return calculations\n}\n\nconst dailyReturnsPerPeriod = (trades: Trade[]) => {\n    const returnsPerPeriod: {[key: number]: number} = {\n        [MONDAY]: 0, [TUESDAY]: 0, [WEDNESDAY]: 0,\n        [THURSDAY]: 0, [FRIDAY]: 0\n    };\n    const calculateReturnsPerPeriod = () => {\n        for(const trade of trades){\n            const date = new Date(trade.closeTime);\n            const day = date.getDay();\n            returnsPerPeriod[day] += trade.profitLoss;\n        }\n    }\n    const formatReturnsPerPeriod = () => {\n        return Object.keys(returnsPerPeriod).map((day: string) => (\n            {day: dayNoToString[parseInt(day)], result: returnsPerPeriod[parseInt(day)]}\n        ))\n    }\n    calculateReturnsPerPeriod();\n    return formatReturnsPerPeriod();\n}\n\nconst monthlyReturnsPerPeriod = (trades: Trade[]) => {\n    const returnsPerPeriod: {[key: number]: number} = {\n        [JANUARY]: 0, [FEBRUARY]: 0, [MARCH]: 0,\n        [APRIL]: 0, [MAY]: 0, [JUNE]: 0, [JULY]: 0, [AUGUST]: 0, [SEPTEMBER]: 0,\n        [OCTOBER]: 0, [NOVEMBER]: 0, [DECEMBER]: 0\n    };\n    const calculateReturnsPerPeriod = () => {\n        for(const trade of trades){\n            const date = new Date(trade.closeTime);\n            const month = date.getMonth();\n            returnsPerPeriod[month] += trade.profitLoss;\n        }\n    }\n    const formatReturnsPerPeriod = () => {\n        return Object.keys(returnsPerPeriod).map((month: string) => (\n            {month: monthNoToString[parseInt(month)], result: returnsPerPeriod[parseInt(month)]}\n        ))\n    }\n    calculateReturnsPerPeriod();\n    return formatReturnsPerPeriod()\n}\n\nconst yearlyReturnsPerPeriodGraphCalc = (trades: Trade[]) => {\n    const returnsPerPeriod: {[key: number]: number} = {}\n    const calculateReturnsPerPeriod = () => {\n        for(const trade of trades){\n            const year = new Date(trade.closeTime).getFullYear();\n            if(!(year in returnsPerPeriod)){\n                returnsPerPeriod[year] = 0;\n            }\n            returnsPerPeriod[year] += trade.profitLoss;\n        }\n    }\n    const formatReturnsPerPeriod = () => {\n        return Object.keys(returnsPerPeriod).map((year: string) => (\n            {year: parseInt(year), result: returnsPerPeriod[parseInt(year)]}\n        ))\n    }\n    calculateReturnsPerPeriod();\n    return formatReturnsPerPeriod();\n}\n\nconst MONDAY = 1;\nconst TUESDAY = 2;\nconst WEDNESDAY = 3;\nconst THURSDAY = 4;\nconst FRIDAY = 5;\n\nconst JANUARY = 0;\nconst FEBRUARY = 1;\nconst MARCH = 2;\nconst APRIL = 3;\nconst MAY = 4;\nconst JUNE = 5;\nconst JULY = 6;\nconst AUGUST = 7;\nconst SEPTEMBER = 8;\nconst OCTOBER = 9;\nconst NOVEMBER = 10;\nconst DECEMBER = 11;\n\nconst dayNoToString: {[key: number]: DayKey} = {\n    [MONDAY]: 'Monday',\n    [TUESDAY]: 'Tuesday',\n    [WEDNESDAY]: 'Wednesday',\n    [THURSDAY]: 'Thursday',\n    [FRIDAY]: 'Friday'\n}\n\nconst monthNoToString: {[key: number]: MonthKey} = {\n    [JANUARY]: 'January',\n    [FEBRUARY]: 'February',\n    [MARCH]: 'March',\n    [APRIL]: 'April',\n    [MAY]: 'May',\n    [JUNE]: 'June',\n    [JULY]: 'July',\n    [AUGUST]: 'August',\n    [SEPTEMBER]: 'September',\n    [OCTOBER]: 'October',\n    [NOVEMBER]: 'November',\n    [DECEMBER]: 'December'\n}\n\nexport default returnsPerPeriodGraphCalc","import {AccountData} from '@root/types'\nimport tradeDurationTableCalc from './trade-duration-table-calc'\nimport openHourTableCalc from './open-hour-table-calc'\nimport timeAnalysisGraphCalc from './time-analysis-graph-calc'\nimport {TradingTimeAnalysisCalculations} from './types'\n\n\nconst tradingTimeAnalysisCalculations = (accountData: AccountData) => {\n    const calculations: TradingTimeAnalysisCalculations = {\n        tradeDurationTableCalc: tradeDurationTableCalc(accountData),\n        openHourTableCalc: openHourTableCalc(accountData),\n        timeAnalysisGraphCalc: timeAnalysisGraphCalc(accountData)\n    }\n    return calculations\n}\n\nexport default tradingTimeAnalysisCalculations","import {AccountData} from '@root/types'\nimport {OpenHourTableCalcItem} from '..'\nimport {OpenHourTableCalc} from './types'\n\nconst openHourTableCalc = (accountData: AccountData): OpenHourTableCalc => {\n    const openHourMap: {[key: string]: Omit<OpenHourTableCalcItem, 'hour'>} = {}\n    for(const trade of accountData.trades){\n        const hour = formatTime(trade.openTime);\n        if(!(hour in openHourMap)){\n            openHourMap[hour] = {result: 0, noOfTrades: 0};\n        }\n        openHourMap[hour].result += trade.profitLoss;\n        openHourMap[hour].noOfTrades += 1;\n    }\n    return Object.keys(openHourMap).map((hour) => ({\n        hour, result: openHourMap[hour].result, noOfTrades: openHourMap[hour].noOfTrades\n    }))\n}\n\nconst formatTime = (rawTimeStr: string): string => {\n    // In the general sense\n    // extract the 18 in '2022-04-12T18:09:00+00:00' and return '18:00-18:59'\n    const hour = rawTimeStr.split('T')[1].split(':')[0];\n    return `${hour}:00 - ${hour}:59`\n}\n\nexport default openHourTableCalc","import {AccountData, Trade} from '@root/types'\nimport {sameDay, sameWeek, sameMonth, sameYear} from '@root/utils'\nimport {TimeAnalysisGraphCalcItem} from '..'\nimport {TimeAnalysisGraphCalc} from './types'\n\n/**\n * Graph of open hour against results\n */\n\nconst timeAnalysisGraphCalc = (accountData: AccountData, today: Date = new Date) => {\n    const calculations: TimeAnalysisGraphCalc = {\n        todayGraphCalc: todayGraphCalc(accountData, today),\n        thisWeekGraphCalc: thisWeekGraphCalc(accountData, today),\n        thisMonthGraphCalc: thisMonthGraphCalc(accountData, today),\n        thisYearGraphCalc: thisYearGraphCalc(accountData, today),\n        allTimeGraphCalc: allTimeGraphCalc(accountData, today)\n    }\n    return calculations\n}\n\nconst todayGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(\n        accountData.trades.filter((trade) => sameDay(trade.openTime, today))\n    );\n}\n\nconst thisWeekGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(\n        accountData.trades.filter((trade) => sameWeek(trade.openTime, today))\n    );\n}\n\nconst thisMonthGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(\n        accountData.trades.filter((trade) => sameMonth(trade.openTime, today))\n    );\n}\n\nconst thisYearGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(\n        accountData.trades.filter((trade) => sameYear(trade.openTime, today))\n    );\n}\n\nconst allTimeGraphCalc = (accountData: AccountData, today: Date) => {\n    return graphCalc(accountData.trades);\n}\n\nconst graphCalc = (trades: Trade[]): TimeAnalysisGraphCalcItem[] => {\n    const tradeHourToResultMap: {[key: string]: number} = {};\n    for(const trade of trades){\n        // extract the 06 in '2022-10-23T06:03:00Z'\n        const hour = trade.openTime.split('T')[1].split(':')[0];\n        if(!(hour in tradeHourToResultMap)){\n            tradeHourToResultMap[hour] = 0;\n        }\n        tradeHourToResultMap[hour] += trade.profitLoss;\n    }\n    return Object.keys(tradeHourToResultMap).map((hour) => ({\n        openHour: hour + ':00', result: tradeHourToResultMap[hour]\n    }))\n}\n\nexport default timeAnalysisGraphCalc","import {AccountData} from '@root/types'\nimport {TradeDurationTableCalc, TradeDurationTableCalcItem} from './types'\n\n\nconst tradeDurationTableCalc = (accountData: AccountData): TradeDurationTableCalc => {\n    const durationMap: {[key: string]: Omit<TradeDurationTableCalcItem, 'duration'>} = {}\n    for(const trade of accountData.trades){\n        const duration = durationStr(trade.openTime, trade.closeTime);\n        if(!(duration in durationMap)){\n            durationMap[duration] = {result: 0, noOfTrades: 0}\n        }\n        durationMap[duration].result += trade.profitLoss;\n        durationMap[duration].noOfTrades += 1;\n    }\n    return Object.keys(durationMap).map((duration) => ({\n        duration,\n        noOfTrades: durationMap[duration].noOfTrades,\n        result: durationMap[duration].result\n    }))\n}\n\n/**\n * Accepts the open time and close times of a trade\n * and returns an approximate duration in a string, like 1 week,\n * 2 mins, 1 hour.\n */\nconst durationStr = (openTimeStr: string, closeTimeStr: string): string => {\n    const [openTimeDateStr, openTimeTimeStr] = openTimeStr.split('T');\n    const [openTimeYearStr, openTimeMonthStr, openTimeDayStr] = openTimeDateStr.split('-');\n    const [openTimeHourStr, openTimeMinutesStr] = openTimeTimeStr.split(':');\n\n    const [closeTimeDateStr, closeTimeTimeStr] = closeTimeStr.split('T');\n    const [closeTimeYearStr, closeTimeMonthStr, closeTimeDayStr] = closeTimeDateStr.split('-');\n    const [closeTimeHourStr, closeTimeMinutesStr] = closeTimeTimeStr.split(':');\n    \n    let [minutes, hours] = (() => {\n        // instantiate date objects with randoms dates\n        // the days, months, and years aren't needed\n        // all that these dates are used for are the time differences\n        const randomYear = 2022;\n        const randomMonth = 2;\n        const randomDay = 2;\n        const closeTimeDate = new Date(randomYear, randomMonth, randomDay);\n        closeTimeDate.setHours(parseInt(closeTimeHourStr));\n        closeTimeDate.setMinutes(parseInt(closeTimeMinutesStr));\n        const openTimeDate = new Date(randomYear, randomMonth, randomDay);\n        openTimeDate.setHours(parseInt(openTimeHourStr));\n        openTimeDate.setMinutes(parseInt(openTimeMinutesStr));\n        const difference = closeTimeDate.getTime() - openTimeDate.getTime();\n        const totalMins = (difference / 1000) / 60;\n        const hours = parseInt(`${totalMins / 60}`);\n        const minutes = totalMins % 60;\n        return [minutes, hours];\n    })()\n    let [days, weeks, months, years] = (() => {\n        const closeTimeDate = new Date(\n            parseInt(closeTimeYearStr),\n            parseInt(closeTimeMonthStr) - 1,\n            parseInt(closeTimeDayStr)\n        );\n        const openTimeDate = new Date(\n            parseInt(openTimeYearStr),\n            parseInt(openTimeMonthStr) - 1,\n            parseInt(openTimeDayStr)\n        );\n        // The absolute difference in milliseconds\n        const difference = closeTimeDate.getTime() - openTimeDate.getTime();\n        // From milliseconds to days\n        const totalDays = difference/1000/60/60/24;\n        // How many weeks can the days fit in\n        const totalWeeks = parseInt(`${totalDays / 7}`);\n        // How many months can the weeks fit in\n        const totalMonths = parseInt(`${totalWeeks / 4}`);\n        // The remaining days that couldn't fit into the weeks\n        const days = totalDays % 7;\n        // The remaining weeks that couldn't fit into the months\n        const weeks = totalWeeks % 4;\n        // The remaining months that couldn't fit into years\n        const months = totalMonths % 12;\n        // How many years can the months fit in\n        const years = parseInt(`${totalMonths / 12}`);\n        return [days, weeks, months, years];\n    })()\n    if(minutes > 50){\n        minutes = 0;\n        hours += 1;\n    }\n    if(hours > 22){\n        hours = 0;\n        days += 1;\n    }\n    if(days > 3){\n        days = 0;\n        weeks += 1;\n    }\n    if(weeks > 3){\n        weeks = 0;\n        months += 1;\n    }\n    if(months > 11){\n        months = 0;\n        years += 1;\n    }\n    const durationInString = (n: number, unit: string) => {\n        return n === 1 ? `1 ${unit}` : `${n} ${unit}s`\n    }\n    if(years > 0){\n        return durationInString(years, 'year');\n    }\n    if(months > 0){\n        return durationInString(months, 'month');\n    }\n    if(weeks > 0){\n        return durationInString(weeks, 'week');\n    }\n    if(days > 0){\n        return durationInString(days, 'day');\n    }\n    if(hours > 0){\n        return durationInString(hours, 'hour');\n    }\n    if(minutes > 0){\n        return durationInString(minutes, 'min');\n    }\n    return durationInString(1, 'min');\n}\n\nexport default tradeDurationTableCalc","/**\n * A year to be used in date sentinels to represent dates whose values\n * are to far in the future for real date to be ahead of the same way \n * infinity is used in number sentinels to represent \n * \"a number no other number is larger than\"\n * */\nconst FAR_IN_THE_FUTURE_YEAR = 200000;\n\n/**\n * Performs the same function as FAR_IN_THE_FUTURE_YEAR\n * the -infinity for date sentinels\n */\nconst FAR_IN_THE_PAST_YEAR = 100;\n\n/**\n * Does the date in @param dateStr fall in the same day as @param otherDate\n */\n const sameDay = (dateStr: string, otherDate: Date): boolean => {\n    const date = new Date(dateStr);\n    // If they fall on the same year, month and day, then they fell on the same day\n    return date.getFullYear() === otherDate.getFullYear() && date.getMonth() === otherDate.getMonth()\n        && date.getDate() === otherDate.getDate()\n}\n\n/**\n * Does the date in @param dateStr fall in the same week as @param otherDate\n */\nconst sameWeek = (dateStr: string | Date, otherDate: Date) => {\n    const date = typeof(dateStr) === 'object' ? dateStr : new Date(dateStr);\n    /**\n     * Upper bound is Sunday 12 am and lower bound is Saturday 11:59 pm\n     * If today is Sunday, then date will have to be subtracted 0 times (it's date index: 0)\n     * If today is Monday, then date will have to be subtracted 1 time (it's date index: 1)\n     * If today is Tuesday, then date will have to be subtracted 2 times (it's date index: 2)\n     * In general, to get Sunday from any day, you take the date back by the day's date index\n     * which happen to be 0, 1, 2, 3, 4, 5, 6 for Sunday, ..., Saturday respectively\n     */\n    const getLowerBound = (otherDate: Date) => {\n        // Initialize to the otherDate\n        let lowerBound = new Date(otherDate);\n        // Take the date back by the day's date index\n        lowerBound.setDate(lowerBound.getDate() - lowerBound.getDay());\n        // Set the Sunday's time to 12 am on the dot\n        lowerBound.setHours(12);\n        lowerBound.setMinutes(0);\n        lowerBound.setSeconds(0);\n        lowerBound.setMilliseconds(0);\n        return lowerBound;\n    }\n    const lowerBound = getLowerBound(otherDate);\n    /**\n     * Lower bound is Saturday 11:59 pm\n     * If today is Sunday, then date will have to be moved forward by 6 (6 - 0)\n     * If today is Monday, then date will have to be moved forward by 5 (6 - 1)\n     * If today is Tuesday, then date will have to be moved forward by 4 (6 - 2)\n     * ...\n     * To get get Saturday from any day, you take the date forward by 6 - day's date index\n     */\n    const getUpperBound = (otherDate: Date) => {\n        let upperBound = new Date(otherDate);\n        // Make it a Saturday\n        upperBound.setDate(upperBound.getDate() + (6 - upperBound.getDay()));\n        // Set the Saturday's time to 11:59:59 p.m.\n        upperBound.setHours(23);\n        upperBound.setMinutes(59);\n        upperBound.setSeconds(59);\n        return upperBound;\n    }\n    const upperBound = getUpperBound(otherDate);\n    /**\n     * Does @param date fall between @param upperBound and @param lowerBound?\n     */\n    const dateFallsWithinRange = (date: Date, upperBound: Date, lowerBound: Date) => {\n        return date >= lowerBound && date <= upperBound\n    }\n    return dateFallsWithinRange(date, upperBound, lowerBound);\n}\n\n/**\n * Does the date in @param dateStr fall in the same month as @param otherDate\n */\nconst sameMonth = (dateStr: string, otherDate: Date) => {\n    const date = new Date(dateStr);\n    // If they fell in the same year, and the same month,\n    // then they fell in the same month\n    return date.getFullYear() === otherDate.getFullYear() && date.getMonth() === otherDate.getMonth()\n}\n\n/**\n * Does the date in @param dateStr fall in the same year as @param otherDate\n */\n const sameYear = (dateStr: string, otherDate: Date) => {\n    const date = new Date(dateStr);\n    return date.getFullYear() === otherDate.getFullYear()\n}\n\nexport {\n    sameDay,\n    sameWeek,\n    sameMonth,\n    sameYear,\n    FAR_IN_THE_FUTURE_YEAR,\n    FAR_IN_THE_PAST_YEAR\n}","const randomNumber = (min: number, max: number) => {\n    return (Math.random() * (max - min)) + min\n}\n\nconst randomInt = (min: number, max: number) => {\n    return Math.round(randomNumber(min, max));\n}\n\nconst mergeArrays = (...arrays: Array<Array<any>>) => {\n    let newArray: any[] = [];\n    for(const array of arrays){\n        newArray = [...newArray, ...array];\n    }\n    return newArray\n}\n\nconst sum = (arr: Array<number>) => {\n    let sum = 0;\n    for(const i in arr){\n        sum += arr[i];\n    }\n    return sum;\n}\n\nconst sumObjArray = (objs: Array<{[key: string]: any}>, objKey: string) => {\n    return sum(objs.map((obj) => obj[objKey]))\n}\n\nconst cloneObj = (obj: {[key: string]: any}) => {\n    return JSON.parse(JSON.stringify(obj));\n}\n\nconst approximate = (n: number): number => {\n    return parseFloat(n.toFixed(10));\n}\n\n\nexport {\n    randomNumber,\n    mergeArrays,\n    sum,\n    sumObjArray,\n    cloneObj,\n    randomInt,\n    approximate\n}\n\nexport * from './date-utils'"],"names":["children","style","P","color","getColor","fontFamily","subMenu","subMenuIsOpen","subMenuName","selectedSubMenuName","selectedSubMenuItemIndex","onSubMenuItemSelect","Collapse","in","timeout","unmountOnExit","List","disablePadding","component","undefined","map","item","i","ListItemButton","sx","width","pl","selected","onClick","e","name","Icon","index","ListItem","disableGutters","padding","marginTop","getDimen","flexDirection","ListItemIcon","fontSize","ExpandLess","ExpandMore","SvgIcon","xmlns","fill","className","viewBox","d","fillRule","TRADER_OVERVIEW_ROUTE","RouteConst","TRADER_JOURNAL_ROUTE","TRADER_LONG_AND_SHORT_ANALYSIS_ROUTE","TRADER_CASH_AND_GAINS_ROUTE","TRADER_SETTINGS_ROUTE","mainMenuItems","icon","HouseIcon","route","CalendarIcon","AnalyticsChartIcon","NotesIcon","bottomMenuItems","logout","SettingsIcon","LogOutIcon","action","getMenuInfo","menuItems","Object","keys","itemsKey","length","menuItemIndex","adjustIndexForBottomMenuItems","stripSlashes","startsWith","substr","endsWith","location","pageRoute","locationList","pathname","split","getPageRouteName","initialSubMenuName","initialMainMenuItemIndex","initialSubMenuIsOpen","initialSelectedSubMenuItemIndex","initialSubMenuItemSelected","createNavbarItem","selectedMainMenuItemIndex","onMainMenuItemClick","setMenuIsOpen","useLocation","getIntialNavbarListStateValues","useState","setSelectedMainMenuItemIndex","subMenuItemSelected","setSubMenuItemSelected","setSelectedSubMenuItemIndex","setSelectedSubMenuName","setSubMenuIsOpen","navigate","useNavigate","unselectMainMenuItem","closeSubMenu","closeMenu","carryOutItemAction","itemJustSelectedIndex","doesntHaveSubMenu","itemInSubMenuIsSelected","openSubMenu","selectSubMenuItem","alignItems","marginBottom","Divider","mx","Toast","useContext","ToastContext","menuIsOpen","isScreenSmall","useScreenIsSmall","BASE_URL","HttpConst","LOGOUT_URL","Http","url","successFunc","localStorage","removeItem","INFO_LOGIN_ROUTE","errorFunc","err","console","log","error","dontShowOnBigScreen","links","sidebar","SwipeableDrawer","variant","open","onClose","onOpen","NAVBAR_WIDTH","showLogo","onSidebarMenuButtonClick","Drawer","ModalProps","keepMounted","screenIsSmall","getDimenInNo","paddingBottom","marginLeft","height","themeWithSpecificBrkpoints","createTheme","breakpoints","values","xs","sm","md","lg","xl","globalData","GlobalDataContext","permissions","PermissionsContext","dataIsRefreshing","DataIsRefreshingContext","refreshData","RefreshDataContext","lastDataRefreshDisplay","Date","getFullYear","lastDataRefreshTime","format","subscriptionStatusTextStyle","fontWeight","marginRight","TRADER_APP_ROUTE","TRADER_SUBSCRIBE_NOW_ROUTE","ThemeProvider","theme","Grid","container","paddingTop","justifyContent","canRefreshAccount","text","userHasPaid","size","ReactGA","getUserId","disabled","showDataStatusBar","heading","dontShowSelector","H4","accounts","getTradeAccountNames","currentAccountName","getCurrentTradeAccountName","onCurrentAccountChange","CurrentAccountChangerContext","value","onChange","getTradeAccountIdOf","target","options","placeholder","title","selectorOptions","onSelectorSelectedOptionChange","paddingLeft","paddingRight","H6","option","data","xAxisKey","yAxisKey","tooltipName","ResponsiveContainer","AreaChart","margin","top","right","left","bottom","CartesianGrid","vertical","strokeDasharray","id","x1","y1","x2","y2","offset","stopColor","stopOpacity","XAxis","axisLine","tickLine","tick","dataKey","YAxis","Tooltip","Area","type","stroke","strokeWidth","fillOpacity","barSize","Legend","Bar","opacity","initialGraphDataStateValues","initialXAxisKeyStateValue","outline","headerIsOutside","headerPaddingTop","testId","props","graphVariant","graphData","setGraphData","currentXAxisKey","setcurrentXAxisKey","useEffect","assign","border","borderRadius","getConditionalStyles","conditionalStyle","conditionalStylesArray","Array","isArray","push","stylesArray","condition","mergeObject","objArray","lastObj","pop","formatHeaders","headers","processHeaders","headerRowToAdd","headerItem","headerRows","headerItems","processMultipleHeaders","rows","bodyColumnConditionalStyle","headerStyle","headerRowConditionalStyle","headerColumnConditionalStyle","headerColumnTextConditionalStyle","headerTextStyle","headerRowTextConditionalStyle","bodyStyle","bodyRowConditionalStyle","TableContainer","Paper","boxShadow","TableHead","rowi","conditionalRowStyle","conditionalRowTextStyle","TableRow","coli","conditionalColumnTextStyle","conditionalColumnStyle","headerCellStyle","textStyle","globalStyle","TableCell","textAlign","colSpan","BP","TableBody","row","conditionalRowStyles","cell","conditionalColumnStyles","bodyCellStyle","align","calcFunc","updateComponentCalcState","afterCalcFunc","hasLoaded","accountData","getCurrentTradeAccountData","newCalc","defaultAccountReturnsGraphItem","cardsCalc","totalBalance","noOfTrades","winRate","absGain","statsCalc","aveProfit","aveLoss","longsWonPercent","noOfLongsWon","noOfLongs","shortsWonPercent","noOfShortsWon","noOfShorts","bestTrade","worstTrade","highestBalance","aveRRR","profitFactor","expectancy","lots","commissions","weeklySummaryCalc","accountReturnsGraphCalc","todayGraphCalc","thisWeekGraphCalc","thisMonthGraphCalc","thisYearGraphCalc","allTimeGraphCalc","content","backgroundColor","H5","balance","calc","formatMoney","toString","formatPercent","objObjArrayTo2dp","createCell","StatsTableCell","stats","to2dpstring","createRows","columnIndex","background","resultInColor","result","summary","date","trades","defaultOverviewCalc","overviewCalc","setOverviewCalc","useRecalc","overviewCalculations","defaultGraphCalc","cashGraphCalc","gainsGraphCalc","defaultCashAndGainsCalc","cashAndGainsCalc","setCashAndGainsCalc","cashAndGainsCalculations","calcs","pair","commission","swap","expensesTableCalc","defaultExpensesCalc","expensesCalc","setExpensesCalc","setRows","expensesCalculations","newExpensesCalc","long","short","rrr","refinedData","objArrayTo2dp","defaultLongShortComparisonTableCalcItem","longShortComparisonGraphCalc","label","longBalanceGraphCalc","shortBalanceGraphCalc","longShortComparisonTableCalc","defaultLongShortAnalysisCalc","longShortAnalysisCalc","setLongShortAnalysisCalc","longShortAnalysisCalculations","noWithPercent","n","percent","noOfTradesOnPair","noOfProfitableTradesOnPair","profitableTradesOnPairPercent","noOfLosingTradesOnPair","losingTradesOnPairPercent","noOfShortsOnPair","shortsOnPairPercent","noOfLongsOnPair","longsOnPairPercent","to2dp","noOfTpOnPair","tpOnPairPercent","noOfSlOnPair","slOnPairPercent","headerObj","obj","defaultPairsAnalysisCalc","aveReturnsPerPairGraphCalc","aveRrrPerPairGraphCalc","pairsAnalysisTableCalc","pairsAnalysisCalc","setPairsAnalysisCalc","pairsAnalysisCalculations","returnsPerPeriodGraphCalc","daily","day","monthly","month","yearly","defaultPeriodAnalysisCalc","periodAnalysisCalc","setPeriodAnalysisCalc","periodAnalysisCalculations","year","openHour","duration","hour","timeAnalysisGraphCalc","tradeDurationTableCalc","openHourTableCalc","defaultTradingTimeAnalysisCalc","tradingTimeAnalysisCalc","setTradingTimeAnalysisCalc","tradingTimeAnalysisCalculations","email","INFO_CHANGE_PASSWORD_ROUTE","href","rel","firstRequest","followUpNo","TIME_TO_WAIT_BEFORE_NEXT_PENDING_REQUEST","MAX_NO_OF_FOLLOW_UP_REQUESTS","deleteAccount","userId","thenFunc","DELETE_ACCOUNT_URL","setTimeout","resp","dialogIsOpen","setDialogIsOpen","accountIsDeleting","setAccountIsDeleting","okButtonColor","okButtonContent","okButtonProps","onOkClick","onCancelClick","showCancelButton","display","userCanAddAccount","TRADER_ADD_ACCOUNT_ROUTE","noOfAccounts","maxAccounts","removeAccount","accountId","removeAccountFromData","REMOVE_TRADING_ACCOUNT_URL","defaultAccountData","deposits","withdrawals","userIsOnFreeTrial","userIsSubscribed","accountToDelete","setAccountToDelete","isDeleting","setIsDeleting","maxNoOfAccounts","ConfigConst","account","cancelSubscription","onSubscriptionCancel","CANCEL_SUBSCRIPTION_URL","FreeTrialInfo","daysLeftBeforeFreeTrialExpires","includes","subscriptionPlan","subscriptionIsCancelling","setSubscriptionIsCancelling","SubscriptionCancelContext","plan","removeAccountFromGlobalData","getUserEmail","getAllAccounts","getUserSubscriptionPlan","getDaysLeftBeforeFreeTrialExpires","canSubmit","errors","canAddAccount","baseCanSubmit","submitValuesSuccessFunc","setNonFieldError","onAccountAdded","method","submitValuesErrorFunc","setBrokerNotSupportedProcessNeeded","setErrors","setSuccessMsg","buildErrors","response","login","server","password","platform","serverErrorMsg","toBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","onerror","platforms","submitValues","brokerNotSupportedProcessNeeded","formInitialValues","brokerInfo","initialValues","validationSchema","Yup","required","integer","moreThan","positive","typeError","FormMsg","min","test","toLowerCase","oneOf","context","parent","onSubmit","processedValues","setSubmitting","setInfoMsg","fileName","then","brokerInfoContent","brokerInfoName","catch","underTitleComponent","isSubmitting","submitForm","accept","makeFollowUpRequests","PENDING_ADD_TRADING_ACCOUNT_URL","networkErrorFunc","timeoutErrorFunc","config","ADD_TRADING_ACCOUNT_URL","RECORD_NEW_SUBSCRIPTION_URL","amount","React","ref","abortSubscription","onSubscriptionFinished","onSubscriptionRecordFailed","baseConfig","public_key","payment_plan","planId","tx_ref","now","currency","payment_options","customer","phonenumber","customizations","description","logo","handleFlutterPayment","useFlutterwave","callback","saveSubscriptionStatus","postActionsPending","closePaymentModal","others","txRef","MONTHLY_PLAN_PRICE","YEARLY_PLAN_PRICE","WBA_PLAN_PRICE","userHasPaidOnce","referrerUsername","subscribing","setSubscribing","onNewSubscription","NewSubscriptionContext","monthlySubscriptionTrigger","yearlySubscriptionTrigger","wbaSubscriptionTrigger","subscriptionIsOngoing","AFFILIATE_WBA_USERNAME","navbar","defaultPlanIndex","plans","price","WBA_PLAN_PER_MONTH_PRICE","subscribeButtonContent","subscribeButtonEnabled","subscribeButtonAction","current","click","YEARLY_PLAN_PER_MONTH_PRICE","cloneObject","JSON","parse","stringify","GlobalData","rawData","this","initialEmptyRawData","bind","getCurrentTradeAccountId","changeCurrentTradeAccountId","numberOfAccounts","subscribeUser","unsubscribeUser","user_data","trade_data","current_account_id","parseInt","accountIds","accountNames","forEach","newCurrentAccountId","rawDataClone","currentAccountId","accountName","newAccounts","filter","newRawData","is_subscribed","has_paid","subscription_plan","last_data_refresh_time","ds_username","days_left_before_free_trial_expires","referrer_username","on_free","hasPaid","logins_after_ask","current_feedback_question","defaultPermissions","canCreateNote","canModifyNotes","baseSetGlobalData","setPermissions","GET_INIT_DATA_URL","setGlobalData","arg","permissionFuncs","funcName","createPermissions","setDataIsRefreshing","PENDING_REFRESH_DATA_URL","newGlobalData","REFRESH_DATA_URL","makeFollowUpSubscriptionRequests","Notebook","lazy","Journal","createContext","pageMapConfig","keepPageLoading","addAccountComponentConfig","settingsComponentConfig","notebookProps","pageStillLoadingComponent","TRADER_PAIRS_ANALYSIS_ROUTE","TRADER_TIME_ANALYSIS_ROUTE","TRADER_PERIOD_ANALYSIS_ROUTE","TRADER_EXPENSES_ROUTE","TRADER_NOTES_ROUTE","addAccountComponent","getReferrerUsername","subscribeNowComponent","subscribeNowRouteComponent","to","noAccounts","useGlobalData","setKeepPageLoading","noteData","useNoteData","Provider","refreshAccountData","info","pageMap","Suspense","fallback","path","element","columns","field","renderHeader","trade","openTime","closeTime","toUpperCase","fee","profit","profitLoss","pageSize","components","Toolbar","GridToolbar","Note","lastEdited","isSaving","saveQueue","last_edited","httpMethod","SAVE_NOTE_URL","UPDATE_NOTE_URL","latestChangeToSave","_save","toISOString","toNoteData","DELETE_NOTE_URL","toDateString","noteItem","active","removeNoteFromList","noteIndex","ListItemText","primary","secondary","lastEditedToString","CircularProgress","IconButton","delete","Delete","noteItems","onNoteSelect","isEditing","listContainerRef","useRef","Slide","direction","editor","getPluginType","MARK_BOLD","FormatBold","tooltip","MARK_ITALIC","FormatItalic","onMouseDown","addMark","MARK_UNDERLINE","FormatUnderlined","MARK_STRIKETHROUGH","FormatStrikethrough","MARK_SUPERSCRIPT","clear","Superscript","MARK_SUBSCRIPT","Subscript","FormatAlignLeft","FormatAlignCenter","FormatAlignRight","FormatAlignJustify","noMoreRedos","history","redos","noMoreUndos","undos","Undo","undo","Redo","redo","ELEMENT_UL","FormatListBulleted","ELEMENT_OL","FormatListNumbered","createHeaderRowNode","headerRow","colNo","createRow","tableNode","isElement","rowNo","autoFocus","setColumns","setNewValueIfValidNumber","newValue","setValue","num","isNaN","validNumber","createTableNode","newParagraphNode","ELEMENT_PARAGRAPH","Transforms","TableView","imageUrl","setImageUrl","setResolve","closeDialog","Image","getImageUrl","prevResolve","setUrl","Link","getLinkUrl","prevFunc","ELEMENT_H1","LooksOne","ELEMENT_H2","LooksTwo","ELEMENT_H3","Looks3","ELEMENT_H4","Looks4","ELEMENT_H5","Looks5","ELEMENT_H6","Looks6","ELEMENT_BLOCKQUOTE","FormatQuote","usePlateEditorState","attributes","textDecoration","onMouseOver","createPlugins","createParagraphPlugin","createBlockquotePlugin","createHeadingPlugin","createListPlugin","createResetNodePlugin","createSoftBreakPlugin","createExitBreakPlugin","createTablePlugin","createLinkPlugin","createBoldPlugin","createItalicPlugin","createUnderlinePlugin","createStrikethroughPlugin","createSuperscriptPlugin","createSubscriptPlugin","createAlignPlugin","inject","validTypes","createImagePlugin","createPlateUI","ELEMENT_LINK","LinkElement","ELEMENT_TD","TdElement","setTitle","Input","note","setContent","plugins","editableProps","showAllNotes","createNewNote","currentNoteIndex","setCurrentNoteIndex","setIsEditing","notesHasLoaded","setNotesHasLoaded","setNoteItems","setEditorValue","usePlateStore","set","rawNoteData","hasBeenSaved","newNoteItems","newNote","save","GET_ALL_NOTES_URL","setNoteData","LOGIN_ROUTE","handleRequest","status","unauthorizedRedirectRoute","BaseHttp","get","put","post","initNavigate","toFixed","parseFloat","objArrayKey","objKey","data2dp","cloneDeep","skey","key","onKeyPress","today","accData","cloneObj","sameDay","graphCalc","sameWeek","sameMonth","sameYear","initialDeposit","tradeNo","balanceCalc","tradesIndex","withdrawalsIndex","depositsIndex","currentBalance","currentDeposit","currentWithdrawal","currentTrade","getDatePos","depositPos","withdrawalPos","depositIsEarliest","addTradeToBalance","decreaseWithdrawalFromBalance","addDepositToBalance","deposit","withdrawal","depositDate","FAR_IN_THE_FUTURE_YEAR","time","withdrawalDate","tradeDate","posTriple","UNSET","posAlreadySet","pos","sameDate","date1","date2","todayGainsPercent","gainsPercent","thisWeekGainsPercent","thisMonthGainsPercent","thisYearGainsPercent","allTimeGainsPercent","gain","totalNoOfLongs","noOfLongsFromTradeArray","noOfLongsFromAccountData","totalNoOfShorts","noOfShortsFromTradesArray","noOfShortsFromAccountData","totalNoOfLongsWon","totalNoOfShortsWon","totalNoOfWinningTrades","totalNoOfWinningTradesFromTradesArray","totalNoOfWinningTradesFromAccountData","noOfWinningTrades","noOfTradess","calcExpensesPerPair","expensesPerPair","totalLongsProfitLoss","totalProfitLoss","totalShortsProfitLoss","cummulativeResult","aveLongsProfitLoss","longsProfit","aveShortsProfitLoss","shortsProfit","longsRrr","shortsRrr","periodCondition","cummulativeProfitLoss","totalDeposits","totalWithdrawals","totalExpenses","expenses","totalProfit","loss","totalLoss","noOfLosingTrades","totalNoOfLosingTrades","balanceData","Infinity","winrate","totalLots","totalCommissions","getWeekDates","dates","FRIDAY","getDay","dayToAdd","SUNDAY","setDate","getDate","MONDAY","dateToString","monthMap","getMonth","dateToTradeDateFormat","monthStr","dayStr","extractDateStr","dateStr","calculations","weekDates","weekDate","strDate","calcGraphData","perPairData","aveReturns","calcPerPairData","pairToTradesMap","groupTradesByPair","totalNoOfTrades","loseRate","lossTrades","tpOnPair","closePrice","takeProfit","slOnPair","stopLoss","tradesPerPair","dailyReturnsPerPeriod","returnsPerPeriod","TUESDAY","WEDNESDAY","THURSDAY","calculateReturnsPerPeriod","dayNoToString","monthlyReturnsPerPeriod","JANUARY","FEBRUARY","MARCH","APRIL","MAY","JUNE","JULY","AUGUST","SEPTEMBER","OCTOBER","NOVEMBER","DECEMBER","monthNoToString","yearlyReturnsPerPeriodGraphCalc","formatTime","rawTimeStr","openHourMap","tradeHourToResultMap","durationStr","openTimeStr","closeTimeStr","openTimeDateStr","openTimeTimeStr","openTimeYearStr","openTimeMonthStr","openTimeDayStr","openTimeHourStr","openTimeMinutesStr","closeTimeDateStr","closeTimeTimeStr","closeTimeYearStr","closeTimeMonthStr","closeTimeDayStr","closeTimeHourStr","closeTimeMinutesStr","closeTimeDate","setHours","setMinutes","openTimeDate","totalMins","getTime","minutes","hours","totalDays","totalWeeks","totalMonths","days","weeks","months","years","durationInString","unit","durationMap","FAR_IN_THE_PAST_YEAR","otherDate","lowerBound","setSeconds","setMilliseconds","getLowerBound","upperBound","getUpperBound","dateFallsWithinRange","randomNumber","max","Math","random","randomInt","round","mergeArrays","newArray","arrays","array","sum","arr","sumObjArray","objs","approximate"],"sourceRoot":""}